const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NurseCaseManagement-Ugog1rpC.js","assets/user-x-Ca6qzlEV.js","assets/format-B6mXiQzZ.js","assets/DocManagement-DEZRyCYP.js","assets/building-DYKYV5F4.js","assets/Pharmasist-Vd_kFeGD.js","assets/CaseTransfer-BylRSwFk.js"])))=>i.map(i=>d[i]);
function zse(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pC={exports:{}},Eg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5;function qse(){if(S5)return Eg;S5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Eg.Fragment=e,Eg.jsx=n,Eg.jsxs=n,Eg}var T5;function Wse(){return T5||(T5=1,pC.exports=qse()),pC.exports}var p=Wse(),mC={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5;function Gse(){if(A5)return Mt;A5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,v={};function b(W,ce,z){this.props=W,this.context=ce,this.refs=v,this.updater=z||y}b.prototype.isReactComponent={},b.prototype.setState=function(W,ce){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ce,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function E(){}E.prototype=b.prototype;function N(W,ce,z){this.props=W,this.context=ce,this.refs=v,this.updater=z||y}var C=N.prototype=new E;C.constructor=N,_(C,b.prototype),C.isPureReactComponent=!0;var k=Array.isArray,O={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function A(W,ce,z,Y,K,J){return z=J.ref,{$$typeof:t,type:W,key:ce,ref:z!==void 0?z:null,props:J}}function R(W,ce){return A(W.type,ce,void 0,void 0,void 0,W.props)}function D(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var ce={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(z){return ce[z]})}var j=/\/+/g;function B(W,ce){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):ce.toString(36)}function F(){}function re(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(F,F):(W.status="pending",W.then(function(ce){W.status==="pending"&&(W.status="fulfilled",W.value=ce)},function(ce){W.status==="pending"&&(W.status="rejected",W.reason=ce)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function q(W,ce,z,Y,K){var J=typeof W;(J==="undefined"||J==="boolean")&&(W=null);var fe=!1;if(W===null)fe=!0;else switch(J){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(W.$$typeof){case t:case e:fe=!0;break;case d:return fe=W._init,q(fe(W._payload),ce,z,Y,K)}}if(fe)return K=K(W),fe=Y===""?"."+B(W,0):Y,k(K)?(z="",fe!=null&&(z=fe.replace(j,"$&/")+"/"),q(K,ce,z,"",function(de){return de})):K!=null&&(D(K)&&(K=R(K,z+(K.key==null||W&&W.key===K.key?"":(""+K.key).replace(j,"$&/")+"/")+fe)),ce.push(K)),1;fe=0;var pe=Y===""?".":Y+":";if(k(W))for(var ye=0;ye<W.length;ye++)Y=W[ye],J=pe+B(Y,ye),fe+=q(Y,ce,z,J,K);else if(ye=g(W),typeof ye=="function")for(W=ye.call(W),ye=0;!(Y=W.next()).done;)Y=Y.value,J=pe+B(Y,ye++),fe+=q(Y,ce,z,J,K);else if(J==="object"){if(typeof W.then=="function")return q(re(W),ce,z,Y,K);throw ce=String(W),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return fe}function V(W,ce,z){if(W==null)return W;var Y=[],K=0;return q(W,Y,"","",function(J){return ce.call(z,J,K++)}),Y}function X(W){if(W._status===-1){var ce=W._result;ce=ce(),ce.then(function(z){(W._status===0||W._status===-1)&&(W._status=1,W._result=z)},function(z){(W._status===0||W._status===-1)&&(W._status=2,W._result=z)}),W._status===-1&&(W._status=0,W._result=ce)}if(W._status===1)return W._result.default;throw W._result}var Q=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function ie(){}return Mt.Children={map:V,forEach:function(W,ce,z){V(W,function(){ce.apply(this,arguments)},z)},count:function(W){var ce=0;return V(W,function(){ce++}),ce},toArray:function(W){return V(W,function(ce){return ce})||[]},only:function(W){if(!D(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Mt.Component=b,Mt.Fragment=n,Mt.Profiler=i,Mt.PureComponent=N,Mt.StrictMode=r,Mt.Suspense=l,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Mt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Mt.cache=function(W){return function(){return W.apply(null,arguments)}},Mt.cloneElement=function(W,ce,z){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Y=_({},W.props),K=W.key,J=void 0;if(ce!=null)for(fe in ce.ref!==void 0&&(J=void 0),ce.key!==void 0&&(K=""+ce.key),ce)!I.call(ce,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ce.ref===void 0||(Y[fe]=ce[fe]);var fe=arguments.length-2;if(fe===1)Y.children=z;else if(1<fe){for(var pe=Array(fe),ye=0;ye<fe;ye++)pe[ye]=arguments[ye+2];Y.children=pe}return A(W.type,K,void 0,void 0,J,Y)},Mt.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},Mt.createElement=function(W,ce,z){var Y,K={},J=null;if(ce!=null)for(Y in ce.key!==void 0&&(J=""+ce.key),ce)I.call(ce,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(K[Y]=ce[Y]);var fe=arguments.length-2;if(fe===1)K.children=z;else if(1<fe){for(var pe=Array(fe),ye=0;ye<fe;ye++)pe[ye]=arguments[ye+2];K.children=pe}if(W&&W.defaultProps)for(Y in fe=W.defaultProps,fe)K[Y]===void 0&&(K[Y]=fe[Y]);return A(W,J,void 0,void 0,null,K)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(W){return{$$typeof:o,render:W}},Mt.isValidElement=D,Mt.lazy=function(W){return{$$typeof:d,_payload:{_status:-1,_result:W},_init:X}},Mt.memo=function(W,ce){return{$$typeof:u,type:W,compare:ce===void 0?null:ce}},Mt.startTransition=function(W){var ce=O.T,z={};O.T=z;try{var Y=W(),K=O.S;K!==null&&K(z,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ie,Q)}catch(J){Q(J)}finally{O.T=ce}},Mt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Mt.use=function(W){return O.H.use(W)},Mt.useActionState=function(W,ce,z){return O.H.useActionState(W,ce,z)},Mt.useCallback=function(W,ce){return O.H.useCallback(W,ce)},Mt.useContext=function(W){return O.H.useContext(W)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(W,ce){return O.H.useDeferredValue(W,ce)},Mt.useEffect=function(W,ce){return O.H.useEffect(W,ce)},Mt.useId=function(){return O.H.useId()},Mt.useImperativeHandle=function(W,ce,z){return O.H.useImperativeHandle(W,ce,z)},Mt.useInsertionEffect=function(W,ce){return O.H.useInsertionEffect(W,ce)},Mt.useLayoutEffect=function(W,ce){return O.H.useLayoutEffect(W,ce)},Mt.useMemo=function(W,ce){return O.H.useMemo(W,ce)},Mt.useOptimistic=function(W,ce){return O.H.useOptimistic(W,ce)},Mt.useReducer=function(W,ce,z){return O.H.useReducer(W,ce,z)},Mt.useRef=function(W){return O.H.useRef(W)},Mt.useState=function(W){return O.H.useState(W)},Mt.useSyncExternalStore=function(W,ce,z){return O.H.useSyncExternalStore(W,ce,z)},Mt.useTransition=function(){return O.H.useTransition()},Mt.version="19.0.0",Mt}var C5;function hk(){return C5||(C5=1,mC.exports=Gse()),mC.exports}var T=hk();const ae=Rn(T),Cv=zse({__proto__:null,default:ae},[T]);var gC={exports:{}},Sg={},vC={exports:{}},yC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N5;function Kse(){return N5||(N5=1,function(t){function e(V,X){var Q=V.length;V.push(X);e:for(;0<Q;){var ie=Q-1>>>1,W=V[ie];if(0<i(W,X))V[ie]=X,V[Q]=W,Q=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],Q=V.pop();if(Q!==X){V[0]=Q;e:for(var ie=0,W=V.length,ce=W>>>1;ie<ce;){var z=2*(ie+1)-1,Y=V[z],K=z+1,J=V[K];if(0>i(Y,Q))K<W&&0>i(J,Y)?(V[ie]=J,V[K]=Q,ie=K):(V[ie]=Y,V[z]=Q,ie=z);else if(K<W&&0>i(J,Q))V[ie]=J,V[K]=Q,ie=K;else break e}}return X}function i(V,X){var Q=V.sortIndex-X.sortIndex;return Q!==0?Q:V.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,g=3,y=!1,_=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function C(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function k(V){if(v=!1,C(V),!_)if(n(l)!==null)_=!0,re();else{var X=n(u);X!==null&&q(k,X.startTime-V)}}var O=!1,I=-1,A=5,R=-1;function D(){return!(t.unstable_now()-R<A)}function L(){if(O){var V=t.unstable_now();R=V;var X=!0;try{e:{_=!1,v&&(v=!1,E(I),I=-1),y=!0;var Q=g;try{t:{for(C(V),h=n(l);h!==null&&!(h.expirationTime>V&&D());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,g=h.priorityLevel;var W=ie(h.expirationTime<=V);if(V=t.unstable_now(),typeof W=="function"){h.callback=W,C(V),X=!0;break t}h===n(l)&&r(l),C(V)}else r(l);h=n(l)}if(h!==null)X=!0;else{var ce=n(u);ce!==null&&q(k,ce.startTime-V),X=!1}}break e}finally{h=null,g=Q,y=!1}X=void 0}}finally{X?j():O=!1}}}var j;if(typeof N=="function")j=function(){N(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=L,j=function(){F.postMessage(null)}}else j=function(){b(L,0)};function re(){O||(O=!0,j())}function q(V,X){I=b(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,re())},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var Q=g;g=X;try{return V()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=g;g=V;try{return X()}finally{g=Q}},t.unstable_scheduleCallback=function(V,X,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Q+W,V={id:d++,callback:X,priorityLevel:V,startTime:Q,expirationTime:W,sortIndex:-1},Q>ie?(V.sortIndex=Q,e(u,V),n(l)===null&&V===n(u)&&(v?(E(I),I=-1):v=!0,q(k,Q-ie))):(V.sortIndex=W,e(l,V),_||y||(_=!0,re())),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var X=g;return function(){var Q=g;g=X;try{return V.apply(this,arguments)}finally{g=Q}}}}(yC)),yC}var O5;function Yse(){return O5||(O5=1,vC.exports=Kse()),vC.exports}var xC={exports:{}},Wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P5;function Xse(){if(P5)return Wi;P5=1;var t=hk();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wi.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,d)},Wi.flushSync=function(l){var u=s.T,d=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=d,r.d.f()}},Wi.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Wi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Wi.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Wi.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Wi.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Wi.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Wi.requestFormReset=function(l){r.d.r(l)},Wi.unstable_batchedUpdates=function(l,u){return l(u)},Wi.useFormState=function(l,u,d){return s.H.useFormState(l,u,d)},Wi.useFormStatus=function(){return s.H.useHostTransitionStatus()},Wi.version="19.0.0",Wi}var R5;function dW(){if(R5)return xC.exports;R5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xC.exports=Xse(),xC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I5;function Qse(){if(I5)return Sg;I5=1;var t=Yse(),e=hk(),n=dW();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function I(c){return c===null||typeof c!="object"?null:(c=O&&c[O]||c["@@iterator"],typeof c=="function"?c:null)}var A=Symbol.for("react.client.reference");function R(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===A?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case o:return"Portal";case d:return"Profiler";case u:return"StrictMode";case v:return"Suspense";case b:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Provider";case g:return(c._context.displayName||"Context")+".Consumer";case _:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case E:return f=c.displayName||null,f!==null?f:R(c.type)||"Memo";case N:f=c._payload,c=c._init;try{return R(c(f))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,j,B;function F(c){if(j===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);j=f&&f[1]||"",B=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+c+B}var re=!1;function q(c,f){if(!c||re)return"";re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(f){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Ie){var Ae=Ie}Reflect.construct(c,[],Ve)}else{try{Ve.call()}catch(Ie){Ae=Ie}c.call(Ve.prototype)}}else{try{throw Error()}catch(Ie){Ae=Ie}(Ve=c())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Ie){if(Ie&&Ae&&typeof Ie.stack=="string")return[Ie.stack,Ae.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=x.DetermineComponentFrameRoot(),H=P[0],Z=P[1];if(H&&Z){var ue=H.split(`
`),ve=Z.split(`
`);for(S=x=0;x<ue.length&&!ue[x].includes("DetermineComponentFrameRoot");)x++;for(;S<ve.length&&!ve[S].includes("DetermineComponentFrameRoot");)S++;if(x===ue.length||S===ve.length)for(x=ue.length-1,S=ve.length-1;1<=x&&0<=S&&ue[x]!==ve[S];)S--;for(;1<=x&&0<=S;x--,S--)if(ue[x]!==ve[S]){if(x!==1||S!==1)do if(x--,S--,0>S||ue[x]!==ve[S]){var ke=`
`+ue[x].replace(" at new "," at ");return c.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",c.displayName)),ke}while(1<=x&&0<=S);break}}}finally{re=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?F(m):""}function V(c){switch(c.tag){case 26:case 27:case 5:return F(c.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return c=q(c.type,!1),c;case 11:return c=q(c.type.render,!1),c;case 1:return c=q(c.type,!0),c;default:return""}}function X(c){try{var f="";do f+=V(c),c=c.return;while(c);return f}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Q(c){var f=c,m=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(m=f.return),c=f.return;while(c)}return f.tag===3?m:null}function ie(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function W(c){if(Q(c)!==c)throw Error(r(188))}function ce(c){var f=c.alternate;if(!f){if(f=Q(c),f===null)throw Error(r(188));return f!==c?null:c}for(var m=c,x=f;;){var S=m.return;if(S===null)break;var P=S.alternate;if(P===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===P.child){for(P=S.child;P;){if(P===m)return W(S),c;if(P===x)return W(S),f;P=P.sibling}throw Error(r(188))}if(m.return!==x.return)m=S,x=P;else{for(var H=!1,Z=S.child;Z;){if(Z===m){H=!0,m=S,x=P;break}if(Z===x){H=!0,x=S,m=P;break}Z=Z.sibling}if(!H){for(Z=P.child;Z;){if(Z===m){H=!0,m=P,x=S;break}if(Z===x){H=!0,x=P,m=S;break}Z=Z.sibling}if(!H)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:f}function z(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=z(c),f!==null)return f;c=c.sibling}return null}var Y=Array.isArray,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function ye(c){return{current:c}}function de(c){0>pe||(c.current=fe[pe],fe[pe]=null,pe--)}function he(c,f){pe++,fe[pe]=c.current,c.current=f}var Ce=ye(null),me=ye(null),Ue=ye(null),$e=ye(null);function Je(c,f){switch(he(Ue,f),he(me,c),he(Ce,null),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?JF(f):0;break;default:if(c=c===8?f.parentNode:f,f=c.tagName,c=c.namespaceURI)c=JF(c),f=e5(c,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}de(Ce),he(Ce,f)}function it(){de(Ce),de(me),de(Ue)}function Fe(c){c.memoizedState!==null&&he($e,c);var f=Ce.current,m=e5(f,c.type);f!==m&&(he(me,c),he(Ce,m))}function Rt(c){me.current===c&&(de(Ce),de(me)),$e.current===c&&(de($e),yg._currentValue=J)}var Ft=Object.prototype.hasOwnProperty,nr=t.unstable_scheduleCallback,cr=t.unstable_cancelCallback,zi=t.unstable_shouldYield,vr=t.unstable_requestPaint,Wt=t.unstable_now,Ci=t.unstable_getCurrentPriorityLevel,Hn=t.unstable_ImmediatePriority,Mn=t.unstable_UserBlockingPriority,Ir=t.unstable_NormalPriority,Tc=t.unstable_LowPriority,Ia=t.unstable_IdlePriority,Nr=t.log,is=t.unstable_setDisableYieldValue,Da=null,Or=null;function yo(c){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Da,c,void 0,(c.current.flags&128)===128)}catch{}}function xa(c){if(typeof Nr=="function"&&is(c),Or&&typeof Or.setStrictMode=="function")try{Or.setStrictMode(Da,c)}catch{}}var qr=Math.clz32?Math.clz32:et,xo=Math.log,ol=Math.LN2;function et(c){return c>>>=0,c===0?32:31-(xo(c)/ol|0)|0}var qe=128,It=4194304;function _t(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function _n(c,f){var m=c.pendingLanes;if(m===0)return 0;var x=0,S=c.suspendedLanes,P=c.pingedLanes,H=c.warmLanes;c=c.finishedLanes!==0;var Z=m&134217727;return Z!==0?(m=Z&~S,m!==0?x=_t(m):(P&=Z,P!==0?x=_t(P):c||(H=Z&~H,H!==0&&(x=_t(H))))):(Z=m&~S,Z!==0?x=_t(Z):P!==0?x=_t(P):c||(H=m&~H,H!==0&&(x=_t(H)))),x===0?0:f!==0&&f!==x&&(f&S)===0&&(S=x&-x,H=f&-f,S>=H||S===32&&(H&4194176)!==0)?f:x}function zn(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function oi(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(){var c=qe;return qe<<=1,(qe&4194176)===0&&(qe=128),c}function qn(){var c=It;return It<<=1,(It&62914560)===0&&(It=4194304),c}function hr(c){for(var f=[],m=0;31>m;m++)f.push(c);return f}function pn(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ac(c,f,m,x,S,P){var H=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var Z=c.entanglements,ue=c.expirationTimes,ve=c.hiddenUpdates;for(m=H&~m;0<m;){var ke=31-qr(m),Ve=1<<ke;Z[ke]=0,ue[ke]=-1;var Ae=ve[ke];if(Ae!==null)for(ve[ke]=null,ke=0;ke<Ae.length;ke++){var Ie=Ae[ke];Ie!==null&&(Ie.lane&=-536870913)}m&=~Ve}x!==0&&ba(c,x,0),P!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=P&~(H&~f))}function ba(c,f,m){c.pendingLanes|=f,c.suspendedLanes&=~f;var x=31-qr(f);c.entangledLanes|=f,c.entanglements[x]=c.entanglements[x]|1073741824|m&4194218}function as(c,f){var m=c.entangledLanes|=f;for(c=c.entanglements;m;){var x=31-qr(m),S=1<<x;S&f|c[x]&f&&(c[x]|=f),m&=~S}}function Cc(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function hh(){var c=K.p;return c!==0?c:(c=window.event,c===void 0?32:y5(c.type))}function G(c,f){var m=K.p;try{return K.p=c,f()}finally{K.p=m}}var se=Math.random().toString(36).slice(2),ee="__reactFiber$"+se,ne="__reactProps$"+se,oe="__reactContainer$"+se,le="__reactEvents$"+se,Ee="__reactListeners$"+se,Oe="__reactHandles$"+se,_e="__reactResources$"+se,Se="__reactMarker$"+se;function Te(c){delete c[ee],delete c[ne],delete c[le],delete c[Ee],delete c[Oe]}function Be(c){var f=c[ee];if(f)return f;for(var m=c.parentNode;m;){if(f=m[oe]||m[ee]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(c=r5(c);c!==null;){if(m=c[ee])return m;c=r5(c)}return f}c=m,m=c.parentNode}return null}function Ge(c){if(c=c[ee]||c[oe]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function rt(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function He(c){var f=c[_e];return f||(f=c[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function ze(c){c[Se]=!0}var Tt=new Set,An={};function Gt(c,f){wn(c,f),wn(c+"Capture",f)}function wn(c,f){for(An[c]=f,c=0;c<f.length;c++)Tt.add(f[c])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ls={},ka={};function Nc(c){return Ft.call(ka,c)?!0:Ft.call(Ls,c)?!1:ll.test(c)?ka[c]=!0:(Ls[c]=!0,!1)}function li(c,f,m){if(Nc(f))if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var x=f.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+m)}}function Oc(c,f,m){if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+m)}}function ss(c,f,m,x){if(x===null)c.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(f,m,""+x)}}function ra(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function kx(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function xT(c){var f=kx(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),x=""+c[f];if(!c.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,P=m.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return S.call(this)},set:function(H){x=""+H,P.call(this,H)}}),Object.defineProperty(c,f,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(H){x=""+H},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function xf(c){c._valueTracker||(c._valueTracker=xT(c))}function N0(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var m=f.getValue(),x="";return c&&(x=kx(c)?c.checked?"true":"false":c.value),c=x,c!==m?(f.setValue(c),!0):!1}function ph(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var cl=/[\n"\\]/g;function xr(c){return c.replace(cl,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Pc(c,f,m,x,S,P,H,Z){c.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?c.type=H:c.removeAttribute("type"),f!=null?H==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+ra(f)):c.value!==""+ra(f)&&(c.value=""+ra(f)):H!=="submit"&&H!=="reset"||c.removeAttribute("value"),f!=null?mh(c,H,ra(f)):m!=null?mh(c,H,ra(m)):x!=null&&c.removeAttribute("value"),S==null&&P!=null&&(c.defaultChecked=!!P),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?c.name=""+ra(Z):c.removeAttribute("name")}function bf(c,f,m,x,S,P,H,Z){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(c.type=P),f!=null||m!=null){if(!(P!=="submit"&&P!=="reset"||f!=null))return;m=m!=null?""+ra(m):"",f=f!=null?""+ra(f):m,Z||f===c.value||(c.value=f),c.defaultValue=f}x=x??S,x=typeof x!="function"&&typeof x!="symbol"&&!!x,c.checked=Z?c.checked:!!x,c.defaultChecked=!!x,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(c.name=H)}function mh(c,f,m){f==="number"&&ph(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function mn(c,f,m,x){if(c=c.options,f){f={};for(var S=0;S<m.length;S++)f["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=f.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&x&&(c[m].defaultSelected=!0)}else{for(m=""+ra(m),f=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,x&&(c[S].defaultSelected=!0);return}f!==null||c[S].disabled||(f=c[S])}f!==null&&(f.selected=!0)}}function _f(c,f,m){if(f!=null&&(f=""+ra(f),f!==c.value&&(c.value=f),m==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=m!=null?""+ra(m):""}function Rc(c,f,m,x){if(f==null){if(x!=null){if(m!=null)throw Error(r(92));if(Y(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),f=m}m=ra(f),c.defaultValue=m,x=c.textContent,x===m&&x!==""&&x!==null&&(c.value=x)}function os(c,f){if(f){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=f;return}}c.textContent=f}var bT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function O0(c,f,m){var x=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":x?c.setProperty(f,m):typeof m!="number"||m===0||bT.has(f)?f==="float"?c.cssFloat=m:c[f]=(""+m).trim():c[f]=m+"px"}function jx(c,f,m){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||f!=null&&f.hasOwnProperty(x)||(x.indexOf("--")===0?c.setProperty(x,""):x==="float"?c.cssFloat="":c[x]="");for(var S in f)x=f[S],f.hasOwnProperty(S)&&m[S]!==x&&O0(c,S,x)}else for(var P in f)f.hasOwnProperty(P)&&O0(c,P,f[P])}function P0(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _T=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(c){return wT.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var ls=null;function gh(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ul=null,fl=null;function dl(c){var f=Ge(c);if(f&&(c=f.stateNode)){var m=c[ne]||null;e:switch(c=f.stateNode,f.type){case"input":if(Pc(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+xr(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var x=m[f];if(x!==c&&x.form===c.form){var S=x[ne]||null;if(!S)throw Error(r(90));Pc(x,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(f=0;f<m.length;f++)x=m[f],x.form===c.form&&N0(x)}break e;case"textarea":_f(c,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&mn(c,!!m.multiple,f,!1)}}}var R0=!1;function Mx(c,f,m){if(R0)return c(f,m);R0=!0;try{var x=c(f);return x}finally{if(R0=!1,(ul!==null||fl!==null)&&(Cb(),ul&&(f=ul,c=fl,fl=ul=null,dl(f),c)))for(f=0;f<c.length;f++)dl(c[f])}}function wf(c,f){var m=c.stateNode;if(m===null)return null;var x=m[ne]||null;if(x===null)return null;m=x[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,f,typeof m));return m}var cs=!1;if(Wr)try{var Ef={};Object.defineProperty(Ef,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch{cs=!1}var _o=null,Ic=null,hl=null;function I0(){if(hl)return hl;var c,f=Ic,m=f.length,x,S="value"in _o?_o.value:_o.textContent,P=S.length;for(c=0;c<m&&f[c]===S[c];c++);var H=m-c;for(x=1;x<=H&&f[m-x]===S[P-x];x++);return hl=S.slice(c,1<x?1-x:void 0)}function wo(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function Eo(){return!0}function D0(){return!1}function ci(c){function f(m,x,S,P,H){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=P,this.target=H,this.currentTarget=null;for(var Z in c)c.hasOwnProperty(Z)&&(m=c[Z],this[Z]=m?m(P):P[Z]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Eo:D0,this.isPropagationStopped=D0,this}return L(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),f}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vh=ci(Cn),Sf=L({},Cn,{view:0,detail:0}),Lx=ci(Sf),yh,xh,So,Tf=L({},Sf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==So&&(So&&c.type==="mousemove"?(yh=c.screenX-So.screenX,xh=c.screenY-So.screenY):xh=yh=0,So=c),yh)},movementY:function(c){return"movementY"in c?c.movementY:xh}}),us=ci(Tf),Fx=L({},Tf,{dataTransfer:0}),ET=ci(Fx),Af=L({},Sf,{relatedTarget:0}),bh=ci(Af),k0=L({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),_h=ci(k0),Bx=L({},Cn,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),wh=ci(Bx),ST=L({},Cn,{data:0}),j0=ci(ST),Cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Vx[c])?!!f[c]:!1}function Nf(){return M0}var Ux=L({},Sf,{key:function(c){if(c.key){var f=Cf[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=wo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?$x[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(c){return c.type==="keypress"?wo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?wo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Eh=ci(Ux),Hx=L({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L0=ci(Hx),pl=L({},Sf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),zx=ci(pl),qx=L({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=ci(qx),Gx=L({},Tf,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Sh=ci(Gx),ia=L({},Cn,{newState:0,oldState:0}),Kx=ci(ia),Yx=[9,13,27,32],To=Wr&&"CompositionEvent"in window,w=null;Wr&&"documentMode"in document&&(w=document.documentMode);var M=Wr&&"TextEvent"in window&&!w,U=Wr&&(!To||w&&8<w&&11>=w),te=" ",be=!1;function Ne(c,f){switch(c){case"keyup":return Yx.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ye(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var sn=!1;function Gr(c,f){switch(c){case"compositionend":return Ye(f);case"keypress":return f.which!==32?null:(be=!0,te);case"textInput":return c=f.data,c===te&&be?null:c;default:return null}}function on(c,f){if(sn)return c==="compositionend"||!To&&Ne(c,f)?(c=I0(),hl=Ic=_o=null,sn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return U&&f.locale!=="ko"?null:f.data;default:return null}}var ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kr(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!ui[c.type]:f==="textarea"}function ml(c,f,m,x){ul?fl?fl.push(x):fl=[x]:ul=x,f=Ib(f,"onChange"),0<f.length&&(m=new vh("onChange","change",null,m,x),c.push({event:m,listeners:f}))}var Ni=null,Ao=null;function F0(c){KF(c,0)}function Xx(c){var f=rt(c);if(N0(f))return c}function EL(c,f){if(c==="change")return f}var SL=!1;if(Wr){var TT;if(Wr){var AT="oninput"in document;if(!AT){var TL=document.createElement("div");TL.setAttribute("oninput","return;"),AT=typeof TL.oninput=="function"}TT=AT}else TT=!1;SL=TT&&(!document.documentMode||9<document.documentMode)}function AL(){Ni&&(Ni.detachEvent("onpropertychange",CL),Ao=Ni=null)}function CL(c){if(c.propertyName==="value"&&Xx(Ao)){var f=[];ml(f,Ao,c,gh(c)),Mx(F0,f)}}function bae(c,f,m){c==="focusin"?(AL(),Ni=f,Ao=m,Ni.attachEvent("onpropertychange",CL)):c==="focusout"&&AL()}function _ae(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Xx(Ao)}function wae(c,f){if(c==="click")return Xx(f)}function Eae(c,f){if(c==="input"||c==="change")return Xx(f)}function Sae(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var ja=typeof Object.is=="function"?Object.is:Sae;function B0(c,f){if(ja(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var m=Object.keys(c),x=Object.keys(f);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!Ft.call(f,S)||!ja(c[S],f[S]))return!1}return!0}function NL(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function OL(c,f){var m=NL(c);c=0;for(var x;m;){if(m.nodeType===3){if(x=c+m.textContent.length,c<=f&&x>=f)return{node:m,offset:f-c};c=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=NL(m)}}function PL(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?PL(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function RL(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=ph(c.document);f instanceof c.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)c=f.contentWindow;else break;f=ph(c.document)}return f}function CT(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function Tae(c,f){var m=RL(f);f=c.focusedElem;var x=c.selectionRange;if(m!==f&&f&&f.ownerDocument&&PL(f.ownerDocument.documentElement,f)){if(x!==null&&CT(f)){if(c=x.start,m=x.end,m===void 0&&(m=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(m,f.value.length);else if(m=(c=f.ownerDocument||document)&&c.defaultView||window,m.getSelection){m=m.getSelection();var S=f.textContent.length,P=Math.min(x.start,S);x=x.end===void 0?P:Math.min(x.end,S),!m.extend&&P>x&&(S=x,x=P,P=S),S=OL(f,P);var H=OL(f,x);S&&H&&(m.rangeCount!==1||m.anchorNode!==S.node||m.anchorOffset!==S.offset||m.focusNode!==H.node||m.focusOffset!==H.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),m.removeAllRanges(),P>x?(m.addRange(c),m.extend(H.node,H.offset)):(c.setEnd(H.node,H.offset),m.addRange(c)))}}for(c=[],m=f;m=m.parentNode;)m.nodeType===1&&c.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)m=c[f],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var Aae=Wr&&"documentMode"in document&&11>=document.documentMode,Th=null,NT=null,$0=null,OT=!1;function IL(c,f,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;OT||Th==null||Th!==ph(x)||(x=Th,"selectionStart"in x&&CT(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),$0&&B0($0,x)||($0=x,x=Ib(NT,"onSelect"),0<x.length&&(f=new vh("onSelect","select",null,f,m),c.push({event:f,listeners:x}),f.target=Th)))}function Of(c,f){var m={};return m[c.toLowerCase()]=f.toLowerCase(),m["Webkit"+c]="webkit"+f,m["Moz"+c]="moz"+f,m}var Ah={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionrun:Of("Transition","TransitionRun"),transitionstart:Of("Transition","TransitionStart"),transitioncancel:Of("Transition","TransitionCancel"),transitionend:Of("Transition","TransitionEnd")},PT={},DL={};Wr&&(DL=document.createElement("div").style,"AnimationEvent"in window||(delete Ah.animationend.animation,delete Ah.animationiteration.animation,delete Ah.animationstart.animation),"TransitionEvent"in window||delete Ah.transitionend.transition);function Pf(c){if(PT[c])return PT[c];if(!Ah[c])return c;var f=Ah[c],m;for(m in f)if(f.hasOwnProperty(m)&&m in DL)return PT[c]=f[m];return c}var kL=Pf("animationend"),jL=Pf("animationiteration"),ML=Pf("animationstart"),Cae=Pf("transitionrun"),Nae=Pf("transitionstart"),Oae=Pf("transitioncancel"),LL=Pf("transitionend"),FL=new Map,BL="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fs(c,f){FL.set(c,f),Gt(f,[c])}var fs=[],Ch=0,RT=0;function Qx(){for(var c=Ch,f=RT=Ch=0;f<c;){var m=fs[f];fs[f++]=null;var x=fs[f];fs[f++]=null;var S=fs[f];fs[f++]=null;var P=fs[f];if(fs[f++]=null,x!==null&&S!==null){var H=x.pending;H===null?S.next=S:(S.next=H.next,H.next=S),x.pending=S}P!==0&&$L(m,S,P)}}function Zx(c,f,m,x){fs[Ch++]=c,fs[Ch++]=f,fs[Ch++]=m,fs[Ch++]=x,RT|=x,c.lanes|=x,c=c.alternate,c!==null&&(c.lanes|=x)}function IT(c,f,m,x){return Zx(c,f,m,x),Jx(c)}function Dc(c,f){return Zx(c,null,null,f),Jx(c)}function $L(c,f,m){c.lanes|=m;var x=c.alternate;x!==null&&(x.lanes|=m);for(var S=!1,P=c.return;P!==null;)P.childLanes|=m,x=P.alternate,x!==null&&(x.childLanes|=m),P.tag===22&&(c=P.stateNode,c===null||c._visibility&1||(S=!0)),c=P,P=P.return;S&&f!==null&&c.tag===3&&(P=c.stateNode,S=31-qr(m),P=P.hiddenUpdates,c=P[S],c===null?P[S]=[f]:c.push(f),f.lane=m|536870912)}function Jx(c){if(50<fg)throw fg=0,FA=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Nh={},VL=new WeakMap;function ds(c,f){if(typeof c=="object"&&c!==null){var m=VL.get(c);return m!==void 0?m:(f={value:c,source:f,stack:X(f)},VL.set(c,f),f)}return{value:c,source:f,stack:X(f)}}var Oh=[],Ph=0,eb=null,tb=0,hs=[],ps=0,Rf=null,gl=1,vl="";function If(c,f){Oh[Ph++]=tb,Oh[Ph++]=eb,eb=c,tb=f}function UL(c,f,m){hs[ps++]=gl,hs[ps++]=vl,hs[ps++]=Rf,Rf=c;var x=gl;c=vl;var S=32-qr(x)-1;x&=~(1<<S),m+=1;var P=32-qr(f)+S;if(30<P){var H=S-S%5;P=(x&(1<<H)-1).toString(32),x>>=H,S-=H,gl=1<<32-qr(f)+S|m<<S|x,vl=P+c}else gl=1<<P|m<<S|x,vl=c}function DT(c){c.return!==null&&(If(c,1),UL(c,1,0))}function kT(c){for(;c===eb;)eb=Oh[--Ph],Oh[Ph]=null,tb=Oh[--Ph],Oh[Ph]=null;for(;c===Rf;)Rf=hs[--ps],hs[ps]=null,vl=hs[--ps],hs[ps]=null,gl=hs[--ps],hs[ps]=null}var aa=null,Oi=null,gn=!1,Bs=null,Co=!1,jT=Error(r(519));function Df(c){var f=Error(r(418,""));throw H0(ds(f,c)),jT}function HL(c){var f=c.stateNode,m=c.type,x=c.memoizedProps;switch(f[ee]=c,f[ne]=x,m){case"dialog":en("cancel",f),en("close",f);break;case"iframe":case"object":case"embed":en("load",f);break;case"video":case"audio":for(m=0;m<hg.length;m++)en(hg[m],f);break;case"source":en("error",f);break;case"img":case"image":case"link":en("error",f),en("load",f);break;case"details":en("toggle",f);break;case"input":en("invalid",f),bf(f,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),xf(f);break;case"select":en("invalid",f);break;case"textarea":en("invalid",f),Rc(f,x.value,x.defaultValue,x.children),xf(f)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||x.suppressHydrationWarning===!0||ZF(f.textContent,m)?(x.popover!=null&&(en("beforetoggle",f),en("toggle",f)),x.onScroll!=null&&en("scroll",f),x.onScrollEnd!=null&&en("scrollend",f),x.onClick!=null&&(f.onclick=Db),f=!0):f=!1,f||Df(c)}function zL(c){for(aa=c.return;aa;)switch(aa.tag){case 3:case 27:Co=!0;return;case 5:case 13:Co=!1;return;default:aa=aa.return}}function V0(c){if(c!==aa)return!1;if(!gn)return zL(c),gn=!0,!1;var f=!1,m;if((m=c.tag!==3&&c.tag!==27)&&((m=c.tag===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||tC(c.type,c.memoizedProps)),m=!m),m&&(f=!0),f&&Oi&&Df(c),zL(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(f===0){Oi=Vs(c.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++;c=c.nextSibling}Oi=null}}else Oi=aa?Vs(c.stateNode.nextSibling):null;return!0}function U0(){Oi=aa=null,gn=!1}function H0(c){Bs===null?Bs=[c]:Bs.push(c)}var z0=Error(r(460)),qL=Error(r(474)),MT={then:function(){}};function WL(c){return c=c.status,c==="fulfilled"||c==="rejected"}function nb(){}function GL(c,f,m){switch(m=c[m],m===void 0?c.push(f):m!==f&&(f.then(nb,nb),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===z0?Error(r(483)):c;default:if(typeof f.status=="string")f.then(nb,nb);else{if(c=Xn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(x){if(f.status==="pending"){var S=f;S.status="fulfilled",S.value=x}},function(x){if(f.status==="pending"){var S=f;S.status="rejected",S.reason=x}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===z0?Error(r(483)):c}throw q0=f,z0}}var q0=null;function KL(){if(q0===null)throw Error(r(459));var c=q0;return q0=null,c}var Rh=null,W0=0;function rb(c){var f=W0;return W0+=1,Rh===null&&(Rh=[]),GL(Rh,c,f)}function G0(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function ib(c,f){throw f.$$typeof===a?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function YL(c){var f=c._init;return f(c._payload)}function XL(c){function f(xe,ge){if(c){var we=xe.deletions;we===null?(xe.deletions=[ge],xe.flags|=16):we.push(ge)}}function m(xe,ge){if(!c)return null;for(;ge!==null;)f(xe,ge),ge=ge.sibling;return null}function x(xe){for(var ge=new Map;xe!==null;)xe.key!==null?ge.set(xe.key,xe):ge.set(xe.index,xe),xe=xe.sibling;return ge}function S(xe,ge){return xe=qc(xe,ge),xe.index=0,xe.sibling=null,xe}function P(xe,ge,we){return xe.index=we,c?(we=xe.alternate,we!==null?(we=we.index,we<ge?(xe.flags|=33554434,ge):we):(xe.flags|=33554434,ge)):(xe.flags|=1048576,ge)}function H(xe){return c&&xe.alternate===null&&(xe.flags|=33554434),xe}function Z(xe,ge,we,je){return ge===null||ge.tag!==6?(ge=PA(we,xe.mode,je),ge.return=xe,ge):(ge=S(ge,we),ge.return=xe,ge)}function ue(xe,ge,we,je){var lt=we.type;return lt===l?ke(xe,ge,we.props.children,je,we.key):ge!==null&&(ge.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===N&&YL(lt)===ge.type)?(ge=S(ge,we.props),G0(ge,we),ge.return=xe,ge):(ge=wb(we.type,we.key,we.props,null,xe.mode,je),G0(ge,we),ge.return=xe,ge)}function ve(xe,ge,we,je){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==we.containerInfo||ge.stateNode.implementation!==we.implementation?(ge=RA(we,xe.mode,je),ge.return=xe,ge):(ge=S(ge,we.children||[]),ge.return=xe,ge)}function ke(xe,ge,we,je,lt){return ge===null||ge.tag!==7?(ge=Hf(we,xe.mode,je,lt),ge.return=xe,ge):(ge=S(ge,we),ge.return=xe,ge)}function Ve(xe,ge,we){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=PA(""+ge,xe.mode,we),ge.return=xe,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case s:return we=wb(ge.type,ge.key,ge.props,null,xe.mode,we),G0(we,ge),we.return=xe,we;case o:return ge=RA(ge,xe.mode,we),ge.return=xe,ge;case N:var je=ge._init;return ge=je(ge._payload),Ve(xe,ge,we)}if(Y(ge)||I(ge))return ge=Hf(ge,xe.mode,we,null),ge.return=xe,ge;if(typeof ge.then=="function")return Ve(xe,rb(ge),we);if(ge.$$typeof===y)return Ve(xe,xb(xe,ge),we);ib(xe,ge)}return null}function Ae(xe,ge,we,je){var lt=ge!==null?ge.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return lt!==null?null:Z(xe,ge,""+we,je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case s:return we.key===lt?ue(xe,ge,we,je):null;case o:return we.key===lt?ve(xe,ge,we,je):null;case N:return lt=we._init,we=lt(we._payload),Ae(xe,ge,we,je)}if(Y(we)||I(we))return lt!==null?null:ke(xe,ge,we,je,null);if(typeof we.then=="function")return Ae(xe,ge,rb(we),je);if(we.$$typeof===y)return Ae(xe,ge,xb(xe,we),je);ib(xe,we)}return null}function Ie(xe,ge,we,je,lt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return xe=xe.get(we)||null,Z(ge,xe,""+je,lt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case s:return xe=xe.get(je.key===null?we:je.key)||null,ue(ge,xe,je,lt);case o:return xe=xe.get(je.key===null?we:je.key)||null,ve(ge,xe,je,lt);case N:var Ut=je._init;return je=Ut(je._payload),Ie(xe,ge,we,je,lt)}if(Y(je)||I(je))return xe=xe.get(we)||null,ke(ge,xe,je,lt,null);if(typeof je.then=="function")return Ie(xe,ge,we,rb(je),lt);if(je.$$typeof===y)return Ie(xe,ge,we,xb(ge,je),lt);ib(ge,je)}return null}function dt(xe,ge,we,je){for(var lt=null,Ut=null,pt=ge,wt=ge=0,hi=null;pt!==null&&wt<we.length;wt++){pt.index>wt?(hi=pt,pt=null):hi=pt.sibling;var vn=Ae(xe,pt,we[wt],je);if(vn===null){pt===null&&(pt=hi);break}c&&pt&&vn.alternate===null&&f(xe,pt),ge=P(vn,ge,wt),Ut===null?lt=vn:Ut.sibling=vn,Ut=vn,pt=hi}if(wt===we.length)return m(xe,pt),gn&&If(xe,wt),lt;if(pt===null){for(;wt<we.length;wt++)pt=Ve(xe,we[wt],je),pt!==null&&(ge=P(pt,ge,wt),Ut===null?lt=pt:Ut.sibling=pt,Ut=pt);return gn&&If(xe,wt),lt}for(pt=x(pt);wt<we.length;wt++)hi=Ie(pt,xe,wt,we[wt],je),hi!==null&&(c&&hi.alternate!==null&&pt.delete(hi.key===null?wt:hi.key),ge=P(hi,ge,wt),Ut===null?lt=hi:Ut.sibling=hi,Ut=hi);return c&&pt.forEach(function(Zc){return f(xe,Zc)}),gn&&If(xe,wt),lt}function Dt(xe,ge,we,je){if(we==null)throw Error(r(151));for(var lt=null,Ut=null,pt=ge,wt=ge=0,hi=null,vn=we.next();pt!==null&&!vn.done;wt++,vn=we.next()){pt.index>wt?(hi=pt,pt=null):hi=pt.sibling;var Zc=Ae(xe,pt,vn.value,je);if(Zc===null){pt===null&&(pt=hi);break}c&&pt&&Zc.alternate===null&&f(xe,pt),ge=P(Zc,ge,wt),Ut===null?lt=Zc:Ut.sibling=Zc,Ut=Zc,pt=hi}if(vn.done)return m(xe,pt),gn&&If(xe,wt),lt;if(pt===null){for(;!vn.done;wt++,vn=we.next())vn=Ve(xe,vn.value,je),vn!==null&&(ge=P(vn,ge,wt),Ut===null?lt=vn:Ut.sibling=vn,Ut=vn);return gn&&If(xe,wt),lt}for(pt=x(pt);!vn.done;wt++,vn=we.next())vn=Ie(pt,xe,wt,vn.value,je),vn!==null&&(c&&vn.alternate!==null&&pt.delete(vn.key===null?wt:vn.key),ge=P(vn,ge,wt),Ut===null?lt=vn:Ut.sibling=vn,Ut=vn);return c&&pt.forEach(function(Hse){return f(xe,Hse)}),gn&&If(xe,wt),lt}function wr(xe,ge,we,je){if(typeof we=="object"&&we!==null&&we.type===l&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case s:e:{for(var lt=we.key;ge!==null;){if(ge.key===lt){if(lt=we.type,lt===l){if(ge.tag===7){m(xe,ge.sibling),je=S(ge,we.props.children),je.return=xe,xe=je;break e}}else if(ge.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===N&&YL(lt)===ge.type){m(xe,ge.sibling),je=S(ge,we.props),G0(je,we),je.return=xe,xe=je;break e}m(xe,ge);break}else f(xe,ge);ge=ge.sibling}we.type===l?(je=Hf(we.props.children,xe.mode,je,we.key),je.return=xe,xe=je):(je=wb(we.type,we.key,we.props,null,xe.mode,je),G0(je,we),je.return=xe,xe=je)}return H(xe);case o:e:{for(lt=we.key;ge!==null;){if(ge.key===lt)if(ge.tag===4&&ge.stateNode.containerInfo===we.containerInfo&&ge.stateNode.implementation===we.implementation){m(xe,ge.sibling),je=S(ge,we.children||[]),je.return=xe,xe=je;break e}else{m(xe,ge);break}else f(xe,ge);ge=ge.sibling}je=RA(we,xe.mode,je),je.return=xe,xe=je}return H(xe);case N:return lt=we._init,we=lt(we._payload),wr(xe,ge,we,je)}if(Y(we))return dt(xe,ge,we,je);if(I(we)){if(lt=I(we),typeof lt!="function")throw Error(r(150));return we=lt.call(we),Dt(xe,ge,we,je)}if(typeof we.then=="function")return wr(xe,ge,rb(we),je);if(we.$$typeof===y)return wr(xe,ge,xb(xe,we),je);ib(xe,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,ge!==null&&ge.tag===6?(m(xe,ge.sibling),je=S(ge,we),je.return=xe,xe=je):(m(xe,ge),je=PA(we,xe.mode,je),je.return=xe,xe=je),H(xe)):m(xe,ge)}return function(xe,ge,we,je){try{W0=0;var lt=wr(xe,ge,we,je);return Rh=null,lt}catch(pt){if(pt===z0)throw pt;var Ut=ys(29,pt,null,xe.mode);return Ut.lanes=je,Ut.return=xe,Ut}finally{}}}var kf=XL(!0),QL=XL(!1),Ih=ye(null),ab=ye(0);function ZL(c,f){c=Nl,he(ab,c),he(Ih,f),Nl=c|f.baseLanes}function LT(){he(ab,Nl),he(Ih,Ih.current)}function FT(){Nl=ab.current,de(Ih),de(ab)}var ms=ye(null),No=null;function kc(c){var f=c.alternate;he(Yr,Yr.current&1),he(ms,c),No===null&&(f===null||Ih.current!==null||f.memoizedState!==null)&&(No=c)}function JL(c){if(c.tag===22){if(he(Yr,Yr.current),he(ms,c),No===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(No=c)}}else jc()}function jc(){he(Yr,Yr.current),he(ms,ms.current)}function yl(c){de(ms),No===c&&(No=null),de(Yr)}var Yr=ye(0);function sb(c){for(var f=c;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Pae=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(m,x){c.push(x)}};this.abort=function(){f.aborted=!0,c.forEach(function(m){return m()})}},Rae=t.unstable_scheduleCallback,Iae=t.unstable_NormalPriority,Xr={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function BT(){return{controller:new Pae,data:new Map,refCount:0}}function K0(c){c.refCount--,c.refCount===0&&Rae(Iae,function(){c.controller.abort()})}var Y0=null,$T=0,Dh=0,kh=null;function Dae(c,f){if(Y0===null){var m=Y0=[];$T=0,Dh=WA(),kh={status:"pending",value:void 0,then:function(x){m.push(x)}}}return $T++,f.then(e3,e3),f}function e3(){if(--$T===0&&Y0!==null){kh!==null&&(kh.status="fulfilled");var c=Y0;Y0=null,Dh=0,kh=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function kae(c,f){var m=[],x={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return c.then(function(){x.status="fulfilled",x.value=f;for(var S=0;S<m.length;S++)(0,m[S])(f)},function(S){for(x.status="rejected",x.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),x}var t3=D.S;D.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Dae(c,f),t3!==null&&t3(c,f)};var jf=ye(null);function VT(){var c=jf.current;return c!==null?c:Xn.pooledCache}function ob(c,f){f===null?he(jf,jf.current):he(jf,f.pool)}function n3(){var c=VT();return c===null?null:{parent:Xr._currentValue,pool:c}}var Mc=0,$t=null,Ln=null,Dr=null,lb=!1,jh=!1,Mf=!1,cb=0,X0=0,Mh=null,jae=0;function Pr(){throw Error(r(321))}function UT(c,f){if(f===null)return!1;for(var m=0;m<f.length&&m<c.length;m++)if(!ja(c[m],f[m]))return!1;return!0}function HT(c,f,m,x,S,P){return Mc=P,$t=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,D.H=c===null||c.memoizedState===null?Lf:Lc,Mf=!1,P=m(x,S),Mf=!1,jh&&(P=i3(f,m,x,S)),r3(c),P}function r3(c){D.H=Oo;var f=Ln!==null&&Ln.next!==null;if(Mc=0,Dr=Ln=$t=null,lb=!1,X0=0,Mh=null,f)throw Error(r(300));c===null||fi||(c=c.dependencies,c!==null&&yb(c)&&(fi=!0))}function i3(c,f,m,x){$t=c;var S=0;do{if(jh&&(Mh=null),X0=0,jh=!1,25<=S)throw Error(r(301));if(S+=1,Dr=Ln=null,c.updateQueue!=null){var P=c.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}D.H=Ff,P=f(m,x)}while(jh);return P}function Mae(){var c=D.H,f=c.useState()[0];return f=typeof f.then=="function"?Q0(f):f,c=c.useState()[0],(Ln!==null?Ln.memoizedState:null)!==c&&($t.flags|=1024),f}function zT(){var c=cb!==0;return cb=0,c}function qT(c,f,m){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~m}function WT(c){if(lb){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}lb=!1}Mc=0,Dr=Ln=$t=null,jh=!1,X0=cb=0,Mh=null}function _a(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?$t.memoizedState=Dr=c:Dr=Dr.next=c,Dr}function kr(){if(Ln===null){var c=$t.alternate;c=c!==null?c.memoizedState:null}else c=Ln.next;var f=Dr===null?$t.memoizedState:Dr.next;if(f!==null)Dr=f,Ln=c;else{if(c===null)throw $t.alternate===null?Error(r(467)):Error(r(310));Ln=c,c={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Dr===null?$t.memoizedState=Dr=c:Dr=Dr.next=c}return Dr}var ub;ub=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Q0(c){var f=X0;return X0+=1,Mh===null&&(Mh=[]),c=GL(Mh,c,f),f=$t,(Dr===null?f.memoizedState:Dr.next)===null&&(f=f.alternate,D.H=f===null||f.memoizedState===null?Lf:Lc),c}function fb(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Q0(c);if(c.$$typeof===y)return qi(c)}throw Error(r(438,String(c)))}function GT(c){var f=null,m=$t.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var x=$t.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(f={data:x.data.map(function(S){return S.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=ub(),$t.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(c),x=0;x<c;x++)m[x]=k;return f.index++,m}function xl(c,f){return typeof f=="function"?f(c):f}function db(c){var f=kr();return KT(f,Ln,c)}function KT(c,f,m){var x=c.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var S=c.baseQueue,P=x.pending;if(P!==null){if(S!==null){var H=S.next;S.next=P.next,P.next=H}f.baseQueue=S=P,x.pending=null}if(P=c.baseState,S===null)c.memoizedState=P;else{f=S.next;var Z=H=null,ue=null,ve=f,ke=!1;do{var Ve=ve.lane&-536870913;if(Ve!==ve.lane?(ln&Ve)===Ve:(Mc&Ve)===Ve){var Ae=ve.revertLane;if(Ae===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Ve===Dh&&(ke=!0);else if((Mc&Ae)===Ae){ve=ve.next,Ae===Dh&&(ke=!0);continue}else Ve={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ue===null?(Z=ue=Ve,H=P):ue=ue.next=Ve,$t.lanes|=Ae,Wc|=Ae;Ve=ve.action,Mf&&m(P,Ve),P=ve.hasEagerState?ve.eagerState:m(P,Ve)}else Ae={lane:Ve,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ue===null?(Z=ue=Ae,H=P):ue=ue.next=Ae,$t.lanes|=Ve,Wc|=Ve;ve=ve.next}while(ve!==null&&ve!==f);if(ue===null?H=P:ue.next=Z,!ja(P,c.memoizedState)&&(fi=!0,ke&&(m=kh,m!==null)))throw m;c.memoizedState=P,c.baseState=H,c.baseQueue=ue,x.lastRenderedState=P}return S===null&&(x.lanes=0),[c.memoizedState,x.dispatch]}function YT(c){var f=kr(),m=f.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var x=m.dispatch,S=m.pending,P=f.memoizedState;if(S!==null){m.pending=null;var H=S=S.next;do P=c(P,H.action),H=H.next;while(H!==S);ja(P,f.memoizedState)||(fi=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),m.lastRenderedState=P}return[P,x]}function a3(c,f,m){var x=$t,S=kr(),P=gn;if(P){if(m===void 0)throw Error(r(407));m=m()}else m=f();var H=!ja((Ln||S).memoizedState,m);if(H&&(S.memoizedState=m,fi=!0),S=S.queue,ZT(l3.bind(null,x,S,c),[c]),S.getSnapshot!==f||H||Dr!==null&&Dr.memoizedState.tag&1){if(x.flags|=2048,Lh(9,o3.bind(null,x,S,m,f),{destroy:void 0},null),Xn===null)throw Error(r(349));P||(Mc&60)!==0||s3(x,f,m)}return m}function s3(c,f,m){c.flags|=16384,c={getSnapshot:f,value:m},f=$t.updateQueue,f===null?(f=ub(),$t.updateQueue=f,f.stores=[c]):(m=f.stores,m===null?f.stores=[c]:m.push(c))}function o3(c,f,m,x){f.value=m,f.getSnapshot=x,c3(f)&&u3(c)}function l3(c,f,m){return m(function(){c3(f)&&u3(c)})}function c3(c){var f=c.getSnapshot;c=c.value;try{var m=f();return!ja(c,m)}catch{return!0}}function u3(c){var f=Dc(c,2);f!==null&&sa(f,c,2)}function XT(c){var f=_a();if(typeof c=="function"){var m=c;if(c=m(),Mf){xa(!0);try{m()}finally{xa(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:c},f}function f3(c,f,m,x){return c.baseState=m,KT(c,Ln,typeof x=="function"?x:xl)}function Lae(c,f,m,x,S){if(mb(c))throw Error(r(485));if(c=f.action,c!==null){var P={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){P.listeners.push(H)}};D.T!==null?m(!0):P.isTransition=!1,x(P),m=f.pending,m===null?(P.next=f.pending=P,d3(f,P)):(P.next=m.next,f.pending=m.next=P)}}function d3(c,f){var m=f.action,x=f.payload,S=c.state;if(f.isTransition){var P=D.T,H={};D.T=H;try{var Z=m(S,x),ue=D.S;ue!==null&&ue(H,Z),h3(c,f,Z)}catch(ve){QT(c,f,ve)}finally{D.T=P}}else try{P=m(S,x),h3(c,f,P)}catch(ve){QT(c,f,ve)}}function h3(c,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){p3(c,f,x)},function(x){return QT(c,f,x)}):p3(c,f,m)}function p3(c,f,m){f.status="fulfilled",f.value=m,m3(f),c.state=m,f=c.pending,f!==null&&(m=f.next,m===f?c.pending=null:(m=m.next,f.next=m,d3(c,m)))}function QT(c,f,m){var x=c.pending;if(c.pending=null,x!==null){x=x.next;do f.status="rejected",f.reason=m,m3(f),f=f.next;while(f!==x)}c.action=null}function m3(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function g3(c,f){return f}function v3(c,f){if(gn){var m=Xn.formState;if(m!==null){e:{var x=$t;if(gn){if(Oi){t:{for(var S=Oi,P=Co;S.nodeType!==8;){if(!P){S=null;break t}if(S=Vs(S.nextSibling),S===null){S=null;break t}}P=S.data,S=P==="F!"||P==="F"?S:null}if(S){Oi=Vs(S.nextSibling),x=S.data==="F!";break e}}Df(x)}x=!1}x&&(f=m[0])}}return m=_a(),m.memoizedState=m.baseState=f,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g3,lastRenderedState:f},m.queue=x,m=j3.bind(null,$t,x),x.dispatch=m,x=XT(!1),P=rA.bind(null,$t,!1,x.queue),x=_a(),S={state:f,dispatch:null,action:c,pending:null},x.queue=S,m=Lae.bind(null,$t,S,P,m),S.dispatch=m,x.memoizedState=c,[f,m,!1]}function y3(c){var f=kr();return x3(f,Ln,c)}function x3(c,f,m){f=KT(c,f,g3)[0],c=db(xl)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Q0(f):f;var x=kr(),S=x.queue,P=S.dispatch;return m!==x.memoizedState&&($t.flags|=2048,Lh(9,Fae.bind(null,S,m),{destroy:void 0},null)),[f,P,c]}function Fae(c,f){c.action=f}function b3(c){var f=kr(),m=Ln;if(m!==null)return x3(f,m,c);kr(),f=f.memoizedState,m=kr();var x=m.queue.dispatch;return m.memoizedState=c,[f,x,!1]}function Lh(c,f,m,x){return c={tag:c,create:f,inst:m,deps:x,next:null},f=$t.updateQueue,f===null&&(f=ub(),$t.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=c.next=c:(x=m.next,m.next=c,c.next=x,f.lastEffect=c),c}function _3(){return kr().memoizedState}function hb(c,f,m,x){var S=_a();$t.flags|=c,S.memoizedState=Lh(1|f,m,{destroy:void 0},x===void 0?null:x)}function pb(c,f,m,x){var S=kr();x=x===void 0?null:x;var P=S.memoizedState.inst;Ln!==null&&x!==null&&UT(x,Ln.memoizedState.deps)?S.memoizedState=Lh(f,m,P,x):($t.flags|=c,S.memoizedState=Lh(1|f,m,P,x))}function w3(c,f){hb(8390656,8,c,f)}function ZT(c,f){pb(2048,8,c,f)}function E3(c,f){return pb(4,2,c,f)}function S3(c,f){return pb(4,4,c,f)}function T3(c,f){if(typeof f=="function"){c=c();var m=f(c);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function A3(c,f,m){m=m!=null?m.concat([c]):null,pb(4,4,T3.bind(null,f,c),m)}function JT(){}function C3(c,f){var m=kr();f=f===void 0?null:f;var x=m.memoizedState;return f!==null&&UT(f,x[1])?x[0]:(m.memoizedState=[c,f],c)}function N3(c,f){var m=kr();f=f===void 0?null:f;var x=m.memoizedState;if(f!==null&&UT(f,x[1]))return x[0];if(x=c(),Mf){xa(!0);try{c()}finally{xa(!1)}}return m.memoizedState=[x,f],x}function eA(c,f,m){return m===void 0||(Mc&1073741824)!==0?c.memoizedState=f:(c.memoizedState=m,c=PF(),$t.lanes|=c,Wc|=c,m)}function O3(c,f,m,x){return ja(m,f)?m:Ih.current!==null?(c=eA(c,m,x),ja(c,f)||(fi=!0),c):(Mc&42)===0?(fi=!0,c.memoizedState=m):(c=PF(),$t.lanes|=c,Wc|=c,f)}function P3(c,f,m,x,S){var P=K.p;K.p=P!==0&&8>P?P:8;var H=D.T,Z={};D.T=Z,rA(c,!1,f,m);try{var ue=S(),ve=D.S;if(ve!==null&&ve(Z,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var ke=kae(ue,x);Z0(c,f,ke,Ba(c))}else Z0(c,f,x,Ba(c))}catch(Ve){Z0(c,f,{then:function(){},status:"rejected",reason:Ve},Ba())}finally{K.p=P,D.T=H}}function Bae(){}function tA(c,f,m,x){if(c.tag!==5)throw Error(r(476));var S=R3(c).queue;P3(c,S,f,J,m===null?Bae:function(){return I3(c),m(x)})}function R3(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:J},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:m},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function I3(c){var f=R3(c).next.queue;Z0(c,f,{},Ba())}function nA(){return qi(yg)}function D3(){return kr().memoizedState}function k3(){return kr().memoizedState}function $ae(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var m=Ba();c=$c(m);var x=Vc(f,c,m);x!==null&&(sa(x,f,m),tg(x,f,m)),f={cache:BT()},c.payload=f;return}f=f.return}}function Vae(c,f,m){var x=Ba();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},mb(c)?M3(f,m):(m=IT(c,f,m,x),m!==null&&(sa(m,c,x),L3(m,f,x)))}function j3(c,f,m){var x=Ba();Z0(c,f,m,x)}function Z0(c,f,m,x){var S={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(mb(c))M3(f,S);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var H=f.lastRenderedState,Z=P(H,m);if(S.hasEagerState=!0,S.eagerState=Z,ja(Z,H))return Zx(c,f,S,0),Xn===null&&Qx(),!1}catch{}finally{}if(m=IT(c,f,S,x),m!==null)return sa(m,c,x),L3(m,f,x),!0}return!1}function rA(c,f,m,x){if(x={lane:2,revertLane:WA(),action:x,hasEagerState:!1,eagerState:null,next:null},mb(c)){if(f)throw Error(r(479))}else f=IT(c,m,x,2),f!==null&&sa(f,c,2)}function mb(c){var f=c.alternate;return c===$t||f!==null&&f===$t}function M3(c,f){jh=lb=!0;var m=c.pending;m===null?f.next=f:(f.next=m.next,m.next=f),c.pending=f}function L3(c,f,m){if((m&4194176)!==0){var x=f.lanes;x&=c.pendingLanes,m|=x,f.lanes=m,as(c,m)}}var Oo={readContext:qi,use:fb,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useLayoutEffect:Pr,useInsertionEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useSyncExternalStore:Pr,useId:Pr};Oo.useCacheRefresh=Pr,Oo.useMemoCache=Pr,Oo.useHostTransitionStatus=Pr,Oo.useFormState=Pr,Oo.useActionState=Pr,Oo.useOptimistic=Pr;var Lf={readContext:qi,use:fb,useCallback:function(c,f){return _a().memoizedState=[c,f===void 0?null:f],c},useContext:qi,useEffect:w3,useImperativeHandle:function(c,f,m){m=m!=null?m.concat([c]):null,hb(4194308,4,T3.bind(null,f,c),m)},useLayoutEffect:function(c,f){return hb(4194308,4,c,f)},useInsertionEffect:function(c,f){hb(4,2,c,f)},useMemo:function(c,f){var m=_a();f=f===void 0?null:f;var x=c();if(Mf){xa(!0);try{c()}finally{xa(!1)}}return m.memoizedState=[x,f],x},useReducer:function(c,f,m){var x=_a();if(m!==void 0){var S=m(f);if(Mf){xa(!0);try{m(f)}finally{xa(!1)}}}else S=f;return x.memoizedState=x.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},x.queue=c,c=c.dispatch=Vae.bind(null,$t,c),[x.memoizedState,c]},useRef:function(c){var f=_a();return c={current:c},f.memoizedState=c},useState:function(c){c=XT(c);var f=c.queue,m=j3.bind(null,$t,f);return f.dispatch=m,[c.memoizedState,m]},useDebugValue:JT,useDeferredValue:function(c,f){var m=_a();return eA(m,c,f)},useTransition:function(){var c=XT(!1);return c=P3.bind(null,$t,c.queue,!0,!1),_a().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,m){var x=$t,S=_a();if(gn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=f(),Xn===null)throw Error(r(349));(ln&60)!==0||s3(x,f,m)}S.memoizedState=m;var P={value:m,getSnapshot:f};return S.queue=P,w3(l3.bind(null,x,P,c),[c]),x.flags|=2048,Lh(9,o3.bind(null,x,P,m,f),{destroy:void 0},null),m},useId:function(){var c=_a(),f=Xn.identifierPrefix;if(gn){var m=vl,x=gl;m=(x&~(1<<32-qr(x)-1)).toString(32)+m,f=":"+f+"R"+m,m=cb++,0<m&&(f+="H"+m.toString(32)),f+=":"}else m=jae++,f=":"+f+"r"+m.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return _a().memoizedState=$ae.bind(null,$t)}};Lf.useMemoCache=GT,Lf.useHostTransitionStatus=nA,Lf.useFormState=v3,Lf.useActionState=v3,Lf.useOptimistic=function(c){var f=_a();f.memoizedState=f.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=rA.bind(null,$t,!0,m),m.dispatch=f,[c,f]};var Lc={readContext:qi,use:fb,useCallback:C3,useContext:qi,useEffect:ZT,useImperativeHandle:A3,useInsertionEffect:E3,useLayoutEffect:S3,useMemo:N3,useReducer:db,useRef:_3,useState:function(){return db(xl)},useDebugValue:JT,useDeferredValue:function(c,f){var m=kr();return O3(m,Ln.memoizedState,c,f)},useTransition:function(){var c=db(xl)[0],f=kr().memoizedState;return[typeof c=="boolean"?c:Q0(c),f]},useSyncExternalStore:a3,useId:D3};Lc.useCacheRefresh=k3,Lc.useMemoCache=GT,Lc.useHostTransitionStatus=nA,Lc.useFormState=y3,Lc.useActionState=y3,Lc.useOptimistic=function(c,f){var m=kr();return f3(m,Ln,c,f)};var Ff={readContext:qi,use:fb,useCallback:C3,useContext:qi,useEffect:ZT,useImperativeHandle:A3,useInsertionEffect:E3,useLayoutEffect:S3,useMemo:N3,useReducer:YT,useRef:_3,useState:function(){return YT(xl)},useDebugValue:JT,useDeferredValue:function(c,f){var m=kr();return Ln===null?eA(m,c,f):O3(m,Ln.memoizedState,c,f)},useTransition:function(){var c=YT(xl)[0],f=kr().memoizedState;return[typeof c=="boolean"?c:Q0(c),f]},useSyncExternalStore:a3,useId:D3};Ff.useCacheRefresh=k3,Ff.useMemoCache=GT,Ff.useHostTransitionStatus=nA,Ff.useFormState=b3,Ff.useActionState=b3,Ff.useOptimistic=function(c,f){var m=kr();return Ln!==null?f3(m,Ln,c,f):(m.baseState=c,[c,m.queue.dispatch])};function iA(c,f,m,x){f=c.memoizedState,m=m(x,f),m=m==null?f:L({},f,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var aA={isMounted:function(c){return(c=c._reactInternals)?Q(c)===c:!1},enqueueSetState:function(c,f,m){c=c._reactInternals;var x=Ba(),S=$c(x);S.payload=f,m!=null&&(S.callback=m),f=Vc(c,S,x),f!==null&&(sa(f,c,x),tg(f,c,x))},enqueueReplaceState:function(c,f,m){c=c._reactInternals;var x=Ba(),S=$c(x);S.tag=1,S.payload=f,m!=null&&(S.callback=m),f=Vc(c,S,x),f!==null&&(sa(f,c,x),tg(f,c,x))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var m=Ba(),x=$c(m);x.tag=2,f!=null&&(x.callback=f),f=Vc(c,x,m),f!==null&&(sa(f,c,m),tg(f,c,m))}};function F3(c,f,m,x,S,P,H){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,P,H):f.prototype&&f.prototype.isPureReactComponent?!B0(m,x)||!B0(S,P):!0}function B3(c,f,m,x){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,x),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,x),f.state!==c&&aA.enqueueReplaceState(f,f.state,null)}function Bf(c,f){var m=f;if("ref"in f){m={};for(var x in f)x!=="ref"&&(m[x]=f[x])}if(c=c.defaultProps){m===f&&(m=L({},m));for(var S in c)m[S]===void 0&&(m[S]=c[S])}return m}var gb=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function $3(c){gb(c)}function V3(c){console.error(c)}function U3(c){gb(c)}function vb(c,f){try{var m=c.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(x){setTimeout(function(){throw x})}}function H3(c,f,m){try{var x=c.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function sA(c,f,m){return m=$c(m),m.tag=3,m.payload={element:null},m.callback=function(){vb(c,f)},m}function z3(c){return c=$c(c),c.tag=3,c}function q3(c,f,m,x){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var P=x.value;c.payload=function(){return S(P)},c.callback=function(){H3(f,m,x)}}var H=m.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(c.callback=function(){H3(f,m,x),typeof S!="function"&&(Gc===null?Gc=new Set([this]):Gc.add(this));var Z=x.stack;this.componentDidCatch(x.value,{componentStack:Z!==null?Z:""})})}function Uae(c,f,m,x,S){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(f=m.alternate,f!==null&&eg(f,m,S,!0),m=ms.current,m!==null){switch(m.tag){case 13:return No===null?VA():m.alternate===null&&_r===0&&(_r=3),m.flags&=-257,m.flags|=65536,m.lanes=S,x===MT?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([x]):f.add(x),HA(c,x,S)),!1;case 22:return m.flags|=65536,x===MT?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([x]):m.add(x)),HA(c,x,S)),!1}throw Error(r(435,m.tag))}return HA(c,x,S),VA(),!1}if(gn)return f=ms.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=S,x!==jT&&(c=Error(r(422),{cause:x}),H0(ds(c,m)))):(x!==jT&&(f=Error(r(423),{cause:x}),H0(ds(f,m))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,x=ds(x,m),S=sA(c.stateNode,x,S),_A(c,S),_r!==4&&(_r=2)),!1;var P=Error(r(520),{cause:x});if(P=ds(P,m),cg===null?cg=[P]:cg.push(P),_r!==4&&(_r=2),f===null)return!0;x=ds(x,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,c=S&-S,m.lanes|=c,c=sA(m.stateNode,x,c),_A(m,c),!1;case 1:if(f=m.type,P=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Gc===null||!Gc.has(P))))return m.flags|=65536,S&=-S,m.lanes|=S,S=z3(S),q3(S,c,m,x),_A(m,S),!1}m=m.return}while(m!==null);return!1}var W3=Error(r(461)),fi=!1;function Pi(c,f,m,x){f.child=c===null?QL(f,null,m,x):kf(f,c.child,m,x)}function G3(c,f,m,x,S){m=m.render;var P=f.ref;if("ref"in x){var H={};for(var Z in x)Z!=="ref"&&(H[Z]=x[Z])}else H=x;return Vf(f),x=HT(c,f,m,H,P,S),Z=zT(),c!==null&&!fi?(qT(c,f,S),bl(c,f,S)):(gn&&Z&&DT(f),f.flags|=1,Pi(c,f,x,S),f.child)}function K3(c,f,m,x,S){if(c===null){var P=m.type;return typeof P=="function"&&!OA(P)&&P.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=P,Y3(c,f,P,x,S)):(c=wb(m.type,null,x,f,f.mode,S),c.ref=f.ref,c.return=f,f.child=c)}if(P=c.child,!mA(c,S)){var H=P.memoizedProps;if(m=m.compare,m=m!==null?m:B0,m(H,x)&&c.ref===f.ref)return bl(c,f,S)}return f.flags|=1,c=qc(P,x),c.ref=f.ref,c.return=f,f.child=c}function Y3(c,f,m,x,S){if(c!==null){var P=c.memoizedProps;if(B0(P,x)&&c.ref===f.ref)if(fi=!1,f.pendingProps=x=P,mA(c,S))(c.flags&131072)!==0&&(fi=!0);else return f.lanes=c.lanes,bl(c,f,S)}return oA(c,f,m,x,S)}function X3(c,f,m){var x=f.pendingProps,S=x.children,P=(f.stateNode._pendingVisibility&2)!==0,H=c!==null?c.memoizedState:null;if(J0(c,f),x.mode==="hidden"||P){if((f.flags&128)!==0){if(x=H!==null?H.baseLanes|m:m,c!==null){for(S=f.child=c.child,P=0;S!==null;)P=P|S.lanes|S.childLanes,S=S.sibling;f.childLanes=P&~x}else f.childLanes=0,f.child=null;return Q3(c,f,x,m)}if((m&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&ob(f,H!==null?H.cachePool:null),H!==null?ZL(f,H):LT(),JL(f);else return f.lanes=f.childLanes=536870912,Q3(c,f,H!==null?H.baseLanes|m:m,m)}else H!==null?(ob(f,H.cachePool),ZL(f,H),jc(),f.memoizedState=null):(c!==null&&ob(f,null),LT(),jc());return Pi(c,f,S,m),f.child}function Q3(c,f,m,x){var S=VT();return S=S===null?null:{parent:Xr._currentValue,pool:S},f.memoizedState={baseLanes:m,cachePool:S},c!==null&&ob(f,null),LT(),JL(f),c!==null&&eg(c,f,x,!0),null}function J0(c,f){var m=f.ref;if(m===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(f.flags|=2097664)}}function oA(c,f,m,x,S){return Vf(f),m=HT(c,f,m,x,void 0,S),x=zT(),c!==null&&!fi?(qT(c,f,S),bl(c,f,S)):(gn&&x&&DT(f),f.flags|=1,Pi(c,f,m,S),f.child)}function Z3(c,f,m,x,S,P){return Vf(f),f.updateQueue=null,m=i3(f,x,m,S),r3(c),x=zT(),c!==null&&!fi?(qT(c,f,P),bl(c,f,P)):(gn&&x&&DT(f),f.flags|=1,Pi(c,f,m,P),f.child)}function J3(c,f,m,x,S){if(Vf(f),f.stateNode===null){var P=Nh,H=m.contextType;typeof H=="object"&&H!==null&&(P=qi(H)),P=new m(x,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=aA,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=x,P.state=f.memoizedState,P.refs={},xA(f),H=m.contextType,P.context=typeof H=="object"&&H!==null?qi(H):Nh,P.state=f.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(iA(f,m,H,x),P.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(H=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),H!==P.state&&aA.enqueueReplaceState(P,P.state,null),rg(f,x,P,S),ng(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),x=!0}else if(c===null){P=f.stateNode;var Z=f.memoizedProps,ue=Bf(m,Z);P.props=ue;var ve=P.context,ke=m.contextType;H=Nh,typeof ke=="object"&&ke!==null&&(H=qi(ke));var Ve=m.getDerivedStateFromProps;ke=typeof Ve=="function"||typeof P.getSnapshotBeforeUpdate=="function",Z=f.pendingProps!==Z,ke||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Z||ve!==H)&&B3(f,P,x,H),Bc=!1;var Ae=f.memoizedState;P.state=Ae,rg(f,x,P,S),ng(),ve=f.memoizedState,Z||Ae!==ve||Bc?(typeof Ve=="function"&&(iA(f,m,Ve,x),ve=f.memoizedState),(ue=Bc||F3(f,m,ue,x,Ae,ve,H))?(ke||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=x,f.memoizedState=ve),P.props=x,P.state=ve,P.context=H,x=ue):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),x=!1)}else{P=f.stateNode,bA(c,f),H=f.memoizedProps,ke=Bf(m,H),P.props=ke,Ve=f.pendingProps,Ae=P.context,ve=m.contextType,ue=Nh,typeof ve=="object"&&ve!==null&&(ue=qi(ve)),Z=m.getDerivedStateFromProps,(ve=typeof Z=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==Ve||Ae!==ue)&&B3(f,P,x,ue),Bc=!1,Ae=f.memoizedState,P.state=Ae,rg(f,x,P,S),ng();var Ie=f.memoizedState;H!==Ve||Ae!==Ie||Bc||c!==null&&c.dependencies!==null&&yb(c.dependencies)?(typeof Z=="function"&&(iA(f,m,Z,x),Ie=f.memoizedState),(ke=Bc||F3(f,m,ke,x,Ae,Ie,ue)||c!==null&&c.dependencies!==null&&yb(c.dependencies))?(ve||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(x,Ie,ue),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(x,Ie,ue)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||H===c.memoizedProps&&Ae===c.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&Ae===c.memoizedState||(f.flags|=1024),f.memoizedProps=x,f.memoizedState=Ie),P.props=x,P.state=Ie,P.context=ue,x=ke):(typeof P.componentDidUpdate!="function"||H===c.memoizedProps&&Ae===c.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&Ae===c.memoizedState||(f.flags|=1024),x=!1)}return P=x,J0(c,f),x=(f.flags&128)!==0,P||x?(P=f.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,c!==null&&x?(f.child=kf(f,c.child,null,S),f.child=kf(f,null,m,S)):Pi(c,f,m,S),f.memoizedState=P.state,c=f.child):c=bl(c,f,S),c}function eF(c,f,m,x){return U0(),f.flags|=256,Pi(c,f,m,x),f.child}var lA={dehydrated:null,treeContext:null,retryLane:0};function cA(c){return{baseLanes:c,cachePool:n3()}}function uA(c,f,m){return c=c!==null?c.childLanes&~m:0,f&&(c|=xs),c}function tF(c,f,m){var x=f.pendingProps,S=!1,P=(f.flags&128)!==0,H;if((H=P)||(H=c!==null&&c.memoizedState===null?!1:(Yr.current&2)!==0),H&&(S=!0,f.flags&=-129),H=(f.flags&32)!==0,f.flags&=-33,c===null){if(gn){if(S?kc(f):jc(),gn){var Z=Oi,ue;if(ue=Z){e:{for(ue=Z,Z=Co;ue.nodeType!==8;){if(!Z){Z=null;break e}if(ue=Vs(ue.nextSibling),ue===null){Z=null;break e}}Z=ue}Z!==null?(f.memoizedState={dehydrated:Z,treeContext:Rf!==null?{id:gl,overflow:vl}:null,retryLane:536870912},ue=ys(18,null,null,0),ue.stateNode=Z,ue.return=f,f.child=ue,aa=f,Oi=null,ue=!0):ue=!1}ue||Df(f)}if(Z=f.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Z.data==="$!"?f.lanes=16:f.lanes=536870912,null;yl(f)}return Z=x.children,x=x.fallback,S?(jc(),S=f.mode,Z=dA({mode:"hidden",children:Z},S),x=Hf(x,S,m,null),Z.return=f,x.return=f,Z.sibling=x,f.child=Z,S=f.child,S.memoizedState=cA(m),S.childLanes=uA(c,H,m),f.memoizedState=lA,x):(kc(f),fA(f,Z))}if(ue=c.memoizedState,ue!==null&&(Z=ue.dehydrated,Z!==null)){if(P)f.flags&256?(kc(f),f.flags&=-257,f=hA(c,f,m)):f.memoizedState!==null?(jc(),f.child=c.child,f.flags|=128,f=null):(jc(),S=x.fallback,Z=f.mode,x=dA({mode:"visible",children:x.children},Z),S=Hf(S,Z,m,null),S.flags|=2,x.return=f,S.return=f,x.sibling=S,f.child=x,kf(f,c.child,null,m),x=f.child,x.memoizedState=cA(m),x.childLanes=uA(c,H,m),f.memoizedState=lA,f=S);else if(kc(f),Z.data==="$!"){if(H=Z.nextSibling&&Z.nextSibling.dataset,H)var ve=H.dgst;H=ve,x=Error(r(419)),x.stack="",x.digest=H,H0({value:x,source:null,stack:null}),f=hA(c,f,m)}else if(fi||eg(c,f,m,!1),H=(m&c.childLanes)!==0,fi||H){if(H=Xn,H!==null){if(x=m&-m,(x&42)!==0)x=1;else switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=64;break;case 268435456:x=134217728;break;default:x=0}if(x=(x&(H.suspendedLanes|m))!==0?0:x,x!==0&&x!==ue.retryLane)throw ue.retryLane=x,Dc(c,x),sa(H,c,x),W3}Z.data==="$?"||VA(),f=hA(c,f,m)}else Z.data==="$?"?(f.flags|=128,f.child=c.child,f=rse.bind(null,c),Z._reactRetry=f,f=null):(c=ue.treeContext,Oi=Vs(Z.nextSibling),aa=f,gn=!0,Bs=null,Co=!1,c!==null&&(hs[ps++]=gl,hs[ps++]=vl,hs[ps++]=Rf,gl=c.id,vl=c.overflow,Rf=f),f=fA(f,x.children),f.flags|=4096);return f}return S?(jc(),S=x.fallback,Z=f.mode,ue=c.child,ve=ue.sibling,x=qc(ue,{mode:"hidden",children:x.children}),x.subtreeFlags=ue.subtreeFlags&31457280,ve!==null?S=qc(ve,S):(S=Hf(S,Z,m,null),S.flags|=2),S.return=f,x.return=f,x.sibling=S,f.child=x,x=S,S=f.child,Z=c.child.memoizedState,Z===null?Z=cA(m):(ue=Z.cachePool,ue!==null?(ve=Xr._currentValue,ue=ue.parent!==ve?{parent:ve,pool:ve}:ue):ue=n3(),Z={baseLanes:Z.baseLanes|m,cachePool:ue}),S.memoizedState=Z,S.childLanes=uA(c,H,m),f.memoizedState=lA,x):(kc(f),m=c.child,c=m.sibling,m=qc(m,{mode:"visible",children:x.children}),m.return=f,m.sibling=null,c!==null&&(H=f.deletions,H===null?(f.deletions=[c],f.flags|=16):H.push(c)),f.child=m,f.memoizedState=null,m)}function fA(c,f){return f=dA({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function dA(c,f){return CF(c,f,0,null)}function hA(c,f,m){return kf(f,c.child,null,m),c=fA(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function nF(c,f,m){c.lanes|=f;var x=c.alternate;x!==null&&(x.lanes|=f),vA(c.return,f,m)}function pA(c,f,m,x,S){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(P.isBackwards=f,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=m,P.tailMode=S)}function rF(c,f,m){var x=f.pendingProps,S=x.revealOrder,P=x.tail;if(Pi(c,f,x.children,m),x=Yr.current,(x&2)!==0)x=x&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&nF(c,m,f);else if(c.tag===19)nF(c,m,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}x&=1}switch(he(Yr,x),S){case"forwards":for(m=f.child,S=null;m!==null;)c=m.alternate,c!==null&&sb(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=f.child,f.child=null):(S=m.sibling,m.sibling=null),pA(f,!1,S,m,P);break;case"backwards":for(m=null,S=f.child,f.child=null;S!==null;){if(c=S.alternate,c!==null&&sb(c)===null){f.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}pA(f,!0,m,null,P);break;case"together":pA(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function bl(c,f,m){if(c!==null&&(f.dependencies=c.dependencies),Wc|=f.lanes,(m&f.childLanes)===0)if(c!==null){if(eg(c,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,m=qc(c,c.pendingProps),f.child=m,m.return=f;c.sibling!==null;)c=c.sibling,m=m.sibling=qc(c,c.pendingProps),m.return=f;m.sibling=null}return f.child}function mA(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&yb(c)))}function Hae(c,f,m){switch(f.tag){case 3:Je(f,f.stateNode.containerInfo),Fc(f,Xr,c.memoizedState.cache),U0();break;case 27:case 5:Fe(f);break;case 4:Je(f,f.stateNode.containerInfo);break;case 10:Fc(f,f.type,f.memoizedProps.value);break;case 13:var x=f.memoizedState;if(x!==null)return x.dehydrated!==null?(kc(f),f.flags|=128,null):(m&f.child.childLanes)!==0?tF(c,f,m):(kc(f),c=bl(c,f,m),c!==null?c.sibling:null);kc(f);break;case 19:var S=(c.flags&128)!==0;if(x=(m&f.childLanes)!==0,x||(eg(c,f,m,!1),x=(m&f.childLanes)!==0),S){if(x)return rF(c,f,m);f.flags|=128}if(S=f.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),he(Yr,Yr.current),x)break;return null;case 22:case 23:return f.lanes=0,X3(c,f,m);case 24:Fc(f,Xr,c.memoizedState.cache)}return bl(c,f,m)}function iF(c,f,m){if(c!==null)if(c.memoizedProps!==f.pendingProps)fi=!0;else{if(!mA(c,m)&&(f.flags&128)===0)return fi=!1,Hae(c,f,m);fi=(c.flags&131072)!==0}else fi=!1,gn&&(f.flags&1048576)!==0&&UL(f,tb,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var x=f.elementType,S=x._init;if(x=S(x._payload),f.type=x,typeof x=="function")OA(x)?(c=Bf(x,c),f.tag=1,f=J3(null,f,x,c,m)):(f.tag=0,f=oA(null,f,x,c,m));else{if(x!=null){if(S=x.$$typeof,S===_){f.tag=11,f=G3(null,f,x,c,m);break e}else if(S===E){f.tag=14,f=K3(null,f,x,c,m);break e}}throw f=R(x)||x,Error(r(306,f,""))}}return f;case 0:return oA(c,f,f.type,f.pendingProps,m);case 1:return x=f.type,S=Bf(x,f.pendingProps),J3(c,f,x,S,m);case 3:e:{if(Je(f,f.stateNode.containerInfo),c===null)throw Error(r(387));var P=f.pendingProps;S=f.memoizedState,x=S.element,bA(c,f),rg(f,P,null,m);var H=f.memoizedState;if(P=H.cache,Fc(f,Xr,P),P!==S.cache&&yA(f,[Xr],m,!0),ng(),P=H.element,S.isDehydrated)if(S={element:P,isDehydrated:!1,cache:H.cache},f.updateQueue.baseState=S,f.memoizedState=S,f.flags&256){f=eF(c,f,P,m);break e}else if(P!==x){x=ds(Error(r(424)),f),H0(x),f=eF(c,f,P,m);break e}else for(Oi=Vs(f.stateNode.containerInfo.firstChild),aa=f,gn=!0,Bs=null,Co=!0,m=QL(f,null,P,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(U0(),P===x){f=bl(c,f,m);break e}Pi(c,f,P,m)}f=f.child}return f;case 26:return J0(c,f),c===null?(m=o5(f.type,null,f.pendingProps,null))?f.memoizedState=m:gn||(m=f.type,c=f.pendingProps,x=kb(Ue.current).createElement(m),x[ee]=f,x[ne]=c,Ri(x,m,c),ze(x),f.stateNode=x):f.memoizedState=o5(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return Fe(f),c===null&&gn&&(x=f.stateNode=i5(f.type,f.pendingProps,Ue.current),aa=f,Co=!0,Oi=Vs(x.firstChild)),x=f.pendingProps.children,c!==null||gn?Pi(c,f,x,m):f.child=kf(f,null,x,m),J0(c,f),f.child;case 5:return c===null&&gn&&((S=x=Oi)&&(x=xse(x,f.type,f.pendingProps,Co),x!==null?(f.stateNode=x,aa=f,Oi=Vs(x.firstChild),Co=!1,S=!0):S=!1),S||Df(f)),Fe(f),S=f.type,P=f.pendingProps,H=c!==null?c.memoizedProps:null,x=P.children,tC(S,P)?x=null:H!==null&&tC(S,H)&&(f.flags|=32),f.memoizedState!==null&&(S=HT(c,f,Mae,null,null,m),yg._currentValue=S),J0(c,f),Pi(c,f,x,m),f.child;case 6:return c===null&&gn&&((c=m=Oi)&&(m=bse(m,f.pendingProps,Co),m!==null?(f.stateNode=m,aa=f,Oi=null,c=!0):c=!1),c||Df(f)),null;case 13:return tF(c,f,m);case 4:return Je(f,f.stateNode.containerInfo),x=f.pendingProps,c===null?f.child=kf(f,null,x,m):Pi(c,f,x,m),f.child;case 11:return G3(c,f,f.type,f.pendingProps,m);case 7:return Pi(c,f,f.pendingProps,m),f.child;case 8:return Pi(c,f,f.pendingProps.children,m),f.child;case 12:return Pi(c,f,f.pendingProps.children,m),f.child;case 10:return x=f.pendingProps,Fc(f,f.type,x.value),Pi(c,f,x.children,m),f.child;case 9:return S=f.type._context,x=f.pendingProps.children,Vf(f),S=qi(S),x=x(S),f.flags|=1,Pi(c,f,x,m),f.child;case 14:return K3(c,f,f.type,f.pendingProps,m);case 15:return Y3(c,f,f.type,f.pendingProps,m);case 19:return rF(c,f,m);case 22:return X3(c,f,m);case 24:return Vf(f),x=qi(Xr),c===null?(S=VT(),S===null&&(S=Xn,P=BT(),S.pooledCache=P,P.refCount++,P!==null&&(S.pooledCacheLanes|=m),S=P),f.memoizedState={parent:x,cache:S},xA(f),Fc(f,Xr,S)):((c.lanes&m)!==0&&(bA(c,f),rg(f,null,null,m),ng()),S=c.memoizedState,P=f.memoizedState,S.parent!==x?(S={parent:x,cache:x},f.memoizedState=S,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=S),Fc(f,Xr,x)):(x=P.cache,Fc(f,Xr,x),x!==S.cache&&yA(f,[Xr],m,!0))),Pi(c,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var gA=ye(null),$f=null,_l=null;function Fc(c,f,m){he(gA,f._currentValue),f._currentValue=m}function wl(c){c._currentValue=gA.current,de(gA)}function vA(c,f,m){for(;c!==null;){var x=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,x!==null&&(x.childLanes|=f)):x!==null&&(x.childLanes&f)!==f&&(x.childLanes|=f),c===m)break;c=c.return}}function yA(c,f,m,x){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var P=S.dependencies;if(P!==null){var H=S.child;P=P.firstContext;e:for(;P!==null;){var Z=P;P=S;for(var ue=0;ue<f.length;ue++)if(Z.context===f[ue]){P.lanes|=m,Z=P.alternate,Z!==null&&(Z.lanes|=m),vA(P.return,m,c),x||(H=null);break e}P=Z.next}}else if(S.tag===18){if(H=S.return,H===null)throw Error(r(341));H.lanes|=m,P=H.alternate,P!==null&&(P.lanes|=m),vA(H,m,c),H=null}else H=S.child;if(H!==null)H.return=S;else for(H=S;H!==null;){if(H===c){H=null;break}if(S=H.sibling,S!==null){S.return=H.return,H=S;break}H=H.return}S=H}}function eg(c,f,m,x){c=null;for(var S=f,P=!1;S!==null;){if(!P){if((S.flags&524288)!==0)P=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var H=S.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var Z=S.type;ja(S.pendingProps.value,H.value)||(c!==null?c.push(Z):c=[Z])}}else if(S===$e.current){if(H=S.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(yg):c=[yg])}S=S.return}c!==null&&yA(f,c,m,x),f.flags|=262144}function yb(c){for(c=c.firstContext;c!==null;){if(!ja(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Vf(c){$f=c,_l=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function qi(c){return aF($f,c)}function xb(c,f){return $f===null&&Vf(c),aF(c,f)}function aF(c,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},_l===null){if(c===null)throw Error(r(308));_l=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else _l=_l.next=f;return m}var Bc=!1;function xA(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bA(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function $c(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Vc(c,f,m){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,(mr&2)!==0){var S=x.pending;return S===null?f.next=f:(f.next=S.next,S.next=f),x.pending=f,f=Jx(c),$L(c,null,m),f}return Zx(c,x,f,m),Jx(c)}function tg(c,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194176)!==0)){var x=f.lanes;x&=c.pendingLanes,m|=x,f.lanes=m,as(c,m)}}function _A(c,f){var m=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var H={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};P===null?S=P=H:P=P.next=H,m=m.next}while(m!==null);P===null?S=P=f:P=P.next=f}else S=P=f;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:P,shared:x.shared,callbacks:x.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=f}var wA=!1;function ng(){if(wA){var c=kh;if(c!==null)throw c}}function rg(c,f,m,x){wA=!1;var S=c.updateQueue;Bc=!1;var P=S.firstBaseUpdate,H=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var ue=Z,ve=ue.next;ue.next=null,H===null?P=ve:H.next=ve,H=ue;var ke=c.alternate;ke!==null&&(ke=ke.updateQueue,Z=ke.lastBaseUpdate,Z!==H&&(Z===null?ke.firstBaseUpdate=ve:Z.next=ve,ke.lastBaseUpdate=ue))}if(P!==null){var Ve=S.baseState;H=0,ke=ve=ue=null,Z=P;do{var Ae=Z.lane&-536870913,Ie=Ae!==Z.lane;if(Ie?(ln&Ae)===Ae:(x&Ae)===Ae){Ae!==0&&Ae===Dh&&(wA=!0),ke!==null&&(ke=ke.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var dt=c,Dt=Z;Ae=f;var wr=m;switch(Dt.tag){case 1:if(dt=Dt.payload,typeof dt=="function"){Ve=dt.call(wr,Ve,Ae);break e}Ve=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Dt.payload,Ae=typeof dt=="function"?dt.call(wr,Ve,Ae):dt,Ae==null)break e;Ve=L({},Ve,Ae);break e;case 2:Bc=!0}}Ae=Z.callback,Ae!==null&&(c.flags|=64,Ie&&(c.flags|=8192),Ie=S.callbacks,Ie===null?S.callbacks=[Ae]:Ie.push(Ae))}else Ie={lane:Ae,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ke===null?(ve=ke=Ie,ue=Ve):ke=ke.next=Ie,H|=Ae;if(Z=Z.next,Z===null){if(Z=S.shared.pending,Z===null)break;Ie=Z,Z=Ie.next,Ie.next=null,S.lastBaseUpdate=Ie,S.shared.pending=null}}while(!0);ke===null&&(ue=Ve),S.baseState=ue,S.firstBaseUpdate=ve,S.lastBaseUpdate=ke,P===null&&(S.shared.lanes=0),Wc|=H,c.lanes=H,c.memoizedState=Ve}}function sF(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function oF(c,f){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)sF(m[c],f)}function ig(c,f){try{var m=f.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var S=x.next;m=S;do{if((m.tag&c)===c){x=void 0;var P=m.create,H=m.inst;x=P(),H.destroy=x}m=m.next}while(m!==S)}}catch(Z){Wn(f,f.return,Z)}}function Uc(c,f,m){try{var x=f.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var P=S.next;x=P;do{if((x.tag&c)===c){var H=x.inst,Z=H.destroy;if(Z!==void 0){H.destroy=void 0,S=f;var ue=m;try{Z()}catch(ve){Wn(S,ue,ve)}}}x=x.next}while(x!==P)}}catch(ve){Wn(f,f.return,ve)}}function lF(c){var f=c.updateQueue;if(f!==null){var m=c.stateNode;try{oF(f,m)}catch(x){Wn(c,c.return,x)}}}function cF(c,f,m){m.props=Bf(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(x){Wn(c,f,x)}}function Uf(c,f){try{var m=c.ref;if(m!==null){var x=c.stateNode;switch(c.tag){case 26:case 27:case 5:var S=x;break;default:S=x}typeof m=="function"?c.refCleanup=m(S):m.current=S}}catch(P){Wn(c,f,P)}}function Ma(c,f){var m=c.ref,x=c.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(S){Wn(c,f,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){Wn(c,f,S)}else m.current=null}function uF(c){var f=c.type,m=c.memoizedProps,x=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(S){Wn(c,c.return,S)}}function fF(c,f,m){try{var x=c.stateNode;pse(x,c.type,m,f),x[ne]=f}catch(S){Wn(c,c.return,S)}}function dF(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function EA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||dF(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function SA(c,f,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,f?m.nodeType===8?m.parentNode.insertBefore(c,f):m.insertBefore(c,f):(m.nodeType===8?(f=m.parentNode,f.insertBefore(c,m)):(f=m,f.appendChild(c)),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=Db));else if(x!==4&&x!==27&&(c=c.child,c!==null))for(SA(c,f,m),c=c.sibling;c!==null;)SA(c,f,m),c=c.sibling}function bb(c,f,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,f?m.insertBefore(c,f):m.appendChild(c);else if(x!==4&&x!==27&&(c=c.child,c!==null))for(bb(c,f,m),c=c.sibling;c!==null;)bb(c,f,m),c=c.sibling}var El=!1,br=!1,TA=!1,hF=typeof WeakSet=="function"?WeakSet:Set,di=null,pF=!1;function zae(c,f){if(c=c.containerInfo,JA=$b,c=RL(c),CT(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,P=x.focusNode;x=x.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var H=0,Z=-1,ue=-1,ve=0,ke=0,Ve=c,Ae=null;t:for(;;){for(var Ie;Ve!==m||S!==0&&Ve.nodeType!==3||(Z=H+S),Ve!==P||x!==0&&Ve.nodeType!==3||(ue=H+x),Ve.nodeType===3&&(H+=Ve.nodeValue.length),(Ie=Ve.firstChild)!==null;)Ae=Ve,Ve=Ie;for(;;){if(Ve===c)break t;if(Ae===m&&++ve===S&&(Z=H),Ae===P&&++ke===x&&(ue=H),(Ie=Ve.nextSibling)!==null)break;Ve=Ae,Ae=Ve.parentNode}Ve=Ie}m=Z===-1||ue===-1?null:{start:Z,end:ue}}else m=null}m=m||{start:0,end:0}}else m=null;for(eC={focusedElem:c,selectionRange:m},$b=!1,di=f;di!==null;)if(f=di,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,di=c;else for(;di!==null;){switch(f=di,P=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&P!==null){c=void 0,m=f,S=P.memoizedProps,P=P.memoizedState,x=m.stateNode;try{var dt=Bf(m.type,S,m.elementType===m.type);c=x.getSnapshotBeforeUpdate(dt,P),x.__reactInternalSnapshotBeforeUpdate=c}catch(Dt){Wn(m,m.return,Dt)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,m=c.nodeType,m===9)iC(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":iC(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,di=c;break}di=f.return}return dt=pF,pF=!1,dt}function mF(c,f,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:Tl(c,m),x&4&&ig(5,m);break;case 1:if(Tl(c,m),x&4)if(c=m.stateNode,f===null)try{c.componentDidMount()}catch(Z){Wn(m,m.return,Z)}else{var S=Bf(m.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(S,f,c.__reactInternalSnapshotBeforeUpdate)}catch(Z){Wn(m,m.return,Z)}}x&64&&lF(m),x&512&&Uf(m,m.return);break;case 3:if(Tl(c,m),x&64&&(x=m.updateQueue,x!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{oF(x,c)}catch(Z){Wn(m,m.return,Z)}}break;case 26:Tl(c,m),x&512&&Uf(m,m.return);break;case 27:case 5:Tl(c,m),f===null&&x&4&&uF(m),x&512&&Uf(m,m.return);break;case 12:Tl(c,m);break;case 13:Tl(c,m),x&4&&yF(c,m);break;case 22:if(S=m.memoizedState!==null||El,!S){f=f!==null&&f.memoizedState!==null||br;var P=El,H=br;El=S,(br=f)&&!H?Hc(c,m,(m.subtreeFlags&8772)!==0):Tl(c,m),El=P,br=H}x&512&&(m.memoizedProps.mode==="manual"?Uf(m,m.return):Ma(m,m.return));break;default:Tl(c,m)}}function gF(c){var f=c.alternate;f!==null&&(c.alternate=null,gF(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Te(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var jr=null,La=!1;function Sl(c,f,m){for(m=m.child;m!==null;)vF(c,f,m),m=m.sibling}function vF(c,f,m){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Da,m)}catch{}switch(m.tag){case 26:br||Ma(m,f),Sl(c,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:br||Ma(m,f);var x=jr,S=La;for(jr=m.stateNode,Sl(c,f,m),m=m.stateNode,f=m.attributes;f.length;)m.removeAttributeNode(f[0]);Te(m),jr=x,La=S;break;case 5:br||Ma(m,f);case 6:S=jr;var P=La;if(jr=null,Sl(c,f,m),jr=S,La=P,jr!==null)if(La)try{c=jr,x=m.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)}catch(H){Wn(m,f,H)}else try{jr.removeChild(m.stateNode)}catch(H){Wn(m,f,H)}break;case 18:jr!==null&&(La?(f=jr,m=m.stateNode,f.nodeType===8?rC(f.parentNode,m):f.nodeType===1&&rC(f,m),wg(f)):rC(jr,m.stateNode));break;case 4:x=jr,S=La,jr=m.stateNode.containerInfo,La=!0,Sl(c,f,m),jr=x,La=S;break;case 0:case 11:case 14:case 15:br||Uc(2,m,f),br||Uc(4,m,f),Sl(c,f,m);break;case 1:br||(Ma(m,f),x=m.stateNode,typeof x.componentWillUnmount=="function"&&cF(m,f,x)),Sl(c,f,m);break;case 21:Sl(c,f,m);break;case 22:br||Ma(m,f),br=(x=br)||m.memoizedState!==null,Sl(c,f,m),br=x;break;default:Sl(c,f,m)}}function yF(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{wg(c)}catch(m){Wn(f,f.return,m)}}function qae(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new hF),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new hF),f;default:throw Error(r(435,c.tag))}}function AA(c,f){var m=qae(c);f.forEach(function(x){var S=ise.bind(null,c,x);m.has(x)||(m.add(x),x.then(S,S))})}function gs(c,f){var m=f.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x],P=c,H=f,Z=H;e:for(;Z!==null;){switch(Z.tag){case 27:case 5:jr=Z.stateNode,La=!1;break e;case 3:jr=Z.stateNode.containerInfo,La=!0;break e;case 4:jr=Z.stateNode.containerInfo,La=!0;break e}Z=Z.return}if(jr===null)throw Error(r(160));vF(P,H,S),jr=null,La=!1,P=S.alternate,P!==null&&(P.return=null),S.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)xF(f,c),f=f.sibling}var $s=null;function xF(c,f){var m=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:gs(f,c),vs(c),x&4&&(Uc(3,c,c.return),ig(3,c),Uc(5,c,c.return));break;case 1:gs(f,c),vs(c),x&512&&(br||m===null||Ma(m,m.return)),x&64&&El&&(c=c.updateQueue,c!==null&&(x=c.callbacks,x!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var S=$s;if(gs(f,c),vs(c),x&512&&(br||m===null||Ma(m,m.return)),x&4){var P=m!==null?m.memoizedState:null;if(x=c.memoizedState,m===null)if(x===null)if(c.stateNode===null){e:{x=c.type,m=c.memoizedProps,S=S.ownerDocument||S;t:switch(x){case"title":P=S.getElementsByTagName("title")[0],(!P||P[Se]||P[ee]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=S.createElement(x),S.head.insertBefore(P,S.querySelector("head > title"))),Ri(P,x,m),P[ee]=c,ze(P),x=P;break e;case"link":var H=u5("link","href",S).get(x+(m.href||""));if(H){for(var Z=0;Z<H.length;Z++)if(P=H[Z],P.getAttribute("href")===(m.href==null?null:m.href)&&P.getAttribute("rel")===(m.rel==null?null:m.rel)&&P.getAttribute("title")===(m.title==null?null:m.title)&&P.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){H.splice(Z,1);break t}}P=S.createElement(x),Ri(P,x,m),S.head.appendChild(P);break;case"meta":if(H=u5("meta","content",S).get(x+(m.content||""))){for(Z=0;Z<H.length;Z++)if(P=H[Z],P.getAttribute("content")===(m.content==null?null:""+m.content)&&P.getAttribute("name")===(m.name==null?null:m.name)&&P.getAttribute("property")===(m.property==null?null:m.property)&&P.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&P.getAttribute("charset")===(m.charSet==null?null:m.charSet)){H.splice(Z,1);break t}}P=S.createElement(x),Ri(P,x,m),S.head.appendChild(P);break;default:throw Error(r(468,x))}P[ee]=c,ze(P),x=P}c.stateNode=x}else f5(S,c.type,c.stateNode);else c.stateNode=c5(S,x,c.memoizedProps);else P!==x?(P===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):P.count--,x===null?f5(S,c.type,c.stateNode):c5(S,x,c.memoizedProps)):x===null&&c.stateNode!==null&&fF(c,c.memoizedProps,m.memoizedProps)}break;case 27:if(x&4&&c.alternate===null){S=c.stateNode,P=c.memoizedProps;try{for(var ue=S.firstChild;ue;){var ve=ue.nextSibling,ke=ue.nodeName;ue[Se]||ke==="HEAD"||ke==="BODY"||ke==="SCRIPT"||ke==="STYLE"||ke==="LINK"&&ue.rel.toLowerCase()==="stylesheet"||S.removeChild(ue),ue=ve}for(var Ve=c.type,Ae=S.attributes;Ae.length;)S.removeAttributeNode(Ae[0]);Ri(S,Ve,P),S[ee]=c,S[ne]=P}catch(dt){Wn(c,c.return,dt)}}case 5:if(gs(f,c),vs(c),x&512&&(br||m===null||Ma(m,m.return)),c.flags&32){S=c.stateNode;try{os(S,"")}catch(dt){Wn(c,c.return,dt)}}x&4&&c.stateNode!=null&&(S=c.memoizedProps,fF(c,S,m!==null?m.memoizedProps:S)),x&1024&&(TA=!0);break;case 6:if(gs(f,c),vs(c),x&4){if(c.stateNode===null)throw Error(r(162));x=c.memoizedProps,m=c.stateNode;try{m.nodeValue=x}catch(dt){Wn(c,c.return,dt)}}break;case 3:if(Lb=null,S=$s,$s=jb(f.containerInfo),gs(f,c),$s=S,vs(c),x&4&&m!==null&&m.memoizedState.isDehydrated)try{wg(f.containerInfo)}catch(dt){Wn(c,c.return,dt)}TA&&(TA=!1,bF(c));break;case 4:x=$s,$s=jb(c.stateNode.containerInfo),gs(f,c),vs(c),$s=x;break;case 12:gs(f,c),vs(c);break;case 13:gs(f,c),vs(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(jA=Wt()),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,AA(c,x)));break;case 22:if(x&512&&(br||m===null||Ma(m,m.return)),ue=c.memoizedState!==null,ve=m!==null&&m.memoizedState!==null,ke=El,Ve=br,El=ke||ue,br=Ve||ve,gs(f,c),br=Ve,El=ke,vs(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,x&8192&&(f._visibility=ue?f._visibility&-2:f._visibility|1,ue&&(f=El||br,m===null||ve||f||Fh(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(m=null,f=c;;){if(f.tag===5||f.tag===26||f.tag===27){if(m===null){ve=m=f;try{if(S=ve.stateNode,ue)P=S.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{H=ve.stateNode,Z=ve.memoizedProps.style;var Ie=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;H.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(dt){Wn(ve,ve.return,dt)}}}else if(f.tag===6){if(m===null){ve=f;try{ve.stateNode.nodeValue=ue?"":ve.memoizedProps}catch(dt){Wn(ve,ve.return,dt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}x&4&&(x=c.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,AA(c,m))));break;case 19:gs(f,c),vs(c),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,AA(c,x)));break;case 21:break;default:gs(f,c),vs(c)}}function vs(c){var f=c.flags;if(f&2){try{if(c.tag!==27){e:{for(var m=c.return;m!==null;){if(dF(m)){var x=m;break e}m=m.return}throw Error(r(160))}switch(x.tag){case 27:var S=x.stateNode,P=EA(c);bb(c,P,S);break;case 5:var H=x.stateNode;x.flags&32&&(os(H,""),x.flags&=-33);var Z=EA(c);bb(c,Z,H);break;case 3:case 4:var ue=x.stateNode.containerInfo,ve=EA(c);SA(c,ve,ue);break;default:throw Error(r(161))}}}catch(ke){Wn(c,c.return,ke)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function bF(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;bF(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Tl(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)mF(c,f.alternate,f),f=f.sibling}function Fh(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Uc(4,f,f.return),Fh(f);break;case 1:Ma(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&cF(f,f.return,m),Fh(f);break;case 26:case 27:case 5:Ma(f,f.return),Fh(f);break;case 22:Ma(f,f.return),f.memoizedState===null&&Fh(f);break;default:Fh(f)}c=c.sibling}}function Hc(c,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var x=f.alternate,S=c,P=f,H=P.flags;switch(P.tag){case 0:case 11:case 15:Hc(S,P,m),ig(4,P);break;case 1:if(Hc(S,P,m),x=P,S=x.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ve){Wn(x,x.return,ve)}if(x=P,S=x.updateQueue,S!==null){var Z=x.stateNode;try{var ue=S.shared.hiddenCallbacks;if(ue!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ue.length;S++)sF(ue[S],Z)}catch(ve){Wn(x,x.return,ve)}}m&&H&64&&lF(P),Uf(P,P.return);break;case 26:case 27:case 5:Hc(S,P,m),m&&x===null&&H&4&&uF(P),Uf(P,P.return);break;case 12:Hc(S,P,m);break;case 13:Hc(S,P,m),m&&H&4&&yF(S,P);break;case 22:P.memoizedState===null&&Hc(S,P,m),Uf(P,P.return);break;default:Hc(S,P,m)}f=f.sibling}}function CA(c,f){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&K0(m))}function NA(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&K0(c))}function zc(c,f,m,x){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)_F(c,f,m,x),f=f.sibling}function _F(c,f,m,x){var S=f.flags;switch(f.tag){case 0:case 11:case 15:zc(c,f,m,x),S&2048&&ig(9,f);break;case 3:zc(c,f,m,x),S&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&K0(c)));break;case 12:if(S&2048){zc(c,f,m,x),c=f.stateNode;try{var P=f.memoizedProps,H=P.id,Z=P.onPostCommit;typeof Z=="function"&&Z(H,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ue){Wn(f,f.return,ue)}}else zc(c,f,m,x);break;case 23:break;case 22:P=f.stateNode,f.memoizedState!==null?P._visibility&4?zc(c,f,m,x):ag(c,f):P._visibility&4?zc(c,f,m,x):(P._visibility|=4,Bh(c,f,m,x,(f.subtreeFlags&10256)!==0)),S&2048&&CA(f.alternate,f);break;case 24:zc(c,f,m,x),S&2048&&NA(f.alternate,f);break;default:zc(c,f,m,x)}}function Bh(c,f,m,x,S){for(S=S&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var P=c,H=f,Z=m,ue=x,ve=H.flags;switch(H.tag){case 0:case 11:case 15:Bh(P,H,Z,ue,S),ig(8,H);break;case 23:break;case 22:var ke=H.stateNode;H.memoizedState!==null?ke._visibility&4?Bh(P,H,Z,ue,S):ag(P,H):(ke._visibility|=4,Bh(P,H,Z,ue,S)),S&&ve&2048&&CA(H.alternate,H);break;case 24:Bh(P,H,Z,ue,S),S&&ve&2048&&NA(H.alternate,H);break;default:Bh(P,H,Z,ue,S)}f=f.sibling}}function ag(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=c,x=f,S=x.flags;switch(x.tag){case 22:ag(m,x),S&2048&&CA(x.alternate,x);break;case 24:ag(m,x),S&2048&&NA(x.alternate,x);break;default:ag(m,x)}f=f.sibling}}var sg=8192;function $h(c){if(c.subtreeFlags&sg)for(c=c.child;c!==null;)wF(c),c=c.sibling}function wF(c){switch(c.tag){case 26:$h(c),c.flags&sg&&c.memoizedState!==null&&Dse($s,c.memoizedState,c.memoizedProps);break;case 5:$h(c);break;case 3:case 4:var f=$s;$s=jb(c.stateNode.containerInfo),$h(c),$s=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=sg,sg=16777216,$h(c),sg=f):$h(c));break;default:$h(c)}}function EF(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function og(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var x=f[m];di=x,TF(x,c)}EF(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)SF(c),c=c.sibling}function SF(c){switch(c.tag){case 0:case 11:case 15:og(c),c.flags&2048&&Uc(9,c,c.return);break;case 3:og(c);break;case 12:og(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,_b(c)):og(c);break;default:og(c)}}function _b(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var x=f[m];di=x,TF(x,c)}EF(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Uc(8,f,f.return),_b(f);break;case 22:m=f.stateNode,m._visibility&4&&(m._visibility&=-5,_b(f));break;default:_b(f)}c=c.sibling}}function TF(c,f){for(;di!==null;){var m=di;switch(m.tag){case 0:case 11:case 15:Uc(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:K0(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,di=x;else e:for(m=c;di!==null;){x=di;var S=x.sibling,P=x.return;if(gF(x),x===m){di=null;break e}if(S!==null){S.return=P,di=S;break e}di=P}}}function Wae(c,f,m,x){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(c,f,m,x){return new Wae(c,f,m,x)}function OA(c){return c=c.prototype,!(!c||!c.isReactComponent)}function qc(c,f){var m=c.alternate;return m===null?(m=ys(c.tag,f,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=f,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&31457280,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,f=c.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function AF(c,f){c.flags&=31457282;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,f=m.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function wb(c,f,m,x,S,P){var H=0;if(x=c,typeof c=="function")OA(c)&&(H=1);else if(typeof c=="string")H=Rse(c,m,Ce.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return Hf(m.children,S,P,f);case u:H=8,S|=24;break;case d:return c=ys(12,m,f,S|2),c.elementType=d,c.lanes=P,c;case v:return c=ys(13,m,f,S),c.elementType=v,c.lanes=P,c;case b:return c=ys(19,m,f,S),c.elementType=b,c.lanes=P,c;case C:return CF(m,S,P,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case h:case y:H=10;break e;case g:H=9;break e;case _:H=11;break e;case E:H=14;break e;case N:H=16,x=null;break e}H=29,m=Error(r(130,c===null?"null":typeof c,"")),x=null}return f=ys(H,m,f,S),f.elementType=c,f.type=x,f.lanes=P,f}function Hf(c,f,m,x){return c=ys(7,c,x,f),c.lanes=m,c}function CF(c,f,m,x){c=ys(22,c,x,f),c.elementType=C,c.lanes=m;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=S._current;if(P===null)throw Error(r(456));if((S._pendingVisibility&2)===0){var H=Dc(P,2);H!==null&&(S._pendingVisibility|=2,sa(H,P,2))}},attach:function(){var P=S._current;if(P===null)throw Error(r(456));if((S._pendingVisibility&2)!==0){var H=Dc(P,2);H!==null&&(S._pendingVisibility&=-3,sa(H,P,2))}}};return c.stateNode=S,c}function PA(c,f,m){return c=ys(6,c,null,f),c.lanes=m,c}function RA(c,f,m){return f=ys(4,c.children!==null?c.children:[],c.key,f),f.lanes=m,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Al(c){c.flags|=4}function NF(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!d5(f)){if(f=ms.current,f!==null&&((ln&4194176)===ln?No!==null:(ln&62914560)!==ln&&(ln&536870912)===0||f!==No))throw q0=MT,qL;c.flags|=8192}}function Eb(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?qn():536870912,c.lanes|=f,Uh|=f)}function lg(c,f){if(!gn)switch(c.tailMode){case"hidden":f=c.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function pr(c){var f=c.alternate!==null&&c.alternate.child===c.child,m=0,x=0;if(f)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&31457280,x|=S.flags&31457280,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=x,c.childLanes=m,f}function Gae(c,f,m){var x=f.pendingProps;switch(kT(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(f),null;case 1:return pr(f),null;case 3:return m=f.stateNode,x=null,c!==null&&(x=c.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),wl(Xr),it(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(V0(f)?Al(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Bs!==null&&(BA(Bs),Bs=null))),pr(f),null;case 26:return m=f.memoizedState,c===null?(Al(f),m!==null?(pr(f),NF(f,m)):(pr(f),f.flags&=-16777217)):m?m!==c.memoizedState?(Al(f),pr(f),NF(f,m)):(pr(f),f.flags&=-16777217):(c.memoizedProps!==x&&Al(f),pr(f),f.flags&=-16777217),null;case 27:Rt(f),m=Ue.current;var S=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==x&&Al(f);else{if(!x){if(f.stateNode===null)throw Error(r(166));return pr(f),null}c=Ce.current,V0(f)?HL(f):(c=i5(S,x,m),f.stateNode=c,Al(f))}return pr(f),null;case 5:if(Rt(f),m=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==x&&Al(f);else{if(!x){if(f.stateNode===null)throw Error(r(166));return pr(f),null}if(c=Ce.current,V0(f))HL(f);else{switch(S=kb(Ue.current),c){case 1:c=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=S.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof x.is=="string"?S.createElement("select",{is:x.is}):S.createElement("select"),x.multiple?c.multiple=!0:x.size&&(c.size=x.size);break;default:c=typeof x.is=="string"?S.createElement(m,{is:x.is}):S.createElement(m)}}c[ee]=f,c[ne]=x;e:for(S=f.child;S!==null;){if(S.tag===5||S.tag===6)c.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break e;for(;S.sibling===null;){if(S.return===null||S.return===f)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}f.stateNode=c;e:switch(Ri(c,m,x),m){case"button":case"input":case"select":case"textarea":c=!!x.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Al(f)}}return pr(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==x&&Al(f);else{if(typeof x!="string"&&f.stateNode===null)throw Error(r(166));if(c=Ue.current,V0(f)){if(c=f.stateNode,m=f.memoizedProps,x=null,S=aa,S!==null)switch(S.tag){case 27:case 5:x=S.memoizedProps}c[ee]=f,c=!!(c.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||ZF(c.nodeValue,m)),c||Df(f)}else c=kb(c).createTextNode(x),c[ee]=f,f.stateNode=c}return pr(f),null;case 13:if(x=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=V0(f),x!==null&&x.dehydrated!==null){if(c===null){if(!S)throw Error(r(318));if(S=f.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[ee]=f}else U0(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;pr(f),S=!1}else Bs!==null&&(BA(Bs),Bs=null),S=!0;if(!S)return f.flags&256?(yl(f),f):(yl(f),null)}if(yl(f),(f.flags&128)!==0)return f.lanes=m,f;if(m=x!==null,c=c!==null&&c.memoizedState!==null,m){x=f.child,S=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(S=x.alternate.memoizedState.cachePool.pool);var P=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(P=x.memoizedState.cachePool.pool),P!==S&&(x.flags|=2048)}return m!==c&&m&&(f.child.flags|=8192),Eb(f,f.updateQueue),pr(f),null;case 4:return it(),c===null&&XA(f.stateNode.containerInfo),pr(f),null;case 10:return wl(f.type),pr(f),null;case 19:if(de(Yr),S=f.memoizedState,S===null)return pr(f),null;if(x=(f.flags&128)!==0,P=S.rendering,P===null)if(x)lg(S,!1);else{if(_r!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(P=sb(c),P!==null){for(f.flags|=128,lg(S,!1),c=P.updateQueue,f.updateQueue=c,Eb(f,c),f.subtreeFlags=0,c=m,m=f.child;m!==null;)AF(m,c),m=m.sibling;return he(Yr,Yr.current&1|2),f.child}c=c.sibling}S.tail!==null&&Wt()>Sb&&(f.flags|=128,x=!0,lg(S,!1),f.lanes=4194304)}else{if(!x)if(c=sb(P),c!==null){if(f.flags|=128,x=!0,c=c.updateQueue,f.updateQueue=c,Eb(f,c),lg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!gn)return pr(f),null}else 2*Wt()-S.renderingStartTime>Sb&&m!==536870912&&(f.flags|=128,x=!0,lg(S,!1),f.lanes=4194304);S.isBackwards?(P.sibling=f.child,f.child=P):(c=S.last,c!==null?c.sibling=P:f.child=P,S.last=P)}return S.tail!==null?(f=S.tail,S.rendering=f,S.tail=f.sibling,S.renderingStartTime=Wt(),f.sibling=null,c=Yr.current,he(Yr,x?c&1|2:c&1),f):(pr(f),null);case 22:case 23:return yl(f),FT(),x=f.memoizedState!==null,c!==null?c.memoizedState!==null!==x&&(f.flags|=8192):x&&(f.flags|=8192),x?(m&536870912)!==0&&(f.flags&128)===0&&(pr(f),f.subtreeFlags&6&&(f.flags|=8192)):pr(f),m=f.updateQueue,m!==null&&Eb(f,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==m&&(f.flags|=2048),c!==null&&de(jf),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),wl(Xr),pr(f),null;case 25:return null}throw Error(r(156,f.tag))}function Kae(c,f){switch(kT(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return wl(Xr),it(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Rt(f),null;case 13:if(yl(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));U0()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return de(Yr),null;case 4:return it(),null;case 10:return wl(f.type),null;case 22:case 23:return yl(f),FT(),c!==null&&de(jf),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return wl(Xr),null;case 25:return null;default:return null}}function OF(c,f){switch(kT(f),f.tag){case 3:wl(Xr),it();break;case 26:case 27:case 5:Rt(f);break;case 4:it();break;case 13:yl(f);break;case 19:de(Yr);break;case 10:wl(f.type);break;case 22:case 23:yl(f),FT(),c!==null&&de(jf);break;case 24:wl(Xr)}}var Yae={getCacheForType:function(c){var f=qi(Xr),m=f.data.get(c);return m===void 0&&(m=c(),f.data.set(c,m)),m}},Xae=typeof WeakMap=="function"?WeakMap:Map,mr=0,Xn=null,Kt=null,ln=0,Qn=0,Fa=null,Cl=!1,Vh=!1,IA=!1,Nl=0,_r=0,Wc=0,zf=0,DA=0,xs=0,Uh=0,cg=null,Po=null,kA=!1,jA=0,Sb=1/0,Tb=null,Gc=null,Ab=!1,qf=null,ug=0,MA=0,LA=null,fg=0,FA=null;function Ba(){if((mr&2)!==0&&ln!==0)return ln&-ln;if(D.T!==null){var c=Dh;return c!==0?c:WA()}return hh()}function PF(){xs===0&&(xs=(ln&536870912)===0||gn?yr():536870912);var c=ms.current;return c!==null&&(c.flags|=32),xs}function sa(c,f,m){(c===Xn&&Qn===2||c.cancelPendingCommit!==null)&&(Hh(c,0),Ol(c,ln,xs,!1)),pn(c,m),((mr&2)===0||c!==Xn)&&(c===Xn&&((mr&2)===0&&(zf|=m),_r===4&&Ol(c,ln,xs,!1)),Ro(c))}function RF(c,f,m){if((mr&6)!==0)throw Error(r(327));var x=!m&&(f&60)===0&&(f&c.expiredLanes)===0||zn(c,f),S=x?Jae(c,f):UA(c,f,!0),P=x;do{if(S===0){Vh&&!x&&Ol(c,f,0,!1);break}else if(S===6)Ol(c,f,0,!Cl);else{if(m=c.current.alternate,P&&!Qae(m)){S=UA(c,f,!1),P=!1;continue}if(S===2){if(P=f,c.errorRecoveryDisabledLanes&P)var H=0;else H=c.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){f=H;e:{var Z=c;S=cg;var ue=Z.current.memoizedState.isDehydrated;if(ue&&(Hh(Z,H).flags|=256),H=UA(Z,H,!1),H!==2){if(IA&&!ue){Z.errorRecoveryDisabledLanes|=P,zf|=P,S=4;break e}P=Po,Po=S,P!==null&&BA(P)}S=H}if(P=!1,S!==2)continue}}if(S===1){Hh(c,0),Ol(c,f,0,!0);break}e:{switch(x=c,S){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){Ol(x,f,xs,!Cl);break e}break;case 2:Po=null;break;case 3:case 5:break;default:throw Error(r(329))}if(x.finishedWork=m,x.finishedLanes=f,(f&62914560)===f&&(P=jA+300-Wt(),10<P)){if(Ol(x,f,xs,!Cl),_n(x,0)!==0)break e;x.timeoutHandle=t5(IF.bind(null,x,m,Po,Tb,kA,f,xs,zf,Uh,Cl,2,-0,0),P);break e}IF(x,m,Po,Tb,kA,f,xs,zf,Uh,Cl,0,-0,0)}}break}while(!0);Ro(c)}function BA(c){Po===null?Po=c:Po.push.apply(Po,c)}function IF(c,f,m,x,S,P,H,Z,ue,ve,ke,Ve,Ae){var Ie=f.subtreeFlags;if((Ie&8192||(Ie&16785408)===16785408)&&(vg={stylesheets:null,count:0,unsuspend:Ise},wF(f),f=kse(),f!==null)){c.cancelPendingCommit=f(BF.bind(null,c,m,x,S,H,Z,ue,1,Ve,Ae)),Ol(c,P,H,!ve);return}BF(c,m,x,S,H,Z,ue,ke,Ve,Ae)}function Qae(c){for(var f=c;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var S=m[x],P=S.getSnapshot;S=S.value;try{if(!ja(P(),S))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ol(c,f,m,x){f&=~DA,f&=~zf,c.suspendedLanes|=f,c.pingedLanes&=~f,x&&(c.warmLanes|=f),x=c.expirationTimes;for(var S=f;0<S;){var P=31-qr(S),H=1<<P;x[P]=-1,S&=~H}m!==0&&ba(c,m,f)}function Cb(){return(mr&6)===0?(dg(0),!1):!0}function $A(){if(Kt!==null){if(Qn===0)var c=Kt.return;else c=Kt,_l=$f=null,WT(c),Rh=null,W0=0,c=Kt;for(;c!==null;)OF(c.alternate,c),c=c.return;Kt=null}}function Hh(c,f){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,gse(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),$A(),Xn=c,Kt=m=qc(c.current,null),ln=f,Qn=0,Fa=null,Cl=!1,Vh=zn(c,f),IA=!1,Uh=xs=DA=zf=Wc=_r=0,Po=cg=null,kA=!1,(f&8)!==0&&(f|=f&32);var x=c.entangledLanes;if(x!==0)for(c=c.entanglements,x&=f;0<x;){var S=31-qr(x),P=1<<S;f|=c[S],x&=~P}return Nl=f,Qx(),m}function DF(c,f){$t=null,D.H=Oo,f===z0?(f=KL(),Qn=3):f===qL?(f=KL(),Qn=4):Qn=f===W3?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Fa=f,Kt===null&&(_r=1,vb(c,ds(f,c.current)))}function kF(){var c=D.H;return D.H=Oo,c===null?Oo:c}function jF(){var c=D.A;return D.A=Yae,c}function VA(){_r=4,Cl||(ln&4194176)!==ln&&ms.current!==null||(Vh=!0),(Wc&134217727)===0&&(zf&134217727)===0||Xn===null||Ol(Xn,ln,xs,!1)}function UA(c,f,m){var x=mr;mr|=2;var S=kF(),P=jF();(Xn!==c||ln!==f)&&(Tb=null,Hh(c,f)),f=!1;var H=_r;e:do try{if(Qn!==0&&Kt!==null){var Z=Kt,ue=Fa;switch(Qn){case 8:$A(),H=6;break e;case 3:case 2:case 6:ms.current===null&&(f=!0);var ve=Qn;if(Qn=0,Fa=null,zh(c,Z,ue,ve),m&&Vh){H=0;break e}break;default:ve=Qn,Qn=0,Fa=null,zh(c,Z,ue,ve)}}Zae(),H=_r;break}catch(ke){DF(c,ke)}while(!0);return f&&c.shellSuspendCounter++,_l=$f=null,mr=x,D.H=S,D.A=P,Kt===null&&(Xn=null,ln=0,Qx()),H}function Zae(){for(;Kt!==null;)MF(Kt)}function Jae(c,f){var m=mr;mr|=2;var x=kF(),S=jF();Xn!==c||ln!==f?(Tb=null,Sb=Wt()+500,Hh(c,f)):Vh=zn(c,f);e:do try{if(Qn!==0&&Kt!==null){f=Kt;var P=Fa;t:switch(Qn){case 1:Qn=0,Fa=null,zh(c,f,P,1);break;case 2:if(WL(P)){Qn=0,Fa=null,LF(f);break}f=function(){Qn===2&&Xn===c&&(Qn=7),Ro(c)},P.then(f,f);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:WL(P)?(Qn=0,Fa=null,LF(f)):(Qn=0,Fa=null,zh(c,f,P,7));break;case 5:var H=null;switch(Kt.tag){case 26:H=Kt.memoizedState;case 5:case 27:var Z=Kt;if(!H||d5(H)){Qn=0,Fa=null;var ue=Z.sibling;if(ue!==null)Kt=ue;else{var ve=Z.return;ve!==null?(Kt=ve,Nb(ve)):Kt=null}break t}}Qn=0,Fa=null,zh(c,f,P,5);break;case 6:Qn=0,Fa=null,zh(c,f,P,6);break;case 8:$A(),_r=6;break e;default:throw Error(r(462))}}ese();break}catch(ke){DF(c,ke)}while(!0);return _l=$f=null,D.H=x,D.A=S,mr=m,Kt!==null?0:(Xn=null,ln=0,Qx(),_r)}function ese(){for(;Kt!==null&&!zi();)MF(Kt)}function MF(c){var f=iF(c.alternate,c,Nl);c.memoizedProps=c.pendingProps,f===null?Nb(c):Kt=f}function LF(c){var f=c,m=f.alternate;switch(f.tag){case 15:case 0:f=Z3(m,f,f.pendingProps,f.type,void 0,ln);break;case 11:f=Z3(m,f,f.pendingProps,f.type.render,f.ref,ln);break;case 5:WT(f);default:OF(m,f),f=Kt=AF(f,Nl),f=iF(m,f,Nl)}c.memoizedProps=c.pendingProps,f===null?Nb(c):Kt=f}function zh(c,f,m,x){_l=$f=null,WT(f),Rh=null,W0=0;var S=f.return;try{if(Uae(c,S,f,m,ln)){_r=1,vb(c,ds(m,c.current)),Kt=null;return}}catch(P){if(S!==null)throw Kt=S,P;_r=1,vb(c,ds(m,c.current)),Kt=null;return}f.flags&32768?(gn||x===1?c=!0:Vh||(ln&536870912)!==0?c=!1:(Cl=c=!0,(x===2||x===3||x===6)&&(x=ms.current,x!==null&&x.tag===13&&(x.flags|=16384))),FF(f,c)):Nb(f)}function Nb(c){var f=c;do{if((f.flags&32768)!==0){FF(f,Cl);return}c=f.return;var m=Gae(f.alternate,f,Nl);if(m!==null){Kt=m;return}if(f=f.sibling,f!==null){Kt=f;return}Kt=f=c}while(f!==null);_r===0&&(_r=5)}function FF(c,f){do{var m=Kae(c.alternate,c);if(m!==null){m.flags&=32767,Kt=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(c=c.sibling,c!==null)){Kt=c;return}Kt=c=m}while(c!==null);_r=6,Kt=null}function BF(c,f,m,x,S,P,H,Z,ue,ve){var ke=D.T,Ve=K.p;try{K.p=2,D.T=null,tse(c,f,m,x,Ve,S,P,H,Z,ue,ve)}finally{D.T=ke,K.p=Ve}}function tse(c,f,m,x,S,P,H,Z){do qh();while(qf!==null);if((mr&6)!==0)throw Error(r(327));var ue=c.finishedWork;if(x=c.finishedLanes,ue===null)return null;if(c.finishedWork=null,c.finishedLanes=0,ue===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var ve=ue.lanes|ue.childLanes;if(ve|=RT,Ac(c,x,ve,P,H,Z),c===Xn&&(Kt=Xn=null,ln=0),(ue.subtreeFlags&10256)===0&&(ue.flags&10256)===0||Ab||(Ab=!0,MA=ve,LA=m,ase(Ir,function(){return qh(),null})),m=(ue.flags&15990)!==0,(ue.subtreeFlags&15990)!==0||m?(m=D.T,D.T=null,P=K.p,K.p=2,H=mr,mr|=4,zae(c,ue),xF(ue,c),Tae(eC,c.containerInfo),$b=!!JA,eC=JA=null,c.current=ue,mF(c,ue.alternate,ue),vr(),mr=H,K.p=P,D.T=m):c.current=ue,Ab?(Ab=!1,qf=c,ug=x):$F(c,ve),ve=c.pendingLanes,ve===0&&(Gc=null),yo(ue.stateNode),Ro(c),f!==null)for(S=c.onRecoverableError,ue=0;ue<f.length;ue++)ve=f[ue],S(ve.value,{componentStack:ve.stack});return(ug&3)!==0&&qh(),ve=c.pendingLanes,(x&4194218)!==0&&(ve&42)!==0?c===FA?fg++:(fg=0,FA=c):fg=0,dg(0),null}function $F(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,K0(f)))}function qh(){if(qf!==null){var c=qf,f=MA;MA=0;var m=Cc(ug),x=D.T,S=K.p;try{if(K.p=32>m?32:m,D.T=null,qf===null)var P=!1;else{m=LA,LA=null;var H=qf,Z=ug;if(qf=null,ug=0,(mr&6)!==0)throw Error(r(331));var ue=mr;if(mr|=4,SF(H.current),_F(H,H.current,Z,m),mr=ue,dg(0,!1),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Da,H)}catch{}P=!0}return P}finally{K.p=S,D.T=x,$F(c,f)}}return!1}function VF(c,f,m){f=ds(m,f),f=sA(c.stateNode,f,2),c=Vc(c,f,2),c!==null&&(pn(c,2),Ro(c))}function Wn(c,f,m){if(c.tag===3)VF(c,c,m);else for(;f!==null;){if(f.tag===3){VF(f,c,m);break}else if(f.tag===1){var x=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Gc===null||!Gc.has(x))){c=ds(m,c),m=z3(2),x=Vc(f,m,2),x!==null&&(q3(m,x,f,c),pn(x,2),Ro(x));break}}f=f.return}}function HA(c,f,m){var x=c.pingCache;if(x===null){x=c.pingCache=new Xae;var S=new Set;x.set(f,S)}else S=x.get(f),S===void 0&&(S=new Set,x.set(f,S));S.has(m)||(IA=!0,S.add(m),c=nse.bind(null,c,f,m),f.then(c,c))}function nse(c,f,m){var x=c.pingCache;x!==null&&x.delete(f),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,Xn===c&&(ln&m)===m&&(_r===4||_r===3&&(ln&62914560)===ln&&300>Wt()-jA?(mr&2)===0&&Hh(c,0):DA|=m,Uh===ln&&(Uh=0)),Ro(c)}function UF(c,f){f===0&&(f=qn()),c=Dc(c,f),c!==null&&(pn(c,f),Ro(c))}function rse(c){var f=c.memoizedState,m=0;f!==null&&(m=f.retryLane),UF(c,m)}function ise(c,f){var m=0;switch(c.tag){case 13:var x=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=c.stateNode;break;case 22:x=c.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(f),UF(c,m)}function ase(c,f){return nr(c,f)}var Ob=null,Wh=null,zA=!1,Pb=!1,qA=!1,Wf=0;function Ro(c){c!==Wh&&c.next===null&&(Wh===null?Ob=Wh=c:Wh=Wh.next=c),Pb=!0,zA||(zA=!0,ose(sse))}function dg(c,f){if(!qA&&Pb){qA=!0;do for(var m=!1,x=Ob;x!==null;){if(c!==0){var S=x.pendingLanes;if(S===0)var P=0;else{var H=x.suspendedLanes,Z=x.pingedLanes;P=(1<<31-qr(42|c)+1)-1,P&=S&~(H&~Z),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(m=!0,qF(x,P))}else P=ln,P=_n(x,x===Xn?P:0),(P&3)===0||zn(x,P)||(m=!0,qF(x,P));x=x.next}while(m);qA=!1}}function sse(){Pb=zA=!1;var c=0;Wf!==0&&(mse()&&(c=Wf),Wf=0);for(var f=Wt(),m=null,x=Ob;x!==null;){var S=x.next,P=HF(x,f);P===0?(x.next=null,m===null?Ob=S:m.next=S,S===null&&(Wh=m)):(m=x,(c!==0||(P&3)!==0)&&(Pb=!0)),x=S}dg(c)}function HF(c,f){for(var m=c.suspendedLanes,x=c.pingedLanes,S=c.expirationTimes,P=c.pendingLanes&-62914561;0<P;){var H=31-qr(P),Z=1<<H,ue=S[H];ue===-1?((Z&m)===0||(Z&x)!==0)&&(S[H]=oi(Z,f)):ue<=f&&(c.expiredLanes|=Z),P&=~Z}if(f=Xn,m=ln,m=_n(c,c===f?m:0),x=c.callbackNode,m===0||c===f&&Qn===2||c.cancelPendingCommit!==null)return x!==null&&x!==null&&cr(x),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||zn(c,m)){if(f=m&-m,f===c.callbackPriority)return f;switch(x!==null&&cr(x),Cc(m)){case 2:case 8:m=Mn;break;case 32:m=Ir;break;case 268435456:m=Ia;break;default:m=Ir}return x=zF.bind(null,c),m=nr(m,x),c.callbackPriority=f,c.callbackNode=m,f}return x!==null&&x!==null&&cr(x),c.callbackPriority=2,c.callbackNode=null,2}function zF(c,f){var m=c.callbackNode;if(qh()&&c.callbackNode!==m)return null;var x=ln;return x=_n(c,c===Xn?x:0),x===0?null:(RF(c,x,f),HF(c,Wt()),c.callbackNode!=null&&c.callbackNode===m?zF.bind(null,c):null)}function qF(c,f){if(qh())return null;RF(c,f,!0)}function ose(c){vse(function(){(mr&6)!==0?nr(Hn,c):c()})}function WA(){return Wf===0&&(Wf=yr()),Wf}function WF(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:bo(""+c)}function GF(c,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,c.id&&m.setAttribute("form",c.id),f.parentNode.insertBefore(m,f),c=new FormData(c),m.parentNode.removeChild(m),c}function lse(c,f,m,x,S){if(f==="submit"&&m&&m.stateNode===S){var P=WF((S[ne]||null).action),H=x.submitter;H&&(f=(f=H[ne]||null)?WF(f.formAction):H.getAttribute("formAction"),f!==null&&(P=f,H=null));var Z=new vh("action","action",null,x,S);c.push({event:Z,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Wf!==0){var ue=H?GF(S,H):new FormData(S);tA(m,{pending:!0,data:ue,method:S.method,action:P},null,ue)}}else typeof P=="function"&&(Z.preventDefault(),ue=H?GF(S,H):new FormData(S),tA(m,{pending:!0,data:ue,method:S.method,action:P},P,ue))},currentTarget:S}]})}}for(var GA=0;GA<BL.length;GA++){var KA=BL[GA],cse=KA.toLowerCase(),use=KA[0].toUpperCase()+KA.slice(1);Fs(cse,"on"+use)}Fs(kL,"onAnimationEnd"),Fs(jL,"onAnimationIteration"),Fs(ML,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(Cae,"onTransitionRun"),Fs(Nae,"onTransitionStart"),Fs(Oae,"onTransitionCancel"),Fs(LL,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fse=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hg));function KF(c,f){f=(f&4)!==0;for(var m=0;m<c.length;m++){var x=c[m],S=x.event;x=x.listeners;e:{var P=void 0;if(f)for(var H=x.length-1;0<=H;H--){var Z=x[H],ue=Z.instance,ve=Z.currentTarget;if(Z=Z.listener,ue!==P&&S.isPropagationStopped())break e;P=Z,S.currentTarget=ve;try{P(S)}catch(ke){gb(ke)}S.currentTarget=null,P=ue}else for(H=0;H<x.length;H++){if(Z=x[H],ue=Z.instance,ve=Z.currentTarget,Z=Z.listener,ue!==P&&S.isPropagationStopped())break e;P=Z,S.currentTarget=ve;try{P(S)}catch(ke){gb(ke)}S.currentTarget=null,P=ue}}}}function en(c,f){var m=f[le];m===void 0&&(m=f[le]=new Set);var x=c+"__bubble";m.has(x)||(YF(f,c,2,!1),m.add(x))}function YA(c,f,m){var x=0;f&&(x|=4),YF(m,c,x,f)}var Rb="_reactListening"+Math.random().toString(36).slice(2);function XA(c){if(!c[Rb]){c[Rb]=!0,Tt.forEach(function(m){m!=="selectionchange"&&(fse.has(m)||YA(m,!1,c),YA(m,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Rb]||(f[Rb]=!0,YA("selectionchange",!1,f))}}function YF(c,f,m,x){switch(y5(f)){case 2:var S=Lse;break;case 8:S=Fse;break;default:S=cC}m=S.bind(null,f,m,c),S=void 0,!cs||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(S=!0),x?S!==void 0?c.addEventListener(f,m,{capture:!0,passive:S}):c.addEventListener(f,m,!0):S!==void 0?c.addEventListener(f,m,{passive:S}):c.addEventListener(f,m,!1)}function QA(c,f,m,x,S){var P=x;if((f&1)===0&&(f&2)===0&&x!==null)e:for(;;){if(x===null)return;var H=x.tag;if(H===3||H===4){var Z=x.stateNode.containerInfo;if(Z===S||Z.nodeType===8&&Z.parentNode===S)break;if(H===4)for(H=x.return;H!==null;){var ue=H.tag;if((ue===3||ue===4)&&(ue=H.stateNode.containerInfo,ue===S||ue.nodeType===8&&ue.parentNode===S))return;H=H.return}for(;Z!==null;){if(H=Be(Z),H===null)return;if(ue=H.tag,ue===5||ue===6||ue===26||ue===27){x=P=H;continue e}Z=Z.parentNode}}x=x.return}Mx(function(){var ve=P,ke=gh(m),Ve=[];e:{var Ae=FL.get(c);if(Ae!==void 0){var Ie=vh,dt=c;switch(c){case"keypress":if(wo(m)===0)break e;case"keydown":case"keyup":Ie=Eh;break;case"focusin":dt="focus",Ie=bh;break;case"focusout":dt="blur",Ie=bh;break;case"beforeblur":case"afterblur":Ie=bh;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=ET;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=zx;break;case kL:case jL:case ML:Ie=_h;break;case LL:Ie=Wx;break;case"scroll":case"scrollend":Ie=Lx;break;case"wheel":Ie=Sh;break;case"copy":case"cut":case"paste":Ie=wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=L0;break;case"toggle":case"beforetoggle":Ie=Kx}var Dt=(f&4)!==0,wr=!Dt&&(c==="scroll"||c==="scrollend"),xe=Dt?Ae!==null?Ae+"Capture":null:Ae;Dt=[];for(var ge=ve,we;ge!==null;){var je=ge;if(we=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||we===null||xe===null||(je=wf(ge,xe),je!=null&&Dt.push(pg(ge,je,we))),wr)break;ge=ge.return}0<Dt.length&&(Ae=new Ie(Ae,dt,null,m,ke),Ve.push({event:Ae,listeners:Dt}))}}if((f&7)===0){e:{if(Ae=c==="mouseover"||c==="pointerover",Ie=c==="mouseout"||c==="pointerout",Ae&&m!==ls&&(dt=m.relatedTarget||m.fromElement)&&(Be(dt)||dt[oe]))break e;if((Ie||Ae)&&(Ae=ke.window===ke?ke:(Ae=ke.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ie?(dt=m.relatedTarget||m.toElement,Ie=ve,dt=dt?Be(dt):null,dt!==null&&(wr=Q(dt),Dt=dt.tag,dt!==wr||Dt!==5&&Dt!==27&&Dt!==6)&&(dt=null)):(Ie=null,dt=ve),Ie!==dt)){if(Dt=us,je="onMouseLeave",xe="onMouseEnter",ge="mouse",(c==="pointerout"||c==="pointerover")&&(Dt=L0,je="onPointerLeave",xe="onPointerEnter",ge="pointer"),wr=Ie==null?Ae:rt(Ie),we=dt==null?Ae:rt(dt),Ae=new Dt(je,ge+"leave",Ie,m,ke),Ae.target=wr,Ae.relatedTarget=we,je=null,Be(ke)===ve&&(Dt=new Dt(xe,ge+"enter",dt,m,ke),Dt.target=we,Dt.relatedTarget=wr,je=Dt),wr=je,Ie&&dt)t:{for(Dt=Ie,xe=dt,ge=0,we=Dt;we;we=Gh(we))ge++;for(we=0,je=xe;je;je=Gh(je))we++;for(;0<ge-we;)Dt=Gh(Dt),ge--;for(;0<we-ge;)xe=Gh(xe),we--;for(;ge--;){if(Dt===xe||xe!==null&&Dt===xe.alternate)break t;Dt=Gh(Dt),xe=Gh(xe)}Dt=null}else Dt=null;Ie!==null&&XF(Ve,Ae,Ie,Dt,!1),dt!==null&&wr!==null&&XF(Ve,wr,dt,Dt,!0)}}e:{if(Ae=ve?rt(ve):window,Ie=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Ae.type==="file")var lt=EL;else if(Kr(Ae))if(SL)lt=Eae;else{lt=_ae;var Ut=bae}else Ie=Ae.nodeName,!Ie||Ie.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?ve&&P0(ve.elementType)&&(lt=EL):lt=wae;if(lt&&(lt=lt(c,ve))){ml(Ve,lt,m,ke);break e}Ut&&Ut(c,Ae,ve),c==="focusout"&&ve&&Ae.type==="number"&&ve.memoizedProps.value!=null&&mh(Ae,"number",Ae.value)}switch(Ut=ve?rt(ve):window,c){case"focusin":(Kr(Ut)||Ut.contentEditable==="true")&&(Th=Ut,NT=ve,$0=null);break;case"focusout":$0=NT=Th=null;break;case"mousedown":OT=!0;break;case"contextmenu":case"mouseup":case"dragend":OT=!1,IL(Ve,m,ke);break;case"selectionchange":if(Aae)break;case"keydown":case"keyup":IL(Ve,m,ke)}var pt;if(To)e:{switch(c){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else sn?Ne(c,m)&&(wt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(wt="onCompositionStart");wt&&(U&&m.locale!=="ko"&&(sn||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&sn&&(pt=I0()):(_o=ke,Ic="value"in _o?_o.value:_o.textContent,sn=!0)),Ut=Ib(ve,wt),0<Ut.length&&(wt=new j0(wt,c,null,m,ke),Ve.push({event:wt,listeners:Ut}),pt?wt.data=pt:(pt=Ye(m),pt!==null&&(wt.data=pt)))),(pt=M?Gr(c,m):on(c,m))&&(wt=Ib(ve,"onBeforeInput"),0<wt.length&&(Ut=new j0("onBeforeInput","beforeinput",null,m,ke),Ve.push({event:Ut,listeners:wt}),Ut.data=pt)),lse(Ve,c,ve,m,ke)}KF(Ve,f)})}function pg(c,f,m){return{instance:c,listener:f,currentTarget:m}}function Ib(c,f){for(var m=f+"Capture",x=[];c!==null;){var S=c,P=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||P===null||(S=wf(c,m),S!=null&&x.unshift(pg(c,S,P)),S=wf(c,f),S!=null&&x.push(pg(c,S,P))),c=c.return}return x}function Gh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function XF(c,f,m,x,S){for(var P=f._reactName,H=[];m!==null&&m!==x;){var Z=m,ue=Z.alternate,ve=Z.stateNode;if(Z=Z.tag,ue!==null&&ue===x)break;Z!==5&&Z!==26&&Z!==27||ve===null||(ue=ve,S?(ve=wf(m,P),ve!=null&&H.unshift(pg(m,ve,ue))):S||(ve=wf(m,P),ve!=null&&H.push(pg(m,ve,ue)))),m=m.return}H.length!==0&&c.push({event:f,listeners:H})}var dse=/\r\n?/g,hse=/\u0000|\uFFFD/g;function QF(c){return(typeof c=="string"?c:""+c).replace(dse,`
`).replace(hse,"")}function ZF(c,f){return f=QF(f),QF(c)===f}function Db(){}function Fn(c,f,m,x,S,P){switch(m){case"children":typeof x=="string"?f==="body"||f==="textarea"&&x===""||os(c,x):(typeof x=="number"||typeof x=="bigint")&&f!=="body"&&os(c,""+x);break;case"className":Oc(c,"class",x);break;case"tabIndex":Oc(c,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Oc(c,m,x);break;case"style":jx(c,x,P);break;case"data":if(f!=="object"){Oc(c,"data",x);break}case"src":case"href":if(x===""&&(f!=="a"||m!=="href")){c.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){c.removeAttribute(m);break}x=bo(""+x),c.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(m==="formAction"?(f!=="input"&&Fn(c,f,"name",S.name,S,null),Fn(c,f,"formEncType",S.formEncType,S,null),Fn(c,f,"formMethod",S.formMethod,S,null),Fn(c,f,"formTarget",S.formTarget,S,null)):(Fn(c,f,"encType",S.encType,S,null),Fn(c,f,"method",S.method,S,null),Fn(c,f,"target",S.target,S,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){c.removeAttribute(m);break}x=bo(""+x),c.setAttribute(m,x);break;case"onClick":x!=null&&(c.onclick=Db);break;case"onScroll":x!=null&&en("scroll",c);break;case"onScrollEnd":x!=null&&en("scrollend",c);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(S.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":c.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){c.removeAttribute("xlink:href");break}m=bo(""+x),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(m,""+x):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":x===!0?c.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(m,x):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?c.setAttribute(m,x):c.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?c.removeAttribute(m):c.setAttribute(m,x);break;case"popover":en("beforetoggle",c),en("toggle",c),li(c,"popover",x);break;case"xlinkActuate":ss(c,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ss(c,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ss(c,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ss(c,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ss(c,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ss(c,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ss(c,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ss(c,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ss(c,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":li(c,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=_T.get(m)||m,li(c,m,x))}}function ZA(c,f,m,x,S,P){switch(m){case"style":jx(c,x,P);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(S.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof x=="string"?os(c,x):(typeof x=="number"||typeof x=="bigint")&&os(c,""+x);break;case"onScroll":x!=null&&en("scroll",c);break;case"onScrollEnd":x!=null&&en("scrollend",c);break;case"onClick":x!=null&&(c.onclick=Db);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!An.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),f=m.slice(2,S?m.length-7:void 0),P=c[ne]||null,P=P!=null?P[m]:null,typeof P=="function"&&c.removeEventListener(f,P,S),typeof x=="function")){typeof P!="function"&&P!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(f,x,S);break e}m in c?c[m]=x:x===!0?c.setAttribute(m,""):li(c,m,x)}}}function Ri(c,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",c),en("load",c);var x=!1,S=!1,P;for(P in m)if(m.hasOwnProperty(P)){var H=m[P];if(H!=null)switch(P){case"src":x=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Fn(c,f,P,H,m,null)}}S&&Fn(c,f,"srcSet",m.srcSet,m,null),x&&Fn(c,f,"src",m.src,m,null);return;case"input":en("invalid",c);var Z=P=H=S=null,ue=null,ve=null;for(x in m)if(m.hasOwnProperty(x)){var ke=m[x];if(ke!=null)switch(x){case"name":S=ke;break;case"type":H=ke;break;case"checked":ue=ke;break;case"defaultChecked":ve=ke;break;case"value":P=ke;break;case"defaultValue":Z=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,f));break;default:Fn(c,f,x,ke,m,null)}}bf(c,P,Z,ue,ve,H,S,!1),xf(c);return;case"select":en("invalid",c),x=H=P=null;for(S in m)if(m.hasOwnProperty(S)&&(Z=m[S],Z!=null))switch(S){case"value":P=Z;break;case"defaultValue":H=Z;break;case"multiple":x=Z;default:Fn(c,f,S,Z,m,null)}f=P,m=H,c.multiple=!!x,f!=null?mn(c,!!x,f,!1):m!=null&&mn(c,!!x,m,!0);return;case"textarea":en("invalid",c),P=S=x=null;for(H in m)if(m.hasOwnProperty(H)&&(Z=m[H],Z!=null))switch(H){case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":P=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:Fn(c,f,H,Z,m,null)}Rc(c,x,S,P),xf(c);return;case"option":for(ue in m)if(m.hasOwnProperty(ue)&&(x=m[ue],x!=null))switch(ue){case"selected":c.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Fn(c,f,ue,x,m,null)}return;case"dialog":en("cancel",c),en("close",c);break;case"iframe":case"object":en("load",c);break;case"video":case"audio":for(x=0;x<hg.length;x++)en(hg[x],c);break;case"image":en("error",c),en("load",c);break;case"details":en("toggle",c);break;case"embed":case"source":case"link":en("error",c),en("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in m)if(m.hasOwnProperty(ve)&&(x=m[ve],x!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Fn(c,f,ve,x,m,null)}return;default:if(P0(f)){for(ke in m)m.hasOwnProperty(ke)&&(x=m[ke],x!==void 0&&ZA(c,f,ke,x,m,void 0));return}}for(Z in m)m.hasOwnProperty(Z)&&(x=m[Z],x!=null&&Fn(c,f,Z,x,m,null))}function pse(c,f,m,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,P=null,H=null,Z=null,ue=null,ve=null,ke=null;for(Ie in m){var Ve=m[Ie];if(m.hasOwnProperty(Ie)&&Ve!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ue=Ve;default:x.hasOwnProperty(Ie)||Fn(c,f,Ie,null,x,Ve)}}for(var Ae in x){var Ie=x[Ae];if(Ve=m[Ae],x.hasOwnProperty(Ae)&&(Ie!=null||Ve!=null))switch(Ae){case"type":P=Ie;break;case"name":S=Ie;break;case"checked":ve=Ie;break;case"defaultChecked":ke=Ie;break;case"value":H=Ie;break;case"defaultValue":Z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,f));break;default:Ie!==Ve&&Fn(c,f,Ae,Ie,x,Ve)}}Pc(c,H,Z,ue,ve,ke,P,S);return;case"select":Ie=H=Z=Ae=null;for(P in m)if(ue=m[P],m.hasOwnProperty(P)&&ue!=null)switch(P){case"value":break;case"multiple":Ie=ue;default:x.hasOwnProperty(P)||Fn(c,f,P,null,x,ue)}for(S in x)if(P=x[S],ue=m[S],x.hasOwnProperty(S)&&(P!=null||ue!=null))switch(S){case"value":Ae=P;break;case"defaultValue":Z=P;break;case"multiple":H=P;default:P!==ue&&Fn(c,f,S,P,x,ue)}f=Z,m=H,x=Ie,Ae!=null?mn(c,!!m,Ae,!1):!!x!=!!m&&(f!=null?mn(c,!!m,f,!0):mn(c,!!m,m?[]:"",!1));return;case"textarea":Ie=Ae=null;for(Z in m)if(S=m[Z],m.hasOwnProperty(Z)&&S!=null&&!x.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Fn(c,f,Z,null,x,S)}for(H in x)if(S=x[H],P=m[H],x.hasOwnProperty(H)&&(S!=null||P!=null))switch(H){case"value":Ae=S;break;case"defaultValue":Ie=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==P&&Fn(c,f,H,S,x,P)}_f(c,Ae,Ie);return;case"option":for(var dt in m)if(Ae=m[dt],m.hasOwnProperty(dt)&&Ae!=null&&!x.hasOwnProperty(dt))switch(dt){case"selected":c.selected=!1;break;default:Fn(c,f,dt,null,x,Ae)}for(ue in x)if(Ae=x[ue],Ie=m[ue],x.hasOwnProperty(ue)&&Ae!==Ie&&(Ae!=null||Ie!=null))switch(ue){case"selected":c.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:Fn(c,f,ue,Ae,x,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in m)Ae=m[Dt],m.hasOwnProperty(Dt)&&Ae!=null&&!x.hasOwnProperty(Dt)&&Fn(c,f,Dt,null,x,Ae);for(ve in x)if(Ae=x[ve],Ie=m[ve],x.hasOwnProperty(ve)&&Ae!==Ie&&(Ae!=null||Ie!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,f));break;default:Fn(c,f,ve,Ae,x,Ie)}return;default:if(P0(f)){for(var wr in m)Ae=m[wr],m.hasOwnProperty(wr)&&Ae!==void 0&&!x.hasOwnProperty(wr)&&ZA(c,f,wr,void 0,x,Ae);for(ke in x)Ae=x[ke],Ie=m[ke],!x.hasOwnProperty(ke)||Ae===Ie||Ae===void 0&&Ie===void 0||ZA(c,f,ke,Ae,x,Ie);return}}for(var xe in m)Ae=m[xe],m.hasOwnProperty(xe)&&Ae!=null&&!x.hasOwnProperty(xe)&&Fn(c,f,xe,null,x,Ae);for(Ve in x)Ae=x[Ve],Ie=m[Ve],!x.hasOwnProperty(Ve)||Ae===Ie||Ae==null&&Ie==null||Fn(c,f,Ve,Ae,x,Ie)}var JA=null,eC=null;function kb(c){return c.nodeType===9?c:c.ownerDocument}function JF(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e5(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function tC(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var nC=null;function mse(){var c=window.event;return c&&c.type==="popstate"?c===nC?!1:(nC=c,!0):(nC=null,!1)}var t5=typeof setTimeout=="function"?setTimeout:void 0,gse=typeof clearTimeout=="function"?clearTimeout:void 0,n5=typeof Promise=="function"?Promise:void 0,vse=typeof queueMicrotask=="function"?queueMicrotask:typeof n5<"u"?function(c){return n5.resolve(null).then(c).catch(yse)}:t5;function yse(c){setTimeout(function(){throw c})}function rC(c,f){var m=f,x=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){c.removeChild(S),wg(f);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);wg(f)}function iC(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":iC(m),Te(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function xse(c,f,m,x){for(;c.nodeType===1;){var S=m;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!x&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(x){if(!c[Se])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(P=c.getAttribute("rel"),P==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(P!==S.rel||c.getAttribute("href")!==(S.href==null?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(P=c.getAttribute("src"),(P!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&P&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var P=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===P)return c}else return c;if(c=Vs(c.nextSibling),c===null)break}return null}function bse(c,f,m){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Vs(c.nextSibling),c===null))return null;return c}function Vs(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}function r5(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return c;f--}else m==="/$"&&f++}c=c.previousSibling}return null}function i5(c,f,m){switch(f=kb(m),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}var bs=new Map,a5=new Set;function jb(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Pl=K.d;K.d={f:_se,r:wse,D:Ese,C:Sse,L:Tse,m:Ase,X:Nse,S:Cse,M:Ose};function _se(){var c=Pl.f(),f=Cb();return c||f}function wse(c){var f=Ge(c);f!==null&&f.tag===5&&f.type==="form"?I3(f):Pl.r(c)}var Kh=typeof document>"u"?null:document;function s5(c,f,m){var x=Kh;if(x&&typeof f=="string"&&f){var S=xr(f);S='link[rel="'+c+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),a5.has(S)||(a5.add(S),c={rel:c,crossOrigin:m,href:f},x.querySelector(S)===null&&(f=x.createElement("link"),Ri(f,"link",c),ze(f),x.head.appendChild(f)))}}function Ese(c){Pl.D(c),s5("dns-prefetch",c,null)}function Sse(c,f){Pl.C(c,f),s5("preconnect",c,f)}function Tse(c,f,m){Pl.L(c,f,m);var x=Kh;if(x&&c&&f){var S='link[rel="preload"][as="'+xr(f)+'"]';f==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+xr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+xr(m.imageSizes)+'"]')):S+='[href="'+xr(c)+'"]';var P=S;switch(f){case"style":P=Yh(c);break;case"script":P=Xh(c)}bs.has(P)||(c=L({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:c,as:f},m),bs.set(P,c),x.querySelector(S)!==null||f==="style"&&x.querySelector(mg(P))||f==="script"&&x.querySelector(gg(P))||(f=x.createElement("link"),Ri(f,"link",c),ze(f),x.head.appendChild(f)))}}function Ase(c,f){Pl.m(c,f);var m=Kh;if(m&&c){var x=f&&typeof f.as=="string"?f.as:"script",S='link[rel="modulepreload"][as="'+xr(x)+'"][href="'+xr(c)+'"]',P=S;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Xh(c)}if(!bs.has(P)&&(c=L({rel:"modulepreload",href:c},f),bs.set(P,c),m.querySelector(S)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(gg(P)))return}x=m.createElement("link"),Ri(x,"link",c),ze(x),m.head.appendChild(x)}}}function Cse(c,f,m){Pl.S(c,f,m);var x=Kh;if(x&&c){var S=He(x).hoistableStyles,P=Yh(c);f=f||"default";var H=S.get(P);if(!H){var Z={loading:0,preload:null};if(H=x.querySelector(mg(P)))Z.loading=5;else{c=L({rel:"stylesheet",href:c,"data-precedence":f},m),(m=bs.get(P))&&aC(c,m);var ue=H=x.createElement("link");ze(ue),Ri(ue,"link",c),ue._p=new Promise(function(ve,ke){ue.onload=ve,ue.onerror=ke}),ue.addEventListener("load",function(){Z.loading|=1}),ue.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Mb(H,f,x)}H={type:"stylesheet",instance:H,count:1,state:Z},S.set(P,H)}}}function Nse(c,f){Pl.X(c,f);var m=Kh;if(m&&c){var x=He(m).hoistableScripts,S=Xh(c),P=x.get(S);P||(P=m.querySelector(gg(S)),P||(c=L({src:c,async:!0},f),(f=bs.get(S))&&sC(c,f),P=m.createElement("script"),ze(P),Ri(P,"link",c),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},x.set(S,P))}}function Ose(c,f){Pl.M(c,f);var m=Kh;if(m&&c){var x=He(m).hoistableScripts,S=Xh(c),P=x.get(S);P||(P=m.querySelector(gg(S)),P||(c=L({src:c,async:!0,type:"module"},f),(f=bs.get(S))&&sC(c,f),P=m.createElement("script"),ze(P),Ri(P,"link",c),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},x.set(S,P))}}function o5(c,f,m,x){var S=(S=Ue.current)?jb(S):null;if(!S)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=Yh(m.href),m=He(S).hoistableStyles,x=m.get(f),x||(x={type:"style",instance:null,count:0,state:null},m.set(f,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=Yh(m.href);var P=He(S).hoistableStyles,H=P.get(c);if(H||(S=S.ownerDocument||S,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(c,H),(P=S.querySelector(mg(c)))&&!P._p&&(H.instance=P,H.state.loading=5),bs.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},bs.set(c,m),P||Pse(S,c,m,H.state))),f&&x===null)throw Error(r(528,""));return H}if(f&&x!==null)throw Error(r(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Xh(m),m=He(S).hoistableScripts,x=m.get(f),x||(x={type:"script",instance:null,count:0,state:null},m.set(f,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Yh(c){return'href="'+xr(c)+'"'}function mg(c){return'link[rel="stylesheet"]['+c+"]"}function l5(c){return L({},c,{"data-precedence":c.precedence,precedence:null})}function Pse(c,f,m,x){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?x.loading=1:(f=c.createElement("link"),x.preload=f,f.addEventListener("load",function(){return x.loading|=1}),f.addEventListener("error",function(){return x.loading|=2}),Ri(f,"link",m),ze(f),c.head.appendChild(f))}function Xh(c){return'[src="'+xr(c)+'"]'}function gg(c){return"script[async]"+c}function c5(c,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var x=c.querySelector('style[data-href~="'+xr(m.href)+'"]');if(x)return f.instance=x,ze(x),x;var S=L({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(c.ownerDocument||c).createElement("style"),ze(x),Ri(x,"style",S),Mb(x,m.precedence,c),f.instance=x;case"stylesheet":S=Yh(m.href);var P=c.querySelector(mg(S));if(P)return f.state.loading|=4,f.instance=P,ze(P),P;x=l5(m),(S=bs.get(S))&&aC(x,S),P=(c.ownerDocument||c).createElement("link"),ze(P);var H=P;return H._p=new Promise(function(Z,ue){H.onload=Z,H.onerror=ue}),Ri(P,"link",x),f.state.loading|=4,Mb(P,m.precedence,c),f.instance=P;case"script":return P=Xh(m.src),(S=c.querySelector(gg(P)))?(f.instance=S,ze(S),S):(x=m,(S=bs.get(P))&&(x=L({},m),sC(x,S)),c=c.ownerDocument||c,S=c.createElement("script"),ze(S),Ri(S,"link",x),c.head.appendChild(S),f.instance=S);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(x=f.instance,f.state.loading|=4,Mb(x,m.precedence,c));return f.instance}function Mb(c,f,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=x.length?x[x.length-1]:null,P=S,H=0;H<x.length;H++){var Z=x[H];if(Z.dataset.precedence===f)P=Z;else if(P!==S)break}P?P.parentNode.insertBefore(c,P.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(c,f.firstChild))}function aC(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function sC(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var Lb=null;function u5(c,f,m){if(Lb===null){var x=new Map,S=Lb=new Map;S.set(m,x)}else S=Lb,x=S.get(m),x||(x=new Map,S.set(m,x));if(x.has(c))return x;for(x.set(c,null),m=m.getElementsByTagName(c),S=0;S<m.length;S++){var P=m[S];if(!(P[Se]||P[ee]||c==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var H=P.getAttribute(f)||"";H=c+H;var Z=x.get(H);Z?Z.push(P):x.set(H,[P])}}return x}function f5(c,f,m){c=c.ownerDocument||c,c.head.insertBefore(m,f==="title"?c.querySelector("head > title"):null)}function Rse(c,f,m){if(m===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function d5(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var vg=null;function Ise(){}function Dse(c,f,m){if(vg===null)throw Error(r(475));var x=vg;if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var S=Yh(m.href),P=c.querySelector(mg(S));if(P){c=P._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(x.count++,x=Fb.bind(x),c.then(x,x)),f.state.loading|=4,f.instance=P,ze(P);return}P=c.ownerDocument||c,m=l5(m),(S=bs.get(S))&&aC(m,S),P=P.createElement("link"),ze(P);var H=P;H._p=new Promise(function(Z,ue){H.onload=Z,H.onerror=ue}),Ri(P,"link",m),f.instance=P}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(x.count++,f=Fb.bind(x),c.addEventListener("load",f),c.addEventListener("error",f))}}function kse(){if(vg===null)throw Error(r(475));var c=vg;return c.stylesheets&&c.count===0&&oC(c,c.stylesheets),0<c.count?function(f){var m=setTimeout(function(){if(c.stylesheets&&oC(c,c.stylesheets),c.unsuspend){var x=c.unsuspend;c.unsuspend=null,x()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(m)}}:null}function Fb(){if(this.count--,this.count===0){if(this.stylesheets)oC(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Bb=null;function oC(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Bb=new Map,f.forEach(jse,c),Bb=null,Fb.call(c))}function jse(c,f){if(!(f.state.loading&4)){var m=Bb.get(c);if(m)var x=m.get(null);else{m=new Map,Bb.set(c,m);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<S.length;P++){var H=S[P];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(m.set(H.dataset.precedence,H),x=H)}x&&m.set(null,x)}S=f.instance,H=S.getAttribute("data-precedence"),P=m.get(H)||x,P===x&&m.set(null,S),m.set(H,S),this.count++,x=Fb.bind(this),S.addEventListener("load",x),S.addEventListener("error",x),P?P.parentNode.insertBefore(S,P.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),f.state.loading|=4}}var yg={$$typeof:y,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Mse(c,f,m,x,S,P,H,Z){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=x,this.onUncaughtError=S,this.onCaughtError=P,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function h5(c,f,m,x,S,P,H,Z,ue,ve,ke,Ve){return c=new Mse(c,f,m,H,Z,ue,ve,Ve),f=1,P===!0&&(f|=24),P=ys(3,null,null,f),c.current=P,P.stateNode=c,f=BT(),f.refCount++,c.pooledCache=f,f.refCount++,P.memoizedState={element:x,isDehydrated:m,cache:f},xA(P),c}function p5(c){return c?(c=Nh,c):Nh}function m5(c,f,m,x,S,P){S=p5(S),x.context===null?x.context=S:x.pendingContext=S,x=$c(f),x.payload={element:m},P=P===void 0?null:P,P!==null&&(x.callback=P),m=Vc(c,x,f),m!==null&&(sa(m,c,f),tg(m,c,f))}function g5(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<f?m:f}}function lC(c,f){g5(c,f),(c=c.alternate)&&g5(c,f)}function v5(c){if(c.tag===13){var f=Dc(c,67108864);f!==null&&sa(f,c,67108864),lC(c,67108864)}}var $b=!0;function Lse(c,f,m,x){var S=D.T;D.T=null;var P=K.p;try{K.p=2,cC(c,f,m,x)}finally{K.p=P,D.T=S}}function Fse(c,f,m,x){var S=D.T;D.T=null;var P=K.p;try{K.p=8,cC(c,f,m,x)}finally{K.p=P,D.T=S}}function cC(c,f,m,x){if($b){var S=uC(x);if(S===null)QA(c,f,x,Vb,m),x5(c,x);else if($se(S,c,f,m,x))x.stopPropagation();else if(x5(c,x),f&4&&-1<Bse.indexOf(c)){for(;S!==null;){var P=Ge(S);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var H=_t(P.pendingLanes);if(H!==0){var Z=P;for(Z.pendingLanes|=2,Z.entangledLanes|=2;H;){var ue=1<<31-qr(H);Z.entanglements[1]|=ue,H&=~ue}Ro(P),(mr&6)===0&&(Sb=Wt()+500,dg(0))}}break;case 13:Z=Dc(P,2),Z!==null&&sa(Z,P,2),Cb(),lC(P,2)}if(P=uC(x),P===null&&QA(c,f,x,Vb,m),P===S)break;S=P}S!==null&&x.stopPropagation()}else QA(c,f,x,null,m)}}function uC(c){return c=gh(c),fC(c)}var Vb=null;function fC(c){if(Vb=null,c=Be(c),c!==null){var f=Q(c);if(f===null)c=null;else{var m=f.tag;if(m===13){if(c=ie(f),c!==null)return c;c=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return Vb=c,null}function y5(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ci()){case Hn:return 2;case Mn:return 8;case Ir:case Tc:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var dC=!1,Kc=null,Yc=null,Xc=null,xg=new Map,bg=new Map,Qc=[],Bse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x5(c,f){switch(c){case"focusin":case"focusout":Kc=null;break;case"dragenter":case"dragleave":Yc=null;break;case"mouseover":case"mouseout":Xc=null;break;case"pointerover":case"pointerout":xg.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":bg.delete(f.pointerId)}}function _g(c,f,m,x,S,P){return c===null||c.nativeEvent!==P?(c={blockedOn:f,domEventName:m,eventSystemFlags:x,nativeEvent:P,targetContainers:[S]},f!==null&&(f=Ge(f),f!==null&&v5(f)),c):(c.eventSystemFlags|=x,f=c.targetContainers,S!==null&&f.indexOf(S)===-1&&f.push(S),c)}function $se(c,f,m,x,S){switch(f){case"focusin":return Kc=_g(Kc,c,f,m,x,S),!0;case"dragenter":return Yc=_g(Yc,c,f,m,x,S),!0;case"mouseover":return Xc=_g(Xc,c,f,m,x,S),!0;case"pointerover":var P=S.pointerId;return xg.set(P,_g(xg.get(P)||null,c,f,m,x,S)),!0;case"gotpointercapture":return P=S.pointerId,bg.set(P,_g(bg.get(P)||null,c,f,m,x,S)),!0}return!1}function b5(c){var f=Be(c.target);if(f!==null){var m=Q(f);if(m!==null){if(f=m.tag,f===13){if(f=ie(m),f!==null){c.blockedOn=f,G(c.priority,function(){if(m.tag===13){var x=Ba(),S=Dc(m,x);S!==null&&sa(S,m,x),lC(m,x)}});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ub(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var m=uC(c.nativeEvent);if(m===null){m=c.nativeEvent;var x=new m.constructor(m.type,m);ls=x,m.target.dispatchEvent(x),ls=null}else return f=Ge(m),f!==null&&v5(f),c.blockedOn=m,!1;f.shift()}return!0}function _5(c,f,m){Ub(c)&&m.delete(f)}function Vse(){dC=!1,Kc!==null&&Ub(Kc)&&(Kc=null),Yc!==null&&Ub(Yc)&&(Yc=null),Xc!==null&&Ub(Xc)&&(Xc=null),xg.forEach(_5),bg.forEach(_5)}function Hb(c,f){c.blockedOn===f&&(c.blockedOn=null,dC||(dC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Vse)))}var zb=null;function w5(c){zb!==c&&(zb=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zb===c&&(zb=null);for(var f=0;f<c.length;f+=3){var m=c[f],x=c[f+1],S=c[f+2];if(typeof x!="function"){if(fC(x||m)===null)continue;break}var P=Ge(m);P!==null&&(c.splice(f,3),f-=3,tA(P,{pending:!0,data:S,method:m.method,action:x},x,S))}}))}function wg(c){function f(ue){return Hb(ue,c)}Kc!==null&&Hb(Kc,c),Yc!==null&&Hb(Yc,c),Xc!==null&&Hb(Xc,c),xg.forEach(f),bg.forEach(f);for(var m=0;m<Qc.length;m++){var x=Qc[m];x.blockedOn===c&&(x.blockedOn=null)}for(;0<Qc.length&&(m=Qc[0],m.blockedOn===null);)b5(m),m.blockedOn===null&&Qc.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var S=m[x],P=m[x+1],H=S[ne]||null;if(typeof P=="function")H||w5(m);else if(H){var Z=null;if(P&&P.hasAttribute("formAction")){if(S=P,H=P[ne]||null)Z=H.formAction;else if(fC(S)!==null)continue}else Z=H.action;typeof Z=="function"?m[x+1]=Z:(m.splice(x,3),x-=3),w5(m)}}}function hC(c){this._internalRoot=c}qb.prototype.render=hC.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var m=f.current,x=Ba();m5(m,x,c,f,null,null)},qb.prototype.unmount=hC.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;c.tag===0&&qh(),m5(c.current,2,null,c,null,null),Cb(),f[oe]=null}};function qb(c){this._internalRoot=c}qb.prototype.unstable_scheduleHydration=function(c){if(c){var f=hh();c={blockedOn:null,target:c,priority:f};for(var m=0;m<Qc.length&&f!==0&&f<Qc[m].priority;m++);Qc.splice(m,0,c),m===0&&b5(c)}};var E5=e.version;if(E5!=="19.0.0")throw Error(r(527,E5,"19.0.0"));K.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=ce(f),c=c!==null?z(c):null,c=c===null?null:c.stateNode,c};var Use={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Be,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wb.isDisabled&&Wb.supportsFiber)try{Da=Wb.inject(Use),Or=Wb}catch{}}return Sg.createRoot=function(c,f){if(!i(c))throw Error(r(299));var m=!1,x="",S=$3,P=V3,H=U3,Z=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(H=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Z=f.unstable_transitionCallbacks)),f=h5(c,1,!1,null,null,m,x,S,P,H,Z,null),c[oe]=f.current,XA(c.nodeType===8?c.parentNode:c),new hC(f)},Sg.hydrateRoot=function(c,f,m){if(!i(c))throw Error(r(299));var x=!1,S="",P=$3,H=V3,Z=U3,ue=null,ve=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(Z=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ue=m.unstable_transitionCallbacks),m.formState!==void 0&&(ve=m.formState)),f=h5(c,1,!0,f,m??null,x,S,P,H,Z,ue,ve),f.context=p5(null),m=f.current,x=Ba(),S=$c(x),S.callback=null,Vc(m,S,x),f.current.lanes=x,pn(f,x),Ro(f),c[oe]=f.current,XA(c),new qb(f)},Sg.version="19.0.0",Sg}var D5;function Zse(){if(D5)return gC.exports;D5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gC.exports=Qse(),gC.exports}var Jse=Zse(),Tg={},k5;function eoe(){if(k5)return Tg;k5=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.parse=s,Tg.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function s(g,y){const _=new a,v=g.length;if(v<2)return _;const b=(y==null?void 0:y.decode)||d;let E=0;do{const N=g.indexOf("=",E);if(N===-1)break;const C=g.indexOf(";",E),k=C===-1?v:C;if(N>k){E=g.lastIndexOf(";",N-1)+1;continue}const O=o(g,E,N),I=l(g,N,O),A=g.slice(O,I);if(_[A]===void 0){let R=o(g,N+1,k),D=l(g,k,R);const L=b(g.slice(R,D));_[A]=L}E=k+1}while(E<v);return _}function o(g,y,_){do{const v=g.charCodeAt(y);if(v!==32&&v!==9)return y}while(++y<_);return _}function l(g,y,_){for(;y>_;){const v=g.charCodeAt(--y);if(v!==32&&v!==9)return y+1}return _}function u(g,y,_){const v=(_==null?void 0:_.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const b=v(y);if(!e.test(b))throw new TypeError(`argument val is invalid: ${y}`);let E=g+"="+b;if(!_)return E;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);E+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);E+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);E+="; Path="+_.path}if(_.expires){if(!h(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);E+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(E+="; HttpOnly"),_.secure&&(E+="; Secure"),_.partitioned&&(E+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return E}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function h(g){return i.call(g)==="[object Date]"}return Tg}eoe();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j5="popstate";function toe(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return wR("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nv(i)}return roe(e,n,null,t)}function dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function noe(){return Math.random().toString(36).substring(2,10)}function M5(t,e){return{usr:t.state,key:t.key,idx:e}}function wR(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qm(e):e,state:n,key:e&&e.key||r||noe()}}function Nv({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function roe(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let b=d(),E=b==null?null:b-u;u=b,l&&l({action:o,location:v.location,delta:E})}function g(b,E){o="PUSH";let N=wR(v.location,b,E);u=d()+1;let C=M5(N,u),k=v.createHref(N);try{s.pushState(C,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}a&&l&&l({action:o,location:v.location,delta:1})}function y(b,E){o="REPLACE";let N=wR(v.location,b,E);u=d();let C=M5(N,u),k=v.createHref(N);s.replaceState(C,"",k),a&&l&&l({action:o,location:v.location,delta:0})}function _(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof b=="string"?b:Nv(b);return N=N.replace(/ $/,"%20"),dr(E,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,E)}let v={get action(){return o},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(j5,h),l=b,()=>{i.removeEventListener(j5,h),l=null}},createHref(b){return e(i,b)},createURL:_,encodeLocation(b){let E=_(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(b){return s.go(b)}};return v}function hW(t,e,n="/"){return ioe(t,e,n,!1)}function ioe(t,e,n,r){let i=typeof e=="string"?qm(e):e,a=Ql(i.pathname||"/",n);if(a==null)return null;let s=pW(t);aoe(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=goe(a);o=poe(s[l],u,r)}return o}function pW(t,e=[],n=[],r=""){let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(dr(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Ul([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(dr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),pW(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:doe(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of mW(a.path))i(a,s,l)}),e}function mW(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=mW(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function aoe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hoe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var soe=/^:[\w-]+$/,ooe=3,loe=2,coe=1,uoe=10,foe=-2,L5=t=>t==="*";function doe(t,e){let n=t.split("/"),r=n.length;return n.some(L5)&&(r+=foe),e&&(r+=loe),n.filter(i=>!L5(i)).reduce((i,a)=>i+(soe.test(a)?ooe:a===""?coe:uoe),r)}function hoe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function poe(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=d1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=d1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Ul([a,h.pathname]),pathnameBase:boe(Ul([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=Ul([a,h.pathnameBase]))}return s}function d1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=moe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let _=o[g]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const y=o[g];return h&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function moe(t,e=!1,n=!0){lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function goe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ql(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function voe(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qm(t):t;return{pathname:n?n.startsWith("/")?n:yoe(n,e):e,search:_oe(r),hash:woe(i)}}function yoe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bC(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xoe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pk(t){let e=xoe(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function mk(t,e,n,r=!1){let i;typeof t=="string"?i=qm(t):(i={...t},dr(!i.pathname||!i.pathname.includes("?"),bC("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),bC("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),bC("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=voe(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Ul=t=>t.join("/").replace(/\/\/+/g,"/"),boe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_oe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,woe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Eoe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gW=["POST","PUT","PATCH","DELETE"];new Set(gW);var Soe=["GET",...gW];new Set(Soe);var Wm=T.createContext(null);Wm.displayName="DataRouter";var EE=T.createContext(null);EE.displayName="DataRouterState";var vW=T.createContext({isTransitioning:!1});vW.displayName="ViewTransition";var Toe=T.createContext(new Map);Toe.displayName="Fetchers";var Aoe=T.createContext(null);Aoe.displayName="Await";var mo=T.createContext(null);mo.displayName="Navigation";var zy=T.createContext(null);zy.displayName="Location";var nl=T.createContext({outlet:null,matches:[],isDataRoute:!1});nl.displayName="Route";var gk=T.createContext(null);gk.displayName="RouteError";function Coe(t,{relative:e}={}){dr(Gm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(mo),{hash:i,pathname:a,search:s}=qy(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Ul([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Gm(){return T.useContext(zy)!=null}function fc(){return dr(Gm(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(zy).location}var yW="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xW(t){T.useContext(mo).static||T.useLayoutEffect(t)}function vk(){let{isDataRoute:t}=T.useContext(nl);return t?$oe():Noe()}function Noe(){dr(Gm(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Wm),{basename:e,navigator:n}=T.useContext(mo),{matches:r}=T.useContext(nl),{pathname:i}=fc(),a=JSON.stringify(pk(r)),s=T.useRef(!1);return xW(()=>{s.current=!0}),T.useCallback((l,u={})=>{if(lo(s.current,yW),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=mk(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ul([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}T.createContext(null);function qy(t,{relative:e}={}){let{matches:n}=T.useContext(nl),{pathname:r}=fc(),i=JSON.stringify(pk(n));return T.useMemo(()=>mk(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Ooe(t,e){return bW(t,e)}function bW(t,e,n,r){var N;dr(Gm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=T.useContext(mo),{matches:s}=T.useContext(nl),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let C=h&&h.path||"";_W(u,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=fc(),y;if(e){let C=typeof e=="string"?qm(e):e;dr(d==="/"||((N=C.pathname)==null?void 0:N.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=g;let _=y.pathname||"/",v=_;if(d!=="/"){let C=d.replace(/^\//,"").split("/");v="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=!a&&n&&n.matches&&n.matches.length>0?n.matches:hW(t,{pathname:v});lo(h||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),lo(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=koe(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Ul([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Ul([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&E?T.createElement(zy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function Poe(){let t=Boe(),e=Eoe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}var Roe=T.createElement(Poe,null),Ioe=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(nl.Provider,{value:this.props.routeContext},T.createElement(gk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Doe({routeContext:t,match:e,children:n}){let r=T.useContext(Wm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(nl.Provider,{value:t},n)}function koe(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);dr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:d,errors:h}=n,g=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||g){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,g=!1,y=null,_=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,y=u.route.errorElement||Roe,s&&(o<0&&d===0?(_W("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):o===d&&(g=!0,_=u.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,d+1)),b=()=>{let E;return h?E=y:g?E=_:u.route.Component?E=T.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=l,T.createElement(Doe,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:E})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?T.createElement(Ioe,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}function yk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function joe(t){let e=T.useContext(Wm);return dr(e,yk(t)),e}function Moe(t){let e=T.useContext(EE);return dr(e,yk(t)),e}function Loe(t){let e=T.useContext(nl);return dr(e,yk(t)),e}function xk(t){let e=Loe(t),n=e.matches[e.matches.length-1];return dr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Foe(){return xk("useRouteId")}function Boe(){var r;let t=T.useContext(gk),e=Moe("useRouteError"),n=xk("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function $oe(){let{router:t}=joe("useNavigate"),e=xk("useNavigate"),n=T.useRef(!1);return xW(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{lo(n.current,yW),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var F5={};function _W(t,e,n){!e&&!F5[t]&&(F5[t]=!0,lo(!1,n))}T.memo(Voe);function Voe({routes:t,future:e,state:n}){return bW(t,void 0,n,e)}function bk({to:t,replace:e,state:n,relative:r}){dr(Gm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(mo);lo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(nl),{pathname:s}=fc(),o=vk(),l=mk(t,pk(a),s,r==="path"),u=JSON.stringify(l);return T.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function Gs(t){dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uoe({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){dr(!Gm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=T.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=qm(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:g="default"}=n,y=T.useMemo(()=>{let _=Ql(l,s);return _==null?null:{location:{pathname:_,search:u,hash:d,state:h,key:g},navigationType:r}},[s,l,u,d,h,g,r]);return lo(y!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:T.createElement(mo.Provider,{value:o},T.createElement(zy.Provider,{children:e,value:y}))}function wW({children:t,location:e}){return Ooe(ER(t),e)}function ER(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,ER(r.props.children,a));return}dr(r.type===Gs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ER(r.props.children,a)),n.push(s)}),n}var q_="get",W_="application/x-www-form-urlencoded";function SE(t){return t!=null&&typeof t.tagName=="string"}function Hoe(t){return SE(t)&&t.tagName.toLowerCase()==="button"}function zoe(t){return SE(t)&&t.tagName.toLowerCase()==="form"}function qoe(t){return SE(t)&&t.tagName.toLowerCase()==="input"}function Woe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Goe(t,e){return t.button===0&&(!e||e==="_self")&&!Woe(t)}var Kb=null;function Koe(){if(Kb===null)try{new FormData(document.createElement("form"),0),Kb=!1}catch{Kb=!0}return Kb}var Yoe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _C(t){return t!=null&&!Yoe.has(t)?(lo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${W_}"`),null):t}function Xoe(t,e){let n,r,i,a,s;if(zoe(t)){let o=t.getAttribute("action");r=o?Ql(o,e):null,n=t.getAttribute("method")||q_,i=_C(t.getAttribute("enctype"))||W_,a=new FormData(t)}else if(Hoe(t)||qoe(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Ql(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||q_,i=_C(t.getAttribute("formenctype"))||_C(o.getAttribute("enctype"))||W_,a=new FormData(o,t),!Koe()){let{name:u,type:d,value:h}=t;if(d==="image"){let g=u?`${u}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else u&&a.append(u,h)}}else{if(SE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=q_,r=null,i=W_,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function _k(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Qoe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zoe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Joe(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await Qoe(a,n);return s.links?s.links():[]}return[]}));return rle(r.flat(1).filter(Zoe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function B5(t,e,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ele(t,e,{includeHydrateFallback:n}={}){return tle(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function tle(t){return[...new Set(t)]}function nle(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function rle(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(nle(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ile(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ql(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function EW(){let t=T.useContext(Wm);return _k(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ale(){let t=T.useContext(EE);return _k(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wk=T.createContext(void 0);wk.displayName="FrameworkContext";function SW(){let t=T.useContext(wk);return _k(t,"You must render this element inside a <HydratedRouter> element"),t}function sle(t,e){let n=T.useContext(wk),[r,i]=T.useState(!1),[a,s]=T.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=T.useRef(null);T.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=E=>{E.forEach(N=>{s(N.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[t]),T.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{i(!0)},_=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:Ag(o,y),onBlur:Ag(l,_),onMouseEnter:Ag(u,y),onMouseLeave:Ag(d,_),onTouchStart:Ag(h,y)}]:[!1,g,{}]}function Ag(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ole({page:t,...e}){let{router:n}=EW(),r=T.useMemo(()=>hW(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(cle,{page:t,matches:r,...e}):null}function lle(t){let{manifest:e,routeModules:n}=SW(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return Joe(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function cle({page:t,matches:e,...n}){let r=fc(),{manifest:i,routeModules:a}=SW(),{basename:s}=EW(),{loaderData:o,matches:l}=ale(),u=T.useMemo(()=>B5(t,e,l,i,r,"data"),[t,e,l,i,r]),d=T.useMemo(()=>B5(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,v=!1;if(e.forEach(E=>{var C;let N=i.routes[E.route.id];!N||!N.hasLoader||(!u.some(k=>k.route.id===E.route.id)&&E.route.id in o&&((C=a[E.route.id])!=null&&C.shouldRevalidate)||N.hasClientLoader?v=!0:_.add(E.route.id))}),_.size===0)return[];let b=ile(t,s);return v&&_.size>0&&b.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[b.pathname+b.search]},[s,o,r,i,u,e,t,a]),g=T.useMemo(()=>ele(d,i),[d,i]),y=lle(d);return T.createElement(T.Fragment,null,h.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:v})=>T.createElement("link",{key:_,...v})))}function ule(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TW&&(window.__reactRouterVersion="7.4.0")}catch{}function fle({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=toe({window:n,v5Compat:!0}));let i=r.current,[a,s]=T.useState({action:i.action,location:i.location}),o=T.useCallback(l=>{T.startTransition(()=>s(l))},[s]);return T.useLayoutEffect(()=>i.listen(o),[i,o]),T.createElement(Uoe,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var AW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ek=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},y){let{basename:_}=T.useContext(mo),v=typeof u=="string"&&AW.test(u),b,E=!1;if(typeof u=="string"&&v&&(b=u,TW))try{let D=new URL(window.location.href),L=u.startsWith("//")?new URL(D.protocol+u):new URL(u),j=Ql(L.pathname,_);L.origin===D.origin&&j!=null?u=j+L.search+L.hash:E=!0}catch{lo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Coe(u,{relative:i}),[C,k,O]=sle(r,g),I=mle(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function A(D){e&&e(D),D.defaultPrevented||I(D)}let R=T.createElement("a",{...g,...O,href:b||N,onClick:E||a?e:A,ref:ule(y,k),target:l,"data-discover":!v&&n==="render"?"true":void 0});return C&&!v?T.createElement(T.Fragment,null,R,T.createElement(ole,{page:N})):R});Ek.displayName="Link";var dle=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},d){let h=qy(s,{relative:u.relative}),g=fc(),y=T.useContext(EE),{navigator:_,basename:v}=T.useContext(mo),b=y!=null&&ble(h)&&o===!0,E=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,N=g.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(N=N.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&v&&(C=Ql(C,v)||C);const k=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=N===E||!i&&N.startsWith(E)&&N.charAt(k)==="/",I=C!=null&&(C===E||!i&&C.startsWith(E)&&C.charAt(E.length)==="/"),A={isActive:O,isPending:I,isTransitioning:b},R=O?e:void 0,D;typeof r=="function"?D=r(A):D=[r,O?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(A):a;return T.createElement(Ek,{...u,"aria-current":R,className:D,ref:d,style:L,to:s,viewTransition:o},typeof l=="function"?l(A):l)});dle.displayName="NavLink";var hle=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=q_,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},y)=>{let _=yle(),v=xle(o,{relative:u}),b=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&AW.test(o),N=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let k=C.nativeEvent.submitter,O=(k==null?void 0:k.getAttribute("formmethod"))||s;_(k||C.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return T.createElement("form",{ref:y,method:b,action:v,onSubmit:r?l:N,...g,"data-discover":!E&&t==="render"?"true":void 0})});hle.displayName="Form";function ple(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CW(t){let e=T.useContext(Wm);return dr(e,ple(t)),e}function mle(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=vk(),l=fc(),u=qy(t,{relative:a});return T.useCallback(d=>{if(Goe(d,e)){d.preventDefault();let h=n!==void 0?n:Nv(l)===Nv(u);o(t,{replace:h,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,n,r,e,t,i,a,s])}var gle=0,vle=()=>`__${String(++gle)}__`;function yle(){let{router:t}=CW("useSubmit"),{basename:e}=T.useContext(mo),n=Foe();return T.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=Xoe(r,e);if(i.navigate===!1){let d=i.fetcherKey||vle();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function xle(t,{relative:e}={}){let{basename:n}=T.useContext(mo),r=T.useContext(nl);dr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...qy(t||".",{relative:e})},s=fc();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ul([n,a.pathname])),Nv(a)}function ble(t,e={}){let n=T.useContext(vW);dr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CW("useViewTransitionState"),i=qy(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ql(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ql(n.nextLocation.pathname,r)||n.nextLocation.pathname;return d1(i.pathname,s)!=null||d1(i.pathname,a)!=null}new TextEncoder;var $d=dW();const NW=Rn($d),_le=()=>{};var $5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe=function(t,e){if(!t)throw Km(e)},Km=function(t){return new Error("Firebase Database ("+OW.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wle=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Sk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let g=(o&15)<<2|u>>6,y=u&63;l||(y=64,s||(g=64)),r.push(n[d],n[h],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new Ele;const g=a<<2|o>>4;if(r.push(g),u!==64){const y=o<<4&240|u>>2;if(r.push(y),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ele extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RW=function(t){const e=PW(t);return Sk.encodeByteArray(e,!0)},h1=function(t){return RW(t).replace(/\./g,"")},p1=function(t){try{return Sk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){return IW(void 0,t)}function IW(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Tle(n)||(t[n]=IW(t[n],e[n]));return t}function Tle(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ale(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cle=()=>Ale().__FIREBASE_DEFAULTS__,Nle=()=>{if(typeof process>"u"||typeof $5>"u")return;const t=$5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ole=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p1(t[1]);return e&&JSON.parse(e)},TE=()=>{try{return _le()||Cle()||Nle()||Ole()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DW=t=>{var e,n;return(n=(e=TE())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kW=t=>{const e=DW(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jW=()=>{var t;return(t=TE())===null||t===void 0?void 0:t.config},MW=t=>{var e;return(e=TE())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h1(JSON.stringify(n)),h1(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(na())}function Ple(){var t;const e=(t=TE())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rle(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ile(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dle(){const t=na();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kle(){return OW.NODE_ADMIN===!0}function jle(){return!Ple()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mle(){try{return typeof indexedDB=="object"}catch{return!1}}function Lle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fle="FirebaseError";class dc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fle,Object.setPrototypeOf(this,dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wy.prototype.create)}}class Wy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Ble(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new dc(i,o,r)}}function Ble(t,e){return t.replace($le,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $le=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){return JSON.parse(t)}function ti(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=function(t){let e={},n={},r={},i="";try{const a=t.split(".");e=Ov(p1(a[0])||""),n=Ov(p1(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Vle=function(t){const e=BW(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ule=function(t){const e=BW(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wp(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function SR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function m1(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ku(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(V5(a)&&V5(s)){if(!ku(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Wg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const g=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],s=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=o^a&(s^o),d=1518500249):(u=a^s^o,d=1859775393):h<60?(u=a&s|o&(a|s),d=2400959708):(u=a^s^o,d=3395469782);const g=(i<<5|i>>>27)+u+l+d+r[h]&4294967295;l=o,o=s,s=(a<<30|a>>>2)&4294967295,a=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const a=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(a[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(a),s=0;break}}else for(;i<n;)if(a[s]=e[i],++s,++i,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}function zle(t,e){const n=new qle(t,e);return n.subscribe.bind(n)}class qle{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Wle(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wC),i.error===void 0&&(i.error=wC),i.complete===void 0&&(i.complete=wC);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wle(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wC(){}function $W(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gle=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const a=i-55296;r++,Qe(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AE=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class ju{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kle{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xle(e))try{this.getOrInitializeService({instanceIdentifier:Jf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Jf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jf){return this.instances.has(e)}getOptions(e=Jf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yle(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jf){return this.component?this.component.multipleInstances?e:Jf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yle(t){return t===Jf?void 0:t}function Xle(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kle(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yt||(Yt={}));const Zle={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},Jle=Yt.INFO,ece={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},tce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ece[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CE{constructor(e){this.name=e,this._logLevel=Jle,this._logHandler=tce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zle[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const nce=(t,e)=>e.some(n=>t instanceof n);let U5,H5;function rce(){return U5||(U5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ice(){return H5||(H5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VW=new WeakMap,TR=new WeakMap,UW=new WeakMap,EC=new WeakMap,Ck=new WeakMap;function ace(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(_u(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&VW.set(n,t)}).catch(()=>{}),Ck.set(e,t),e}function sce(t){if(TR.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});TR.set(t,e)}let AR={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TR.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UW.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _u(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oce(t){AR=t(AR)}function lce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(SC(this),e,...n);return UW.set(r,e.sort?e.sort():[e]),_u(r)}:ice().includes(t)?function(...e){return t.apply(SC(this),e),_u(VW.get(this))}:function(...e){return _u(t.apply(SC(this),e))}}function cce(t){return typeof t=="function"?lce(t):(t instanceof IDBTransaction&&sce(t),nce(t,rce())?new Proxy(t,AR):t)}function _u(t){if(t instanceof IDBRequest)return ace(t);if(EC.has(t))return EC.get(t);const e=cce(t);return e!==t&&(EC.set(t,e),Ck.set(e,t)),e}const SC=t=>Ck.get(t);function uce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=_u(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_u(s.result),l.oldVersion,l.newVersion,_u(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const fce=["get","getKey","getAll","getAllKeys","count"],dce=["put","add","delete","clear"],TC=new Map;function z5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(TC.get(e))return TC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fce.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return TC.set(e,a),a}oce(t=>({...t,get:(e,n,r)=>z5(e,n)||t.get(e,n,r),has:(e,n)=>!!z5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const CR="@firebase/app",q5="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new CE("@firebase/app"),mce="@firebase/app-compat",gce="@firebase/analytics-compat",vce="@firebase/analytics",yce="@firebase/app-check-compat",xce="@firebase/app-check",bce="@firebase/auth",_ce="@firebase/auth-compat",wce="@firebase/database",Ece="@firebase/data-connect",Sce="@firebase/database-compat",Tce="@firebase/functions",Ace="@firebase/functions-compat",Cce="@firebase/installations",Nce="@firebase/installations-compat",Oce="@firebase/messaging",Pce="@firebase/messaging-compat",Rce="@firebase/performance",Ice="@firebase/performance-compat",Dce="@firebase/remote-config",kce="@firebase/remote-config-compat",jce="@firebase/storage",Mce="@firebase/storage-compat",Lce="@firebase/firestore",Fce="@firebase/vertexai",Bce="@firebase/firestore-compat",$ce="firebase",Vce="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="[DEFAULT]",Uce={[CR]:"fire-core",[mce]:"fire-core-compat",[vce]:"fire-analytics",[gce]:"fire-analytics-compat",[xce]:"fire-app-check",[yce]:"fire-app-check-compat",[bce]:"fire-auth",[_ce]:"fire-auth-compat",[wce]:"fire-rtdb",[Ece]:"fire-data-connect",[Sce]:"fire-rtdb-compat",[Tce]:"fire-fn",[Ace]:"fire-fn-compat",[Cce]:"fire-iid",[Nce]:"fire-iid-compat",[Oce]:"fire-fcm",[Pce]:"fire-fcm-compat",[Rce]:"fire-perf",[Ice]:"fire-perf-compat",[Dce]:"fire-rc",[kce]:"fire-rc-compat",[jce]:"fire-gcs",[Mce]:"fire-gcs-compat",[Lce]:"fire-fst",[Bce]:"fire-fst-compat",[Fce]:"fire-vertex","fire-js":"fire-js",[$ce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new Map,Hce=new Map,OR=new Map;function W5(t,e){try{t.container.addComponent(e)}catch(n){Zl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vd(t){const e=t.name;if(OR.has(e))return Zl.debug(`There were multiple attempts to register component ${e}.`),!1;OR.set(e,t);for(const n of g1.values())W5(n,t);for(const n of Hce.values())W5(n,t);return!0}function NE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ka(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wu=new Wy("app","Firebase",zce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=Vce;function OE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:NR,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wu.create("bad-app-name",{appName:String(i)});if(n||(n=jW()),!n)throw wu.create("no-options");const a=g1.get(i);if(a){if(ku(n,a.options)&&ku(r,a.config))return a;throw wu.create("duplicate-app",{appName:i})}const s=new Qle(i);for(const l of OR.values())s.addComponent(l);const o=new qce(n,r,s);return g1.set(i,o),o}function Nk(t=NR){const e=g1.get(t);if(!e&&t===NR&&jW())return OE();if(!e)throw wu.create("no-app",{appName:t});return e}function Ho(t,e,n){var r;let i=(r=Uce[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zl.warn(o.join(" "));return}vd(new ju(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wce="firebase-heartbeat-database",Gce=1,Pv="firebase-heartbeat-store";let AC=null;function HW(){return AC||(AC=uce(Wce,Gce,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pv)}catch(n){console.warn(n)}}}}).catch(t=>{throw wu.create("idb-open",{originalErrorMessage:t.message})})),AC}async function Kce(t){try{const n=(await HW()).transaction(Pv),r=await n.objectStore(Pv).get(zW(t));return await n.done,r}catch(e){if(e instanceof dc)Zl.warn(e.message);else{const n=wu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zl.warn(n.message)}}}async function G5(t,e){try{const r=(await HW()).transaction(Pv,"readwrite");await r.objectStore(Pv).put(e,zW(t)),await r.done}catch(n){if(n instanceof dc)Zl.warn(n.message);else{const r=wu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zl.warn(r.message)}}}function zW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=1024,Xce=30;class Qce{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jce(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Xce){const s=eue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K5(),{heartbeatsToSend:r,unsentEntries:i}=Zce(this._heartbeatsCache.heartbeats),a=h1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Zl.warn(n),""}}}function K5(){return new Date().toISOString().substring(0,10)}function Zce(t,e=Yce){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Y5(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Jce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mle()?Lle().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kce(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y5(t){return h1(JSON.stringify({version:2,heartbeats:t})).length}function eue(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t){vd(new ju("platform-logger",e=>new hce(e),"PRIVATE")),vd(new ju("heartbeat",e=>new Qce(e),"PRIVATE")),Ho(CR,q5,t),Ho(CR,q5,"esm2017"),Ho("fire-js","")}tue("");var Fo=function(){return Fo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fo.apply(this,arguments)};function Gy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nue(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function qW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rue=qW,WW=new Wy("auth","Firebase",qW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new CE("@firebase/auth");function iue(t,...e){v1.logLevel<=Yt.WARN&&v1.warn(`Auth (${Vd}): ${t}`,...e)}function G_(t,...e){v1.logLevel<=Yt.ERROR&&v1.error(`Auth (${Vd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,...e){throw Ok(t,...e)}function zo(t,...e){return Ok(t,...e)}function GW(t,e,n){const r=Object.assign(Object.assign({},rue()),{[e]:n});return new Wy("auth","Firebase",r).create(e,{appName:t.name})}function Hl(t){return GW(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ok(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WW.create(t,...e)}function Ct(t,e,...n){if(!t)throw Ok(e,...n)}function jl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw G_(e),new Error(e)}function Jl(t,e){t||jl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aue(){return X5()==="http:"||X5()==="https:"}function X5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aue()||Ile()||"connection"in navigator)?navigator.onLine:!0}function oue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jl(n>e,"Short delay should be less than long delay!"),this.isMobile=Ak()||FW()}get(){return sue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){Jl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue=new Ky(3e4,6e4);function af(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pc(t,e,n,r,i={}){return YW(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Ym(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return Rle()||(u.referrerPolicy="no-referrer"),KW.fetch()(XW(t,t.config.apiHost,n,o),u)})}async function YW(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lue),e);try{const i=new fue(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Yb(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yb(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Yb(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Yb(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GW(t,d,u);co(t,d)}}catch(i){if(i instanceof dc)throw i;co(t,"network-request-failed",{message:String(i)})}}async function Yy(t,e,n,r,i={}){const a=await pc(t,e,n,r,i);return"mfaPendingCredential"in a&&co(t,"multi-factor-auth-required",{_serverResponse:a}),a}function XW(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Pk(t.config,i):`${t.config.apiScheme}://${i}`}function uue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zo(this.auth,"network-request-failed")),cue.get())})}}function Yb(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zo(t,e,r);return i.customData._tokenResponse=n,i}function Q5(t){return t!==void 0&&t.enterprise!==void 0}class due{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uue(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hue(t,e){return pc(t,"GET","/v2/recaptchaConfig",af(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pue(t,e){return pc(t,"POST","/v1/accounts:delete",e)}async function QW(t,e){return pc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mue(t,e=!1){const n=Un(t),r=await n.getIdToken(e),i=Rk(r);Ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:nv(CC(i.auth_time)),issuedAtTime:nv(CC(i.iat)),expirationTime:nv(CC(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function CC(t){return Number(t)*1e3}function Rk(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return G_("JWT malformed, contained fewer than 3 sections"),null;try{const i=p1(n);return i?JSON.parse(i):(G_("Failed to decode base64 JWT payload"),null)}catch(i){return G_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z5(t){const e=Rk(t);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dc&&gue(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gue({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nv(this.lastLoginAt),this.creationTime=nv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gp(t,QW(n,{idToken:r}));Ct(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ZW(a.providerUserInfo):[],o=xue(t.providerData,s),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new RR(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function yue(t){const e=Un(t);await y1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZW(t){return t.map(e=>{var{providerId:n}=e,r=Gy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bue(t,e){const n=await YW(t,{},async()=>{const r=Ym({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=XW(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",KW.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _ue(t,e){return pc(t,"POST","/v2/accounts:revokeToken",af(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const n=Z5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await bue(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Cp;return r&&(Ct(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ct(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ct(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cp,this.toJSON())}_performRefresh(){return jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e){Ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ml{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new RR(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Gp(this,this.stsTokenManager.getToken(this.auth,e));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mue(this,e)}reload(){return yue(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ml(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await y1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ka(this.auth.app))return Promise.reject(Hl(this.auth));const e=await this.getIdToken();return await Gp(this,pue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,N=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:k,isAnonymous:O,providerData:I,stsTokenManager:A}=n;Ct(C&&A,e,"internal-error");const R=Cp.fromJSON(this.name,A);Ct(typeof C=="string",e,"internal-error"),Jc(h,e.name),Jc(g,e.name),Ct(typeof k=="boolean",e,"internal-error"),Ct(typeof O=="boolean",e,"internal-error"),Jc(y,e.name),Jc(_,e.name),Jc(v,e.name),Jc(b,e.name),Jc(E,e.name),Jc(N,e.name);const D=new Ml({uid:C,auth:e,email:g,emailVerified:k,displayName:h,isAnonymous:O,photoURL:_,phoneNumber:y,tenantId:v,stsTokenManager:R,createdAt:E,lastLoginAt:N});return I&&Array.isArray(I)&&(D.providerData=I.map(L=>Object.assign({},L))),b&&(D._redirectEventId=b),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cp;i.updateFromServerResponse(n);const a=new Ml({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await y1(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ct(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ZW(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Cp;o.updateFromIdToken(r);const l=new Ml({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new RR(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Map;function Ll(t){Jl(t instanceof Function,"Expected a class definition");let e=J5.get(t);return e?(Jl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JW.type="NONE";const e6=JW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e,n){return`firebase:${t}:${e}:${n}`}class Np{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=K_(this.userKey,i.apiKey,a),this.fullPersistenceKey=K_("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ml._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Np(Ll(e6),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ll(e6);const s=K_(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(s);if(d){const h=Ml._fromJSON(e,d);u!==a&&(o=h),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Np(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Np(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aG(e))return"Blackberry";if(sG(e))return"Webos";if(tG(e))return"Safari";if((e.includes("chrome/")||nG(e))&&!e.includes("edge/"))return"Chrome";if(iG(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eG(t=na()){return/firefox\//i.test(t)}function tG(t=na()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nG(t=na()){return/crios\//i.test(t)}function rG(t=na()){return/iemobile/i.test(t)}function iG(t=na()){return/android/i.test(t)}function aG(t=na()){return/blackberry/i.test(t)}function sG(t=na()){return/webos/i.test(t)}function Ik(t=na()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wue(t=na()){var e;return Ik(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Eue(){return Dle()&&document.documentMode===10}function oG(t=na()){return Ik(t)||iG(t)||sG(t)||aG(t)||/windows phone/i.test(t)||rG(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t,e=[]){let n;switch(t){case"Browser":n=t6(na());break;case"Worker":n=`${t6(na())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tue(t,e={}){return pc(t,"GET","/v2/passwordPolicy",af(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=6;class Cue{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Aue,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n6(this),this.idTokenSubscription=new n6(this),this.beforeStateQueue=new Sue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ll(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Np.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QW(this,{idToken:e}),r=await Ml._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ka(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await y1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ka(this.app))return Promise.reject(Hl(this));const n=e?Un(e):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ka(this.app)?Promise.reject(Hl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ka(this.app)?Promise.reject(Hl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ll(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tue(this),n=new Cue(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wy("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _ue(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ll(e)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await Np.create(this,[Ll(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ka(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iue(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ud(t){return Un(t)}class n6{constructor(e){this.auth=e,this.observer=null,this.addObserver=zle(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oue(t){PE=t}function cG(t){return PE.loadJS(t)}function Pue(){return PE.recaptchaEnterpriseScript}function Rue(){return PE.gapiScript}function Iue(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Due{constructor(){this.enterprise=new kue}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kue{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jue="recaptcha-enterprise",uG="NO_RECAPTCHA";class Mue{constructor(e){this.type=jue,this.auth=Ud(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{hue(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new due(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;Q5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(uG)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Due().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&Q5(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Pue();l.length!==0&&(l+=o),cG(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function r6(t,e,n,r=!1,i=!1){const a=new Mue(t);let s;if(i)s=uG;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function IR(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await r6(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await r6(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(t,e){const n=NE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ku(a,e??{}))return i;co(i,"already-initialized")}return n.initialize({options:e})}function Fue(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ll);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Bue(t,e,n){const r=Ud(t);Ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=fG(e),{host:s,port:o}=$ue(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ct(ku(u,r.config.emulator)&&ku(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Vue()}function fG(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $ue(t){const e=fG(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:i6(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:i6(s)}}}function i6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vue(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jl("not implemented")}_getIdTokenResponse(e){return jl("not implemented")}_linkToIdToken(e,n){return jl("not implemented")}_getReauthenticationResolver(e){return jl("not implemented")}}async function Uue(t,e){return pc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hue(t,e){return Yy(t,"POST","/v1/accounts:signInWithPassword",af(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zue(t,e){return Yy(t,"POST","/v1/accounts:signInWithEmailLink",af(t,e))}async function que(t,e){return Yy(t,"POST","/v1/accounts:signInWithEmailLink",af(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Dk{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rv(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rv(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IR(e,n,"signInWithPassword",Hue);case"emailLink":return zue(e,{email:this._email,oobCode:this._password});default:co(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IR(e,r,"signUpPassword",Uue);case"emailLink":return que(e,{idToken:n,email:this._email,oobCode:this._password});default:co(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t,e){return Yy(t,"POST","/v1/accounts:signInWithIdp",af(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wue="http://localhost";class yd extends Dk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):co("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Gy(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new yd(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Op(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Op(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Op(e,n)}buildRequest(){const e={requestUri:Wue,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ym(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gue(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kue(t){const e=qg(Wg(t)).link,n=e?qg(Wg(e)).deep_link_id:null,r=qg(Wg(t)).deep_link_id;return(r?qg(Wg(r)).link:null)||r||n||e||t}class kk{constructor(e){var n,r,i,a,s,o;const l=qg(Wg(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Gue((i=l.mode)!==null&&i!==void 0?i:null);Ct(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=Kue(e);try{return new kk(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.providerId=Xm.PROVIDER_ID}static credential(e,n){return Rv._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kk.parseLink(n);return Ct(r,"argument-error"),Rv._fromEmailAndCode(e,r.code,r.tenantId)}}Xm.PROVIDER_ID="password";Xm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends dG{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Xy{constructor(){super("facebook.com")}static credential(e){return yd._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lu.credential(e.oauthAccessToken)}catch{return null}}}lu.FACEBOOK_SIGN_IN_METHOD="facebook.com";lu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Xy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yd._fromParams({providerId:cu.PROVIDER_ID,signInMethod:cu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cu.credentialFromTaggedObject(e)}static credentialFromError(e){return cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cu.credential(n,r)}catch{return null}}}cu.GOOGLE_SIGN_IN_METHOD="google.com";cu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Xy{constructor(){super("github.com")}static credential(e){return yd._fromParams({providerId:uu.PROVIDER_ID,signInMethod:uu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uu.credentialFromTaggedObject(e)}static credentialFromError(e){return uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uu.credential(e.oauthAccessToken)}catch{return null}}}uu.GITHUB_SIGN_IN_METHOD="github.com";uu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Xy{constructor(){super("twitter.com")}static credential(e,n){return yd._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fu.credential(n,r)}catch{return null}}}fu.TWITTER_SIGN_IN_METHOD="twitter.com";fu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yue(t,e){return Yy(t,"POST","/v1/accounts:signUp",af(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ml._fromIdTokenResponse(e,r,i),s=a6(r);return new xd({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=a6(r);return new xd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function a6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends dc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,x1.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new x1(e,n,r,i)}}function hG(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?x1._fromErrorAndOperation(t,a,e,r):a})}async function Xue(t,e,n=!1){const r=await Gp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Que(t,e,n=!1){const{auth:r}=t;if(Ka(r.app))return Promise.reject(Hl(r));const i="reauthenticate";try{const a=await Gp(t,hG(r,i,e,t),n);Ct(a.idToken,r,"internal-error");const s=Rk(a.idToken);Ct(s,r,"internal-error");const{sub:o}=s;return Ct(t.uid===o,r,"user-mismatch"),xd._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&co(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pG(t,e,n=!1){if(Ka(t.app))return Promise.reject(Hl(t));const r="signIn",i=await hG(t,r,e),a=await xd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Zue(t,e){return pG(Ud(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t){const e=Ud(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jue(t,e,n){if(Ka(t.app))return Promise.reject(Hl(t));const r=Ud(t),s=await IR(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yue).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mG(t),l}),o=await xd._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function efe(t,e,n){return Ka(t.app)?Promise.reject(Hl(t)):Zue(Un(t),Xm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mG(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tfe(t,e){return pc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nfe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Un(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Gp(r,tfe(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function rfe(t,e,n,r){return Un(t).onIdTokenChanged(e,n,r)}function ife(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}function jk(t,e,n,r){return Un(t).onAuthStateChanged(e,n,r)}const b1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(b1,"1"),this.storage.removeItem(b1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const afe=1e3,sfe=10;class vG extends gG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oG(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Eue()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sfe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},afe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vG.type="LOCAL";const ofe=vG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG extends gG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yG.type="SESSION";const xG=yG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lfe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new RE(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await lfe(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}RE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=Mk("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const g=h;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(g.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(){return window}function ufe(t){qo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(){return typeof qo().WorkerGlobalScope<"u"&&typeof qo().importScripts=="function"}async function ffe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dfe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hfe(){return bG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="firebaseLocalStorageDb",pfe=1,_1="firebaseLocalStorage",wG="fbase_key";class Qy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function IE(t,e){return t.transaction([_1],e?"readwrite":"readonly").objectStore(_1)}function mfe(){const t=indexedDB.deleteDatabase(_G);return new Qy(t).toPromise()}function DR(){const t=indexedDB.open(_G,pfe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_1,{keyPath:wG})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_1)?e(r):(r.close(),await mfe(),e(await DR()))})})}async function s6(t,e,n){const r=IE(t,!0).put({[wG]:e,value:n});return new Qy(r).toPromise()}async function gfe(t,e){const n=IE(t,!1).get(e),r=await new Qy(n).toPromise();return r===void 0?null:r.value}function o6(t,e){const n=IE(t,!0).delete(e);return new Qy(n).toPromise()}const vfe=800,yfe=3;class EG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await DR(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yfe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=RE._getInstance(hfe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ffe(),!this.activeServiceWorker)return;this.sender=new cfe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dfe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await DR();return await s6(e,b1,"1"),await o6(e,b1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>s6(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gfe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o6(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=IE(i,!1).getAll();return new Qy(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EG.type="LOCAL";const xfe=EG;new Ky(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bfe(t,e){return e?Ll(e):(Ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends Dk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Op(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Op(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Op(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _fe(t){return pG(t.auth,new Lk(t),t.bypassAuthState)}function wfe(t){const{auth:e,user:n}=t;return Ct(n,e,"internal-error"),Que(n,new Lk(t),t.bypassAuthState)}async function Efe(t){const{auth:e,user:n}=t;return Ct(n,e,"internal-error"),Xue(n,new Lk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _fe;case"linkViaPopup":case"linkViaRedirect":return Efe;case"reauthViaPopup":case"reauthViaRedirect":return wfe;default:co(this.auth,"internal-error")}}resolve(e){Jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe=new Ky(2e3,1e4);class gp extends SG{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,gp.currentPopupAction&&gp.currentPopupAction.cancel(),gp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){Jl(this.filter.length===1,"Popup operations only handle one event");const e=Mk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sfe.get())};e()}}gp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tfe="pendingRedirect",Y_=new Map;class Afe extends SG{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Y_.get(this.auth._key());if(!e){try{const r=await Cfe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Y_.set(this.auth._key(),e)}return this.bypassAuthState||Y_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cfe(t,e){const n=Pfe(e),r=Ofe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Nfe(t,e){Y_.set(t._key(),e)}function Ofe(t){return Ll(t._redirectPersistence)}function Pfe(t){return K_(Tfe,t.config.apiKey,t.name)}async function Rfe(t,e,n=!1){if(Ka(t.app))return Promise.reject(Hl(t));const r=Ud(t),i=bfe(r,e),s=await new Afe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ife=10*60*1e3;class Dfe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kfe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TG(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ife&&this.cachedEventUids.clear(),this.cachedEventUids.has(l6(e))}saveEventToCache(e){this.cachedEventUids.add(l6(e)),this.lastProcessedEventTime=Date.now()}}function l6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TG({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jfe(t,e={}){return pc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lfe=/^https?/;async function Ffe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jfe(t);for(const n of e)try{if(Bfe(n))return}catch{}co(t,"unauthorized-domain")}function Bfe(t){const e=PR(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Lfe.test(n))return!1;if(Mfe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe=new Ky(3e4,6e4);function c6(){const t=qo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vfe(t){return new Promise((e,n)=>{var r,i,a;function s(){c6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c6(),n(zo(t,"network-request-failed"))},timeout:$fe.get()})}if(!((i=(r=qo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=qo().gapi)===null||a===void 0)&&a.load)s();else{const o=Iue("iframefcb");return qo()[o]=()=>{gapi.load?s():n(zo(t,"network-request-failed"))},cG(`${Rue()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw X_=null,e})}let X_=null;function Ufe(t){return X_=X_||Vfe(t),X_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hfe=new Ky(5e3,15e3),zfe="__/auth/iframe",qfe="emulator/auth/iframe",Wfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kfe(t){const e=t.config;Ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pk(e,qfe):`https://${t.config.authDomain}/${zfe}`,r={apiKey:e.apiKey,appName:t.name,v:Vd},i=Gfe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ym(r).slice(1)}`}async function Yfe(t){const e=await Ufe(t),n=qo().gapi;return Ct(n,t,"internal-error"),e.open({where:document.body,url:Kfe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wfe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=zo(t,"network-request-failed"),o=qo().setTimeout(()=>{a(s)},Hfe.get());function l(){qo().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qfe=500,Zfe=600,Jfe="_blank",ede="http://localhost";class u6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tde(t,e,n,r=Qfe,i=Zfe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Xfe),{width:r.toString(),height:i.toString(),top:a,left:s}),u=na().toLowerCase();n&&(o=nG(u)?Jfe:n),eG(u)&&(e=e||ede,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[y,_])=>`${g}${y}=${_},`,"");if(wue(u)&&o!=="_self")return nde(e||"",o),new u6(null);const h=window.open(e||"",o,d);Ct(h,t,"popup-blocked");try{h.focus()}catch{}return new u6(h)}function nde(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rde="__/auth/handler",ide="emulator/auth/handler",ade=encodeURIComponent("fac");async function f6(t,e,n,r,i,a){Ct(t.config.authDomain,t,"auth-domain-config-required"),Ct(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vd,eventId:i};if(e instanceof dG){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",SR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof Xy){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${ade}=${encodeURIComponent(l)}`:"";return`${sde(t)}?${Ym(o).slice(1)}${u}`}function sde({config:t}){return t.emulator?Pk(t,ide):`https://${t.authDomain}/${rde}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="webStorageSupport";class ode{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xG,this._completeRedirectFn=Rfe,this._overrideRedirectResult=Nfe}async _openPopup(e,n,r,i){var a;Jl((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await f6(e,n,r,PR(),i);return tde(e,s,Mk())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await f6(e,n,r,PR(),i);return ufe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Jl(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Yfe(e),r=new Dfe(e);return n.register("authEvent",i=>(Ct(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(NC,{type:NC},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[NC];s!==void 0&&n(!!s),co(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ffe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oG()||tG()||Ik()}}const lde=ode;var d6="@firebase/auth",h6="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ude(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fde(t){vd(new ju("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Ct(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lG(t)},u=new Nue(r,i,a,l);return Fue(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vd(new ju("auth-internal",e=>{const n=Ud(e.getProvider("auth").getImmediate());return(r=>new cde(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ho(d6,h6,ude(t)),Ho(d6,h6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dde=5*60,hde=MW("authIdTokenMaxAge")||dde;let p6=null;const pde=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hde)return;const i=n==null?void 0:n.token;p6!==i&&(p6=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Mu(t=Nk()){const e=NE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lue(t,{popupRedirectResolver:lde,persistence:[xfe,ofe,xG]}),r=MW("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=pde(a.toString());ife(n,s,()=>s(n.currentUser)),rfe(n,o=>s(o))}}const i=DW("auth");return i&&Bue(n,`http://${i}`),n}function mde(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Oue({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=zo("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",mde().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fde("Browser");var m6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eu,AG;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function D(){}D.prototype=R.prototype,A.D=R.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(L,j,B){for(var F=Array(arguments.length-2),re=2;re<arguments.length;re++)F[re-2]=arguments[re];return R.prototype[j].apply(L,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,R,D){D||(D=0);var L=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)L[j]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(j=0;16>j;++j)L[j]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=A.g[0],D=A.g[1],j=A.g[2];var B=A.g[3],F=R+(B^D&(j^B))+L[0]+3614090360&4294967295;R=D+(F<<7&4294967295|F>>>25),F=B+(j^R&(D^j))+L[1]+3905402710&4294967295,B=R+(F<<12&4294967295|F>>>20),F=j+(D^B&(R^D))+L[2]+606105819&4294967295,j=B+(F<<17&4294967295|F>>>15),F=D+(R^j&(B^R))+L[3]+3250441966&4294967295,D=j+(F<<22&4294967295|F>>>10),F=R+(B^D&(j^B))+L[4]+4118548399&4294967295,R=D+(F<<7&4294967295|F>>>25),F=B+(j^R&(D^j))+L[5]+1200080426&4294967295,B=R+(F<<12&4294967295|F>>>20),F=j+(D^B&(R^D))+L[6]+2821735955&4294967295,j=B+(F<<17&4294967295|F>>>15),F=D+(R^j&(B^R))+L[7]+4249261313&4294967295,D=j+(F<<22&4294967295|F>>>10),F=R+(B^D&(j^B))+L[8]+1770035416&4294967295,R=D+(F<<7&4294967295|F>>>25),F=B+(j^R&(D^j))+L[9]+2336552879&4294967295,B=R+(F<<12&4294967295|F>>>20),F=j+(D^B&(R^D))+L[10]+4294925233&4294967295,j=B+(F<<17&4294967295|F>>>15),F=D+(R^j&(B^R))+L[11]+2304563134&4294967295,D=j+(F<<22&4294967295|F>>>10),F=R+(B^D&(j^B))+L[12]+1804603682&4294967295,R=D+(F<<7&4294967295|F>>>25),F=B+(j^R&(D^j))+L[13]+4254626195&4294967295,B=R+(F<<12&4294967295|F>>>20),F=j+(D^B&(R^D))+L[14]+2792965006&4294967295,j=B+(F<<17&4294967295|F>>>15),F=D+(R^j&(B^R))+L[15]+1236535329&4294967295,D=j+(F<<22&4294967295|F>>>10),F=R+(j^B&(D^j))+L[1]+4129170786&4294967295,R=D+(F<<5&4294967295|F>>>27),F=B+(D^j&(R^D))+L[6]+3225465664&4294967295,B=R+(F<<9&4294967295|F>>>23),F=j+(R^D&(B^R))+L[11]+643717713&4294967295,j=B+(F<<14&4294967295|F>>>18),F=D+(B^R&(j^B))+L[0]+3921069994&4294967295,D=j+(F<<20&4294967295|F>>>12),F=R+(j^B&(D^j))+L[5]+3593408605&4294967295,R=D+(F<<5&4294967295|F>>>27),F=B+(D^j&(R^D))+L[10]+38016083&4294967295,B=R+(F<<9&4294967295|F>>>23),F=j+(R^D&(B^R))+L[15]+3634488961&4294967295,j=B+(F<<14&4294967295|F>>>18),F=D+(B^R&(j^B))+L[4]+3889429448&4294967295,D=j+(F<<20&4294967295|F>>>12),F=R+(j^B&(D^j))+L[9]+568446438&4294967295,R=D+(F<<5&4294967295|F>>>27),F=B+(D^j&(R^D))+L[14]+3275163606&4294967295,B=R+(F<<9&4294967295|F>>>23),F=j+(R^D&(B^R))+L[3]+4107603335&4294967295,j=B+(F<<14&4294967295|F>>>18),F=D+(B^R&(j^B))+L[8]+1163531501&4294967295,D=j+(F<<20&4294967295|F>>>12),F=R+(j^B&(D^j))+L[13]+2850285829&4294967295,R=D+(F<<5&4294967295|F>>>27),F=B+(D^j&(R^D))+L[2]+4243563512&4294967295,B=R+(F<<9&4294967295|F>>>23),F=j+(R^D&(B^R))+L[7]+1735328473&4294967295,j=B+(F<<14&4294967295|F>>>18),F=D+(B^R&(j^B))+L[12]+2368359562&4294967295,D=j+(F<<20&4294967295|F>>>12),F=R+(D^j^B)+L[5]+4294588738&4294967295,R=D+(F<<4&4294967295|F>>>28),F=B+(R^D^j)+L[8]+2272392833&4294967295,B=R+(F<<11&4294967295|F>>>21),F=j+(B^R^D)+L[11]+1839030562&4294967295,j=B+(F<<16&4294967295|F>>>16),F=D+(j^B^R)+L[14]+4259657740&4294967295,D=j+(F<<23&4294967295|F>>>9),F=R+(D^j^B)+L[1]+2763975236&4294967295,R=D+(F<<4&4294967295|F>>>28),F=B+(R^D^j)+L[4]+1272893353&4294967295,B=R+(F<<11&4294967295|F>>>21),F=j+(B^R^D)+L[7]+4139469664&4294967295,j=B+(F<<16&4294967295|F>>>16),F=D+(j^B^R)+L[10]+3200236656&4294967295,D=j+(F<<23&4294967295|F>>>9),F=R+(D^j^B)+L[13]+681279174&4294967295,R=D+(F<<4&4294967295|F>>>28),F=B+(R^D^j)+L[0]+3936430074&4294967295,B=R+(F<<11&4294967295|F>>>21),F=j+(B^R^D)+L[3]+3572445317&4294967295,j=B+(F<<16&4294967295|F>>>16),F=D+(j^B^R)+L[6]+76029189&4294967295,D=j+(F<<23&4294967295|F>>>9),F=R+(D^j^B)+L[9]+3654602809&4294967295,R=D+(F<<4&4294967295|F>>>28),F=B+(R^D^j)+L[12]+3873151461&4294967295,B=R+(F<<11&4294967295|F>>>21),F=j+(B^R^D)+L[15]+530742520&4294967295,j=B+(F<<16&4294967295|F>>>16),F=D+(j^B^R)+L[2]+3299628645&4294967295,D=j+(F<<23&4294967295|F>>>9),F=R+(j^(D|~B))+L[0]+4096336452&4294967295,R=D+(F<<6&4294967295|F>>>26),F=B+(D^(R|~j))+L[7]+1126891415&4294967295,B=R+(F<<10&4294967295|F>>>22),F=j+(R^(B|~D))+L[14]+2878612391&4294967295,j=B+(F<<15&4294967295|F>>>17),F=D+(B^(j|~R))+L[5]+4237533241&4294967295,D=j+(F<<21&4294967295|F>>>11),F=R+(j^(D|~B))+L[12]+1700485571&4294967295,R=D+(F<<6&4294967295|F>>>26),F=B+(D^(R|~j))+L[3]+2399980690&4294967295,B=R+(F<<10&4294967295|F>>>22),F=j+(R^(B|~D))+L[10]+4293915773&4294967295,j=B+(F<<15&4294967295|F>>>17),F=D+(B^(j|~R))+L[1]+2240044497&4294967295,D=j+(F<<21&4294967295|F>>>11),F=R+(j^(D|~B))+L[8]+1873313359&4294967295,R=D+(F<<6&4294967295|F>>>26),F=B+(D^(R|~j))+L[15]+4264355552&4294967295,B=R+(F<<10&4294967295|F>>>22),F=j+(R^(B|~D))+L[6]+2734768916&4294967295,j=B+(F<<15&4294967295|F>>>17),F=D+(B^(j|~R))+L[13]+1309151649&4294967295,D=j+(F<<21&4294967295|F>>>11),F=R+(j^(D|~B))+L[4]+4149444226&4294967295,R=D+(F<<6&4294967295|F>>>26),F=B+(D^(R|~j))+L[11]+3174756917&4294967295,B=R+(F<<10&4294967295|F>>>22),F=j+(R^(B|~D))+L[2]+718787259&4294967295,j=B+(F<<15&4294967295|F>>>17),F=D+(B^(j|~R))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(j+(F<<21&4294967295|F>>>11))&4294967295,A.g[2]=A.g[2]+j&4294967295,A.g[3]=A.g[3]+B&4294967295}r.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var D=R-this.blockSize,L=this.B,j=this.h,B=0;B<R;){if(j==0)for(;B<=D;)i(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<R;)if(L[j++]=A.charCodeAt(B++),j==this.blockSize){i(this,L),j=0;break}}else for(;B<R;)if(L[j++]=A[B++],j==this.blockSize){i(this,L),j=0;break}}this.h=j,this.o+=R},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var D=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=D&255,D/=256;for(this.u(A),A=Array(16),R=D=0;4>R;++R)for(var L=0;32>L;L+=8)A[D++]=this.g[R]>>>L&255;return A};function a(A,R){var D=o;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=R(A)}function s(A,R){this.h=R;for(var D=[],L=!0,j=A.length-1;0<=j;j--){var B=A[j]|0;L&&B==R||(D[j]=B,L=!1)}this.g=D}var o={};function l(A){return-128<=A&&128>A?a(A,function(R){return new s([R|0],0>R?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return b(u(-A));for(var R=[],D=1,L=0;A>=D;L++)R[L]=A/D|0,D*=4294967296;return new s(R,0)}function d(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return b(d(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(R,8)),L=h,j=0;j<A.length;j+=8){var B=Math.min(8,A.length-j),F=parseInt(A.substring(j,j+B),R);8>B?(B=u(Math.pow(R,B)),L=L.j(B).add(u(F))):(L=L.j(D),L=L.add(u(F)))}return L}var h=l(0),g=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-b(this).m();for(var A=0,R=1,D=0;D<this.g.length;D++){var L=this.i(D);A+=(0<=L?L:4294967296+L)*R,R*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(v(this))return"-"+b(this).toString(A);for(var R=u(Math.pow(A,6)),D=this,L="";;){var j=k(D,R).g;D=E(D,j.j(R));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=j,_(D))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=E(this,A),v(A)?-1:_(A)?0:1};function b(A){for(var R=A.g.length,D=[],L=0;L<R;L++)D[L]=~A.g[L];return new s(D,~A.h).add(g)}t.abs=function(){return v(this)?b(this):this},t.add=function(A){for(var R=Math.max(this.g.length,A.g.length),D=[],L=0,j=0;j<=R;j++){var B=L+(this.i(j)&65535)+(A.i(j)&65535),F=(B>>>16)+(this.i(j)>>>16)+(A.i(j)>>>16);L=F>>>16,B&=65535,F&=65535,D[j]=F<<16|B}return new s(D,D[D.length-1]&-2147483648?-1:0)};function E(A,R){return A.add(b(R))}t.j=function(A){if(_(this)||_(A))return h;if(v(this))return v(A)?b(this).j(b(A)):b(b(this).j(A));if(v(A))return b(this.j(b(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var R=this.g.length+A.g.length,D=[],L=0;L<2*R;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<A.g.length;j++){var B=this.i(L)>>>16,F=this.i(L)&65535,re=A.i(j)>>>16,q=A.i(j)&65535;D[2*L+2*j]+=F*q,N(D,2*L+2*j),D[2*L+2*j+1]+=B*q,N(D,2*L+2*j+1),D[2*L+2*j+1]+=F*re,N(D,2*L+2*j+1),D[2*L+2*j+2]+=B*re,N(D,2*L+2*j+2)}for(L=0;L<R;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=R;L<2*R;L++)D[L]=0;return new s(D,0)};function N(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function C(A,R){this.g=A,this.h=R}function k(A,R){if(_(R))throw Error("division by zero");if(_(A))return new C(h,h);if(v(A))return R=k(b(A),R),new C(b(R.g),b(R.h));if(v(R))return R=k(A,b(R)),new C(b(R.g),R.h);if(30<A.g.length){if(v(A)||v(R))throw Error("slowDivide_ only works with positive integers.");for(var D=g,L=R;0>=L.l(A);)D=O(D),L=O(L);var j=I(D,1),B=I(L,1);for(L=I(L,2),D=I(D,2);!_(L);){var F=B.add(L);0>=F.l(A)&&(j=j.add(D),B=F),L=I(L,1),D=I(D,1)}return R=E(A,j.j(R)),new C(j,R)}for(j=h;0<=A.l(R);){for(D=Math.max(1,Math.floor(A.m()/R.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=u(D),F=B.j(R);v(F)||0<F.l(A);)D-=L,B=u(D),F=B.j(R);_(B)&&(B=g),j=j.add(B),A=E(A,F)}return new C(j,A)}t.A=function(A){return k(this,A).h},t.and=function(A){for(var R=Math.max(this.g.length,A.g.length),D=[],L=0;L<R;L++)D[L]=this.i(L)&A.i(L);return new s(D,this.h&A.h)},t.or=function(A){for(var R=Math.max(this.g.length,A.g.length),D=[],L=0;L<R;L++)D[L]=this.i(L)|A.i(L);return new s(D,this.h|A.h)},t.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),D=[],L=0;L<R;L++)D[L]=this.i(L)^A.i(L);return new s(D,this.h^A.h)};function O(A){for(var R=A.g.length+1,D=[],L=0;L<R;L++)D[L]=A.i(L)<<1|A.i(L-1)>>>31;return new s(D,A.h)}function I(A,R){var D=R>>5;R%=32;for(var L=A.g.length-D,j=[],B=0;B<L;B++)j[B]=0<R?A.i(B+D)>>>R|A.i(B+D+1)<<32-R:A.i(B+D);return new s(j,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AG=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Eu=s}).apply(typeof m6<"u"?m6:typeof self<"u"?self:typeof window<"u"?window:{});var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CG,Gg,NG,Q_,kR,OG,PG,RG;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,M,U){return w==Array.prototype||w==Object.prototype||(w[M]=U.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xb=="object"&&Xb];for(var M=0;M<w.length;++M){var U=w[M];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(w,M){if(M)e:{var U=r;w=w.split(".");for(var te=0;te<w.length-1;te++){var be=w[te];if(!(be in U))break e;U=U[be]}w=w[w.length-1],te=U[w],M=M(te),M!=te&&M!=null&&e(U,w,{configurable:!0,writable:!0,value:M})}}function a(w,M){w instanceof String&&(w+="");var U=0,te=!1,be={next:function(){if(!te&&U<w.length){var Ne=U++;return{value:M(Ne,w[Ne]),done:!1}}return te=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(w){return w||function(){return a(this,function(M,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(w){var M=typeof w;return M=M!="object"?M:w?Array.isArray(w)?"array":M:"null",M=="array"||M=="object"&&typeof w.length=="number"}function u(w){var M=typeof w;return M=="object"&&w!=null||M=="function"}function d(w,M,U){return w.call.apply(w.bind,arguments)}function h(w,M,U){if(!w)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,te),w.apply(M,be)}}return function(){return w.apply(M,arguments)}}function g(w,M,U){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,g.apply(null,arguments)}function y(w,M){var U=Array.prototype.slice.call(arguments,1);return function(){var te=U.slice();return te.push.apply(te,arguments),w.apply(this,te)}}function _(w,M){function U(){}U.prototype=M.prototype,w.aa=M.prototype,w.prototype=new U,w.prototype.constructor=w,w.Qb=function(te,be,Ne){for(var Ye=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)Ye[sn-2]=arguments[sn];return M.prototype[be].apply(te,Ye)}}function v(w){const M=w.length;if(0<M){const U=Array(M);for(let te=0;te<M;te++)U[te]=w[te];return U}return[]}function b(w,M){for(let U=1;U<arguments.length;U++){const te=arguments[U];if(l(te)){const be=w.length||0,Ne=te.length||0;w.length=be+Ne;for(let Ye=0;Ye<Ne;Ye++)w[be+Ye]=te[Ye]}else w.push(te)}}class E{constructor(M,U){this.i=M,this.j=U,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function N(w){return/^[\s\xa0]*$/.test(w)}function C(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function k(w){return k[" "](w),w}k[" "]=function(){};var O=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function I(w,M,U){for(const te in w)M.call(U,w[te],te,w)}function A(w,M){for(const U in w)M.call(void 0,w[U],U,w)}function R(w){const M={};for(const U in w)M[U]=w[U];return M}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(w,M){let U,te;for(let be=1;be<arguments.length;be++){te=arguments[be];for(U in te)w[U]=te[U];for(let Ne=0;Ne<D.length;Ne++)U=D[Ne],Object.prototype.hasOwnProperty.call(te,U)&&(w[U]=te[U])}}function j(w){var M=1;w=w.split(":");const U=[];for(;0<M&&w.length;)U.push(w.shift()),M--;return w.length&&U.push(w.join(":")),U}function B(w){o.setTimeout(()=>{throw w},0)}function F(){var w=ie;let M=null;return w.g&&(M=w.g,w.g=w.g.next,w.g||(w.h=null),M.next=null),M}class re{constructor(){this.h=this.g=null}add(M,U){const te=q.get();te.set(M,U),this.h?this.h.next=te:this.g=te,this.h=te}}var q=new E(()=>new V,w=>w.reset());class V{constructor(){this.next=this.g=this.h=null}set(M,U){this.h=M,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let X,Q=!1,ie=new re,W=()=>{const w=o.Promise.resolve(void 0);X=()=>{w.then(ce)}};var ce=()=>{for(var w;w=F();){try{w.h.call(w.g)}catch(U){B(U)}var M=q;M.j(w),100>M.h&&(M.h++,w.next=M.g,M.g=w)}Q=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(w,M){this.type=w,this.g=this.target=M,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,M=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};o.addEventListener("test",U,M),o.removeEventListener("test",U,M)}catch{}return w}();function J(w,M){if(Y.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var U=this.type=w.type,te=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=M,M=w.relatedTarget){if(O){e:{try{k(M.nodeName);var be=!0;break e}catch{}be=!1}be||(M=null)}}else U=="mouseover"?M=w.fromElement:U=="mouseout"&&(M=w.toElement);this.relatedTarget=M,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:fe[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&J.aa.h.call(this)}}_(J,Y);var fe={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),ye=0;function de(w,M,U,te,be){this.listener=w,this.proxy=null,this.src=M,this.type=U,this.capture=!!te,this.ha=be,this.key=++ye,this.da=this.fa=!1}function he(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Ce(w){this.src=w,this.g={},this.h=0}Ce.prototype.add=function(w,M,U,te,be){var Ne=w.toString();w=this.g[Ne],w||(w=this.g[Ne]=[],this.h++);var Ye=Ue(w,M,te,be);return-1<Ye?(M=w[Ye],U||(M.fa=!1)):(M=new de(M,this.src,Ne,!!te,be),M.fa=U,w.push(M)),M};function me(w,M){var U=M.type;if(U in w.g){var te=w.g[U],be=Array.prototype.indexOf.call(te,M,void 0),Ne;(Ne=0<=be)&&Array.prototype.splice.call(te,be,1),Ne&&(he(M),w.g[U].length==0&&(delete w.g[U],w.h--))}}function Ue(w,M,U,te){for(var be=0;be<w.length;++be){var Ne=w[be];if(!Ne.da&&Ne.listener==M&&Ne.capture==!!U&&Ne.ha==te)return be}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),Je={};function it(w,M,U,te,be){if(Array.isArray(M)){for(var Ne=0;Ne<M.length;Ne++)it(w,M[Ne],U,te,be);return null}return U=Ci(U),w&&w[pe]?w.K(M,U,u(te)?!!te.capture:!1,be):Fe(w,M,U,!1,te,be)}function Fe(w,M,U,te,be,Ne){if(!M)throw Error("Invalid event type");var Ye=u(be)?!!be.capture:!!be,sn=vr(w);if(sn||(w[$e]=sn=new Ce(w)),U=sn.add(M,U,te,Ye,Ne),U.proxy)return U;if(te=Rt(),U.proxy=te,te.src=w,te.listener=U,w.addEventListener)K||(be=Ye),be===void 0&&(be=!1),w.addEventListener(M.toString(),te,be);else if(w.attachEvent)w.attachEvent(cr(M.toString()),te);else if(w.addListener&&w.removeListener)w.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Rt(){function w(U){return M.call(w.src,w.listener,U)}const M=zi;return w}function Ft(w,M,U,te,be){if(Array.isArray(M))for(var Ne=0;Ne<M.length;Ne++)Ft(w,M[Ne],U,te,be);else te=u(te)?!!te.capture:!!te,U=Ci(U),w&&w[pe]?(w=w.i,M=String(M).toString(),M in w.g&&(Ne=w.g[M],U=Ue(Ne,U,te,be),-1<U&&(he(Ne[U]),Array.prototype.splice.call(Ne,U,1),Ne.length==0&&(delete w.g[M],w.h--)))):w&&(w=vr(w))&&(M=w.g[M.toString()],w=-1,M&&(w=Ue(M,U,te,be)),(U=-1<w?M[w]:null)&&nr(U))}function nr(w){if(typeof w!="number"&&w&&!w.da){var M=w.src;if(M&&M[pe])me(M.i,w);else{var U=w.type,te=w.proxy;M.removeEventListener?M.removeEventListener(U,te,w.capture):M.detachEvent?M.detachEvent(cr(U),te):M.addListener&&M.removeListener&&M.removeListener(te),(U=vr(M))?(me(U,w),U.h==0&&(U.src=null,M[$e]=null)):he(w)}}}function cr(w){return w in Je?Je[w]:Je[w]="on"+w}function zi(w,M){if(w.da)w=!0;else{M=new J(M,this);var U=w.listener,te=w.ha||w.src;w.fa&&nr(w),w=U.call(te,M)}return w}function vr(w){return w=w[$e],w instanceof Ce?w:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(w){return typeof w=="function"?w:(w[Wt]||(w[Wt]=function(M){return w.handleEvent(M)}),w[Wt])}function Hn(){z.call(this),this.i=new Ce(this),this.M=this,this.F=null}_(Hn,z),Hn.prototype[pe]=!0,Hn.prototype.removeEventListener=function(w,M,U,te){Ft(this,w,M,U,te)};function Mn(w,M){var U,te=w.F;if(te)for(U=[];te;te=te.F)U.push(te);if(w=w.M,te=M.type||M,typeof M=="string")M=new Y(M,w);else if(M instanceof Y)M.target=M.target||w;else{var be=M;M=new Y(te,w),L(M,be)}if(be=!0,U)for(var Ne=U.length-1;0<=Ne;Ne--){var Ye=M.g=U[Ne];be=Ir(Ye,te,!0,M)&&be}if(Ye=M.g=w,be=Ir(Ye,te,!0,M)&&be,be=Ir(Ye,te,!1,M)&&be,U)for(Ne=0;Ne<U.length;Ne++)Ye=M.g=U[Ne],be=Ir(Ye,te,!1,M)&&be}Hn.prototype.N=function(){if(Hn.aa.N.call(this),this.i){var w=this.i,M;for(M in w.g){for(var U=w.g[M],te=0;te<U.length;te++)he(U[te]);delete w.g[M],w.h--}}this.F=null},Hn.prototype.K=function(w,M,U,te){return this.i.add(String(w),M,!1,U,te)},Hn.prototype.L=function(w,M,U,te){return this.i.add(String(w),M,!0,U,te)};function Ir(w,M,U,te){if(M=w.i.g[String(M)],!M)return!0;M=M.concat();for(var be=!0,Ne=0;Ne<M.length;++Ne){var Ye=M[Ne];if(Ye&&!Ye.da&&Ye.capture==U){var sn=Ye.listener,Gr=Ye.ha||Ye.src;Ye.fa&&me(w.i,Ye),be=sn.call(Gr,te)!==!1&&be}}return be&&!te.defaultPrevented}function Tc(w,M,U){if(typeof w=="function")U&&(w=g(w,U));else if(w&&typeof w.handleEvent=="function")w=g(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:o.setTimeout(w,M||0)}function Ia(w){w.g=Tc(()=>{w.g=null,w.i&&(w.i=!1,Ia(w))},w.l);const M=w.h;w.h=null,w.m.apply(null,M)}class Nr extends z{constructor(M,U){super(),this.m=M,this.l=U,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(w){z.call(this),this.h=w,this.g={}}_(is,z);var Da=[];function Or(w){I(w.g,function(M,U){this.g.hasOwnProperty(U)&&nr(M)},w),w.g={}}is.prototype.N=function(){is.aa.N.call(this),Or(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yo=o.JSON.stringify,xa=o.JSON.parse,qr=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function xo(){}xo.prototype.h=null;function ol(w){return w.h||(w.h=w.i())}function et(){}var qe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function It(){Y.call(this,"d")}_(It,Y);function _t(){Y.call(this,"c")}_(_t,Y);var _n={},zn=null;function oi(){return zn=zn||new Hn}_n.La="serverreachability";function yr(w){Y.call(this,_n.La,w)}_(yr,Y);function qn(w){const M=oi();Mn(M,new yr(M))}_n.STAT_EVENT="statevent";function hr(w,M){Y.call(this,_n.STAT_EVENT,w),this.stat=M}_(hr,Y);function pn(w){const M=oi();Mn(M,new hr(M,w))}_n.Ma="timingevent";function Ac(w,M){Y.call(this,_n.Ma,w),this.size=M}_(Ac,Y);function ba(w,M){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},M)}function as(){this.g=!0}as.prototype.xa=function(){this.g=!1};function Cc(w,M,U,te,be,Ne){w.info(function(){if(w.g)if(Ne)for(var Ye="",sn=Ne.split("&"),Gr=0;Gr<sn.length;Gr++){var on=sn[Gr].split("=");if(1<on.length){var ui=on[0];on=on[1];var Kr=ui.split("_");Ye=2<=Kr.length&&Kr[1]=="type"?Ye+(ui+"="+on+"&"):Ye+(ui+"=redacted&")}}else Ye=null;else Ye=Ne;return"XMLHTTP REQ ("+te+") [attempt "+be+"]: "+M+`
`+U+`
`+Ye})}function hh(w,M,U,te,be,Ne,Ye){w.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+be+"]: "+M+`
`+U+`
`+Ne+" "+Ye})}function G(w,M,U,te){w.info(function(){return"XMLHTTP TEXT ("+M+"): "+ee(w,U)+(te?" "+te:"")})}function se(w,M){w.info(function(){return"TIMEOUT: "+M})}as.prototype.info=function(){};function ee(w,M){if(!w.g)return M;if(!M)return null;try{var U=JSON.parse(M);if(U){for(w=0;w<U.length;w++)if(Array.isArray(U[w])){var te=U[w];if(!(2>te.length)){var be=te[1];if(Array.isArray(be)&&!(1>be.length)){var Ne=be[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var Ye=1;Ye<be.length;Ye++)be[Ye]=""}}}}return yo(U)}catch{return M}}var ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},le;function Ee(){}_(Ee,xo),Ee.prototype.g=function(){return new XMLHttpRequest},Ee.prototype.i=function(){return{}},le=new Ee;function Oe(w,M,U,te){this.j=w,this.i=M,this.l=U,this.R=te||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var Se={},Te={};function Be(w,M,U){w.L=1,w.v=_f(xr(M)),w.m=U,w.P=!0,Ge(w,null)}function Ge(w,M){w.F=Date.now(),ze(w),w.A=xr(w.v);var U=w.A,te=w.R;Array.isArray(te)||(te=[String(te)]),fl(U.i,"t",te),w.C=0,U=w.j.J,w.h=new _e,w.g=Wx(w.j,U?M:null,!w.m),0<w.O&&(w.M=new Nr(g(w.Y,w,w.g),w.O)),M=w.U,U=w.g,te=w.ca;var be="readystatechange";Array.isArray(be)||(be&&(Da[0]=be.toString()),be=Da);for(var Ne=0;Ne<be.length;Ne++){var Ye=it(U,be[Ne],te||M.handleEvent,!1,M.h||M);if(!Ye)break;M.g[Ye.key]=Ye}M=w.H?R(w.H):{},w.m?(w.u||(w.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,M)):(w.u="GET",w.g.ea(w.A,w.u,null,M)),qn(),Cc(w.i,w.u,w.A,w.l,w.R,w.m)}Oe.prototype.ca=function(w){w=w.target;const M=this.M;M&&us(w)==3?M.j():this.Y(w)},Oe.prototype.Y=function(w){try{if(w==this.g)e:{const Kr=us(this.g);var M=this.g.Ba();const ml=this.g.Z();if(!(3>Kr)&&(Kr!=3||this.g&&(this.h.h||this.g.oa()||Fx(this.g)))){this.J||Kr!=4||M==7||(M==8||0>=ml?qn(3):qn(2)),An(this);var U=this.g.Z();this.X=U;t:if(rt(this)){var te=Fx(this.g);w="";var be=te.length,Ne=us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Gt(this);var Ye="";break t}this.h.i=new o.TextDecoder}for(M=0;M<be;M++)this.h.h=!0,w+=this.h.i.decode(te[M],{stream:!(Ne&&M==be-1)});te.length=0,this.h.g+=w,this.C=0,Ye=this.h.g}else Ye=this.g.oa();if(this.o=U==200,hh(this.i,this.u,this.A,this.l,this.R,Kr,U),this.o){if(this.T&&!this.K){t:{if(this.g){var sn,Gr=this.g;if((sn=Gr.g?Gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(sn)){var on=sn;break t}}on=null}if(U=on)G(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,U);else{this.o=!1,this.s=3,pn(12),wn(this),Gt(this);break e}}if(this.P){U=!0;let Ni;for(;!this.J&&this.C<Ye.length;)if(Ni=He(this,Ye),Ni==Te){Kr==4&&(this.s=4,pn(14),U=!1),G(this.i,this.l,null,"[Incomplete Response]");break}else if(Ni==Se){this.s=4,pn(15),G(this.i,this.l,Ye,"[Invalid Chunk]"),U=!1;break}else G(this.i,this.l,Ni,null),Wr(this,Ni);if(rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kr!=4||Ye.length!=0||this.h.h||(this.s=1,pn(16),U=!1),this.o=this.o&&U,!U)G(this.i,this.l,Ye,"[Invalid Chunked Response]"),wn(this),Gt(this);else if(0<Ye.length&&!this.W){this.W=!0;var ui=this.j;ui.g==this&&ui.ba&&!ui.M&&(ui.j.info("Great, no buffering proxy detected. Bytes received: "+Ye.length),Nf(ui),ui.M=!0,pn(11))}}else G(this.i,this.l,Ye,null),Wr(this,Ye);Kr==4&&wn(this),this.o&&!this.J&&(Kr==4?Hx(this.j,this):(this.o=!1,ze(this)))}else ET(this.g),U==400&&0<Ye.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),wn(this),Gt(this)}}}catch{}finally{}};function rt(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function He(w,M){var U=w.C,te=M.indexOf(`
`,U);return te==-1?Te:(U=Number(M.substring(U,te)),isNaN(U)?Se:(te+=1,te+U>M.length?Te:(M=M.slice(te,te+U),w.C=te+U,M)))}Oe.prototype.cancel=function(){this.J=!0,wn(this)};function ze(w){w.S=Date.now()+w.I,Tt(w,w.I)}function Tt(w,M){if(w.B!=null)throw Error("WatchDog timer not null");w.B=ba(g(w.ba,w),M)}function An(w){w.B&&(o.clearTimeout(w.B),w.B=null)}Oe.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(se(this.i,this.A),this.L!=2&&(qn(),pn(17)),wn(this),this.s=2,Gt(this)):Tt(this,this.S-w)};function Gt(w){w.j.G==0||w.J||Hx(w.j,w)}function wn(w){An(w);var M=w.M;M&&typeof M.ma=="function"&&M.ma(),w.M=null,Or(w.U),w.g&&(M=w.g,w.g=null,M.abort(),M.ma())}function Wr(w,M){try{var U=w.j;if(U.G!=0&&(U.g==w||li(U.h,w))){if(!w.K&&li(U.h,w)&&U.G==3){try{var te=U.Da.g.parse(M)}catch{te=null}if(Array.isArray(te)&&te.length==3){var be=te;if(be[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<w.F)Eh(U),_h(U);else break e;M0(U),pn(18)}}else U.za=be[1],0<U.za-U.T&&37500>be[2]&&U.F&&U.v==0&&!U.C&&(U.C=ba(g(U.Za,U),6e3));if(1>=Nc(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else pl(U,11)}else if((w.K||U.g==w)&&Eh(U),!N(M))for(be=U.Da.g.parse(M),M=0;M<be.length;M++){let on=be[M];if(U.T=on[0],on=on[1],U.G==2)if(on[0]=="c"){U.K=on[1],U.ia=on[2];const ui=on[3];ui!=null&&(U.la=ui,U.j.info("VER="+U.la));const Kr=on[4];Kr!=null&&(U.Aa=Kr,U.j.info("SVER="+U.Aa));const ml=on[5];ml!=null&&typeof ml=="number"&&0<ml&&(te=1.5*ml,U.L=te,U.j.info("backChannelRequestTimeoutMs_="+te)),te=U;const Ni=w.g;if(Ni){const Ao=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ao){var Ne=te.h;Ne.g||Ao.indexOf("spdy")==-1&&Ao.indexOf("quic")==-1&&Ao.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(Oc(Ne,Ne.h),Ne.h=null))}if(te.D){const F0=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;F0&&(te.ya=F0,mn(te.I,te.D,F0))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-w.F,U.j.info("Handshake RTT: "+U.R+"ms")),te=U;var Ye=w;if(te.qa=qx(te,te.J?te.ia:null,te.W),Ye.K){ss(te.h,Ye);var sn=Ye,Gr=te.L;Gr&&(sn.I=Gr),sn.B&&(An(sn),ze(sn)),te.g=Ye}else Vx(te);0<U.i.length&&wh(U)}else on[0]!="stop"&&on[0]!="close"||pl(U,7);else U.G==3&&(on[0]=="stop"||on[0]=="close"?on[0]=="stop"?pl(U,7):k0(U):on[0]!="noop"&&U.l&&U.l.ta(on),U.v=0)}}qn(4)}catch{}}var ll=class{constructor(w,M){this.g=w,this.map=M}};function Ls(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Nc(w){return w.h?1:w.g?w.g.size:0}function li(w,M){return w.h?w.h==M:w.g?w.g.has(M):!1}function Oc(w,M){w.g?w.g.add(M):w.h=M}function ss(w,M){w.h&&w.h==M?w.h=null:w.g&&w.g.has(M)&&w.g.delete(M)}Ls.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function ra(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let M=w.i;for(const U of w.g.values())M=M.concat(U.D);return M}return v(w.i)}function kx(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var M=[],U=w.length,te=0;te<U;te++)M.push(w[te]);return M}M=[],U=0;for(te in w)M[U++]=w[te];return M}function xT(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var M=[];w=w.length;for(var U=0;U<w;U++)M.push(U);return M}M=[],U=0;for(const te in w)M[U++]=te;return M}}}function xf(w,M){if(w.forEach&&typeof w.forEach=="function")w.forEach(M,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,M,void 0);else for(var U=xT(w),te=kx(w),be=te.length,Ne=0;Ne<be;Ne++)M.call(void 0,te[Ne],U&&U[Ne],w)}var N0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(w,M){if(w){w=w.split("&");for(var U=0;U<w.length;U++){var te=w[U].indexOf("="),be=null;if(0<=te){var Ne=w[U].substring(0,te);be=w[U].substring(te+1)}else Ne=w[U];M(Ne,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function cl(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof cl){this.h=w.h,Pc(this,w.j),this.o=w.o,this.g=w.g,bf(this,w.s),this.l=w.l;var M=w.i,U=new bo;U.i=M.i,M.g&&(U.g=new Map(M.g),U.h=M.h),mh(this,U),this.m=w.m}else w&&(M=String(w).match(N0))?(this.h=!1,Pc(this,M[1]||"",!0),this.o=Rc(M[2]||""),this.g=Rc(M[3]||"",!0),bf(this,M[4]),this.l=Rc(M[5]||"",!0),mh(this,M[6]||"",!0),this.m=Rc(M[7]||"")):(this.h=!1,this.i=new bo(null,this.h))}cl.prototype.toString=function(){var w=[],M=this.j;M&&w.push(os(M,O0,!0),":");var U=this.g;return(U||M=="file")&&(w.push("//"),(M=this.o)&&w.push(os(M,O0,!0),"@"),w.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&w.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(os(U,U.charAt(0)=="/"?P0:jx,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",os(U,wT)),w.join("")};function xr(w){return new cl(w)}function Pc(w,M,U){w.j=U?Rc(M,!0):M,w.j&&(w.j=w.j.replace(/:$/,""))}function bf(w,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);w.s=M}else w.s=null}function mh(w,M,U){M instanceof bo?(w.i=M,R0(w.i,w.h)):(U||(M=os(M,_T)),w.i=new bo(M,w.h))}function mn(w,M,U){w.i.set(M,U)}function _f(w){return mn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function Rc(w,M){return w?M?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function os(w,M,U){return typeof w=="string"?(w=encodeURI(w).replace(M,bT),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function bT(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var O0=/[#\/\?@]/g,jx=/[#\?:]/g,P0=/[#\?]/g,_T=/[#\?@]/g,wT=/#/g;function bo(w,M){this.h=this.g=null,this.i=w||null,this.j=!!M}function ls(w){w.g||(w.g=new Map,w.h=0,w.i&&ph(w.i,function(M,U){w.add(decodeURIComponent(M.replace(/\+/g," ")),U)}))}t=bo.prototype,t.add=function(w,M){ls(this),this.i=null,w=dl(this,w);var U=this.g.get(w);return U||this.g.set(w,U=[]),U.push(M),this.h+=1,this};function gh(w,M){ls(w),M=dl(w,M),w.g.has(M)&&(w.i=null,w.h-=w.g.get(M).length,w.g.delete(M))}function ul(w,M){return ls(w),M=dl(w,M),w.g.has(M)}t.forEach=function(w,M){ls(this),this.g.forEach(function(U,te){U.forEach(function(be){w.call(M,be,te,this)},this)},this)},t.na=function(){ls(this);const w=Array.from(this.g.values()),M=Array.from(this.g.keys()),U=[];for(let te=0;te<M.length;te++){const be=w[te];for(let Ne=0;Ne<be.length;Ne++)U.push(M[te])}return U},t.V=function(w){ls(this);let M=[];if(typeof w=="string")ul(this,w)&&(M=M.concat(this.g.get(dl(this,w))));else{w=Array.from(this.g.values());for(let U=0;U<w.length;U++)M=M.concat(w[U])}return M},t.set=function(w,M){return ls(this),this.i=null,w=dl(this,w),ul(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[M]),this.h+=1,this},t.get=function(w,M){return w?(w=this.V(w),0<w.length?String(w[0]):M):M};function fl(w,M,U){gh(w,M),0<U.length&&(w.i=null,w.g.set(dl(w,M),v(U)),w.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],M=Array.from(this.g.keys());for(var U=0;U<M.length;U++){var te=M[U];const Ne=encodeURIComponent(String(te)),Ye=this.V(te);for(te=0;te<Ye.length;te++){var be=Ne;Ye[te]!==""&&(be+="="+encodeURIComponent(String(Ye[te]))),w.push(be)}}return this.i=w.join("&")};function dl(w,M){return M=String(M),w.j&&(M=M.toLowerCase()),M}function R0(w,M){M&&!w.j&&(ls(w),w.i=null,w.g.forEach(function(U,te){var be=te.toLowerCase();te!=be&&(gh(this,te),fl(this,be,U))},w)),w.j=M}function Mx(w,M){const U=new as;if(o.Image){const te=new Image;te.onload=y(cs,U,"TestLoadImage: loaded",!0,M,te),te.onerror=y(cs,U,"TestLoadImage: error",!1,M,te),te.onabort=y(cs,U,"TestLoadImage: abort",!1,M,te),te.ontimeout=y(cs,U,"TestLoadImage: timeout",!1,M,te),o.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=w}else M(!1)}function wf(w,M){const U=new as,te=new AbortController,be=setTimeout(()=>{te.abort(),cs(U,"TestPingServer: timeout",!1,M)},1e4);fetch(w,{signal:te.signal}).then(Ne=>{clearTimeout(be),Ne.ok?cs(U,"TestPingServer: ok",!0,M):cs(U,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(be),cs(U,"TestPingServer: error",!1,M)})}function cs(w,M,U,te,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),te(U)}catch{}}function Ef(){this.g=new qr}function _o(w,M,U){const te=U||"";try{xf(w,function(be,Ne){let Ye=be;u(be)&&(Ye=yo(be)),M.push(te+Ne+"="+encodeURIComponent(Ye))})}catch(be){throw M.push(te+"type="+encodeURIComponent("_badmap")),be}}function Ic(w){this.l=w.Ub||null,this.j=w.eb||!1}_(Ic,xo),Ic.prototype.g=function(){return new hl(this.l,this.j)},Ic.prototype.i=function(w){return function(){return w}}({});function hl(w,M){Hn.call(this),this.D=w,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(hl,Hn),t=hl.prototype,t.open=function(w,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=M,this.readyState=1,Eo(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(M.body=w),(this.D||o).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;I0(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function I0(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var M=w.value?w.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!w.done}))&&(this.response=this.responseText+=M)}w.done?wo(this):Eo(this),this.readyState==3&&I0(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,wo(this))},t.Qa=function(w){this.g&&(this.response=w,wo(this))},t.ga=function(){this.g&&wo(this)};function wo(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Eo(w)}t.setRequestHeader=function(w,M){this.u.append(w,M)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],M=this.h.entries();for(var U=M.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=M.next();return w.join(`\r
`)};function Eo(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function D0(w){let M="";return I(w,function(U,te){M+=te,M+=":",M+=U,M+=`\r
`}),M}function ci(w,M,U){e:{for(te in U){var te=!1;break e}te=!0}te||(U=D0(U),typeof w=="string"?U!=null&&encodeURIComponent(String(U)):mn(w,M,U))}function Cn(w){Hn.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Cn,Hn);var vh=/^https?$/i,Sf=["POST","PUT"];t=Cn.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,M,U,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);M=M?M.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():le.g(),this.v=this.o?ol(this.o):ol(le),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(M,String(w),!0),this.B=!1}catch(Ne){Lx(this,Ne);return}if(w=U||"",U=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var be in te)U.set(be,te[be]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Ne of te.keys())U.set(Ne,te.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(U.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),be=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Sf,M,void 0))||te||be||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,Ye]of U)this.g.setRequestHeader(Ne,Ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tf(this),this.u=!0,this.g.send(w),this.u=!1}catch(Ne){Lx(this,Ne)}};function Lx(w,M){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=M,w.m=5,yh(w),So(w)}function yh(w){w.A||(w.A=!0,Mn(w,"complete"),Mn(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Mn(this,"complete"),Mn(this,"abort"),So(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),So(this,!0)),Cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xh(this):this.bb())},t.bb=function(){xh(this)};function xh(w){if(w.h&&typeof s<"u"&&(!w.v[1]||us(w)!=4||w.Z()!=2)){if(w.u&&us(w)==4)Tc(w.Ea,0,w);else if(Mn(w,"readystatechange"),us(w)==4){w.h=!1;try{const Ye=w.Z();e:switch(Ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var U;if(!(U=M)){var te;if(te=Ye===0){var be=String(w.D).match(N0)[1]||null;!be&&o.self&&o.self.location&&(be=o.self.location.protocol.slice(0,-1)),te=!vh.test(be?be.toLowerCase():"")}U=te}if(U)Mn(w,"complete"),Mn(w,"success");else{w.m=6;try{var Ne=2<us(w)?w.g.statusText:""}catch{Ne=""}w.l=Ne+" ["+w.Z()+"]",yh(w)}}finally{So(w)}}}}function So(w,M){if(w.g){Tf(w);const U=w.g,te=w.v[0]?()=>{}:null;w.g=null,w.v=null,M||Mn(w,"ready");try{U.onreadystatechange=te}catch{}}}function Tf(w){w.I&&(o.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function us(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var M=this.g.responseText;return w&&M.indexOf(w)==0&&(M=M.substring(w.length)),xa(M)}};function Fx(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ET(w){const M={};w=(w.g&&2<=us(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<w.length;te++){if(N(w[te]))continue;var U=j(w[te]);const be=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Ne=M[be]||[];M[be]=Ne,Ne.push(U)}A(M,function(te){return te.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Af(w,M,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||M}function bh(w){this.Aa=0,this.i=[],this.j=new as,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Af("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Af("baseRetryDelayMs",5e3,w),this.cb=Af("retryDelaySeedMs",1e4,w),this.Wa=Af("forwardChannelMaxRetries",2,w),this.wa=Af("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new Ls(w&&w.concurrentRequestLimit),this.Da=new Ef,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bh.prototype,t.la=8,t.G=1,t.connect=function(w,M,U,te){pn(0),this.W=w,this.H=M||{},U&&te!==void 0&&(this.H.OSID=U,this.H.OAID=te),this.F=this.X,this.I=qx(this,null,this.W),wh(this)};function k0(w){if(Bx(w),w.G==3){var M=w.U++,U=xr(w.I);if(mn(U,"SID",w.K),mn(U,"RID",M),mn(U,"TYPE","terminate"),Cf(w,U),M=new Oe(w,w.j,M),M.L=2,M.v=_f(xr(U)),U=!1,o.navigator&&o.navigator.sendBeacon)try{U=o.navigator.sendBeacon(M.v.toString(),"")}catch{}!U&&o.Image&&(new Image().src=M.v,U=!0),U||(M.g=Wx(M.j,null),M.g.ea(M.v)),M.F=Date.now(),ze(M)}zx(w)}function _h(w){w.g&&(Nf(w),w.g.cancel(),w.g=null)}function Bx(w){_h(w),w.u&&(o.clearTimeout(w.u),w.u=null),Eh(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function wh(w){if(!ka(w.h)&&!w.s){w.s=!0;var M=w.Ga;X||W(),Q||(X(),Q=!0),ie.add(M,w),w.B=0}}function ST(w,M){return Nc(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=M.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=ba(g(w.Ga,w,M),L0(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const be=new Oe(this,this.j,w);let Ne=this.o;if(this.S&&(Ne?(Ne=R(Ne),L(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(be.H=Ne,Ne=null),this.P)e:{for(var M=0,U=0;U<this.i.length;U++){t:{var te=this.i[U];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(M+=te,4096<M){M=U;break e}if(M===4096||U===this.i.length-1){M=U+1;break e}}M=1e3}else M=1e3;M=$x(this,be,M),U=xr(this.I),mn(U,"RID",w),mn(U,"CVER",22),this.D&&mn(U,"X-HTTP-Session-Id",this.D),Cf(this,U),Ne&&(this.O?M="headers="+encodeURIComponent(String(D0(Ne)))+"&"+M:this.m&&ci(U,this.m,Ne)),Oc(this.h,be),this.Ua&&mn(U,"TYPE","init"),this.P?(mn(U,"$req",M),mn(U,"SID","null"),be.T=!0,Be(be,U,null)):Be(be,U,M),this.G=2}}else this.G==3&&(w?j0(this,w):this.i.length==0||ka(this.h)||j0(this))};function j0(w,M){var U;M?U=M.l:U=w.U++;const te=xr(w.I);mn(te,"SID",w.K),mn(te,"RID",U),mn(te,"AID",w.T),Cf(w,te),w.m&&w.o&&ci(te,w.m,w.o),U=new Oe(w,w.j,U,w.B+1),w.m===null&&(U.H=w.o),M&&(w.i=M.D.concat(w.i)),M=$x(w,U,1e3),U.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Oc(w.h,U),Be(U,te,M)}function Cf(w,M){w.H&&I(w.H,function(U,te){mn(M,te,U)}),w.l&&xf({},function(U,te){mn(M,te,U)})}function $x(w,M,U){U=Math.min(w.i.length,U);var te=w.l?g(w.l.Na,w.l,w):null;e:{var be=w.i;let Ne=-1;for(;;){const Ye=["count="+U];Ne==-1?0<U?(Ne=be[0].g,Ye.push("ofs="+Ne)):Ne=0:Ye.push("ofs="+Ne);let sn=!0;for(let Gr=0;Gr<U;Gr++){let on=be[Gr].g;const ui=be[Gr].map;if(on-=Ne,0>on)Ne=Math.max(0,be[Gr].g-100),sn=!1;else try{_o(ui,Ye,"req"+on+"_")}catch{te&&te(ui)}}if(sn){te=Ye.join("&");break e}}}return w=w.i.splice(0,U),M.D=w,te}function Vx(w){if(!w.g&&!w.u){w.Y=1;var M=w.Fa;X||W(),Q||(X(),Q=!0),ie.add(M,w),w.v=0}}function M0(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=ba(g(w.Fa,w),L0(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,Ux(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=ba(g(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),_h(this),Ux(this))};function Nf(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function Ux(w){w.g=new Oe(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var M=xr(w.qa);mn(M,"RID","rpc"),mn(M,"SID",w.K),mn(M,"AID",w.T),mn(M,"CI",w.F?"0":"1"),!w.F&&w.ja&&mn(M,"TO",w.ja),mn(M,"TYPE","xmlhttp"),Cf(w,M),w.m&&w.o&&ci(M,w.m,w.o),w.L&&(w.g.I=w.L);var U=w.g;w=w.ia,U.L=1,U.v=_f(xr(M)),U.m=null,U.P=!0,Ge(U,w)}t.Za=function(){this.C!=null&&(this.C=null,_h(this),M0(this),pn(19))};function Eh(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function Hx(w,M){var U=null;if(w.g==M){Eh(w),Nf(w),w.g=null;var te=2}else if(li(w.h,M))U=M.D,ss(w.h,M),te=1;else return;if(w.G!=0){if(M.o)if(te==1){U=M.m?M.m.length:0,M=Date.now()-M.F;var be=w.B;te=oi(),Mn(te,new Ac(te,U)),wh(w)}else Vx(w);else if(be=M.s,be==3||be==0&&0<M.X||!(te==1&&ST(w,M)||te==2&&M0(w)))switch(U&&0<U.length&&(M=w.h,M.i=M.i.concat(U)),be){case 1:pl(w,5);break;case 4:pl(w,10);break;case 3:pl(w,6);break;default:pl(w,2)}}}function L0(w,M){let U=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(U*=2),U*M}function pl(w,M){if(w.j.info("Error code "+M),M==2){var U=g(w.fb,w),te=w.Xa;const be=!te;te=new cl(te||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Pc(te,"https"),_f(te),be?Mx(te.toString(),U):wf(te.toString(),U)}else pn(2);w.G=0,w.l&&w.l.sa(M),zx(w),Bx(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function zx(w){if(w.G=0,w.ka=[],w.l){const M=ra(w.h);(M.length!=0||w.i.length!=0)&&(b(w.ka,M),b(w.ka,w.i),w.h.i.length=0,v(w.i),w.i.length=0),w.l.ra()}}function qx(w,M,U){var te=U instanceof cl?xr(U):new cl(U);if(te.g!="")M&&(te.g=M+"."+te.g),bf(te,te.s);else{var be=o.location;te=be.protocol,M=M?M+"."+be.hostname:be.hostname,be=+be.port;var Ne=new cl(null);te&&Pc(Ne,te),M&&(Ne.g=M),be&&bf(Ne,be),U&&(Ne.l=U),te=Ne}return U=w.D,M=w.ya,U&&M&&mn(te,U,M),mn(te,"VER",w.la),Cf(w,te),te}function Wx(w,M,U){if(M&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=w.Ca&&!w.pa?new Cn(new Ic({eb:U})):new Cn(w.pa),M.Ha(w.J),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gx(){}t=Gx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sh(){}Sh.prototype.g=function(w,M){return new ia(w,M)};function ia(w,M){Hn.call(this),this.g=new bh(M),this.l=w,this.h=M&&M.messageUrlParams||null,w=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(w?w["X-WebChannel-Content-Type"]=M.messageContentType:w={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(w?w["X-WebChannel-Client-Profile"]=M.va:w={"X-WebChannel-Client-Profile":M.va}),this.g.S=w,(w=M&&M.Sb)&&!N(w)&&(this.g.m=w),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!N(M)&&(this.g.D=M,w=this.h,w!==null&&M in w&&(w=this.h,M in w&&delete w[M])),this.j=new To(this)}_(ia,Hn),ia.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ia.prototype.close=function(){k0(this.g)},ia.prototype.o=function(w){var M=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.u&&(U={},U.__data__=yo(w),w=U);M.i.push(new ll(M.Ya++,w)),M.G==3&&wh(M)},ia.prototype.N=function(){this.g.l=null,delete this.j,k0(this.g),delete this.g,ia.aa.N.call(this)};function Kx(w){It.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var M=w.__sm__;if(M){e:{for(const U in M){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,M=M!==null&&w in M?M[w]:void 0),this.data=M}else this.data=w}_(Kx,It);function Yx(){_t.call(this),this.status=1}_(Yx,_t);function To(w){this.g=w}_(To,Gx),To.prototype.ua=function(){Mn(this.g,"a")},To.prototype.ta=function(w){Mn(this.g,new Kx(w))},To.prototype.sa=function(w){Mn(this.g,new Yx)},To.prototype.ra=function(){Mn(this.g,"b")},Sh.prototype.createWebChannel=Sh.prototype.g,ia.prototype.send=ia.prototype.o,ia.prototype.open=ia.prototype.m,ia.prototype.close=ia.prototype.close,RG=function(){return new Sh},PG=function(){return oi()},OG=_n,kR={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,Q_=ne,oe.COMPLETE="complete",NG=oe,et.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",Hn.prototype.listen=Hn.prototype.K,Gg=et,Cn.prototype.listenOnce=Cn.prototype.L,Cn.prototype.getLastError=Cn.prototype.Ka,Cn.prototype.getLastErrorCode=Cn.prototype.Ba,Cn.prototype.getStatus=Cn.prototype.Z,Cn.prototype.getResponseJson=Cn.prototype.Oa,Cn.prototype.getResponseText=Cn.prototype.oa,Cn.prototype.send=Cn.prototype.ea,Cn.prototype.setWithCredentials=Cn.prototype.Ha,CG=Cn}).apply(typeof Xb<"u"?Xb:typeof self<"u"?self:typeof window<"u"?window:{});const g6="@firebase/firestore",v6="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new CE("@firebase/firestore");function dp(){return bd.logLevel}function at(t,...e){if(bd.logLevel<=Yt.DEBUG){const n=e.map(Fk);bd.debug(`Firestore (${Qm}): ${t}`,...n)}}function ec(t,...e){if(bd.logLevel<=Yt.ERROR){const n=e.map(Fk);bd.error(`Firestore (${Qm}): ${t}`,...n)}}function Kp(t,...e){if(bd.logLevel<=Yt.WARN){const n=e.map(Fk);bd.warn(`Firestore (${Qm}): ${t}`,...n)}}function Fk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t="Unexpected state"){const e=`FIRESTORE (${Qm}) INTERNAL ASSERTION FAILED: `+t;throw ec(e),new Error(e)}function an(t,e){t||yt()}function Ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends dc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xi.UNAUTHENTICATED))}shutdown(){}}class vde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yde{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){an(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new ro;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ro,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ro)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an(typeof r.accessToken=="string"),new IG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return an(e===null||typeof e=="string"),new Xi(e)}}class xde{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bde{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xde(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _de{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ka(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){an(this.o===void 0);const r=a=>{a.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,at("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new y6(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(an(typeof n.token=="string"),this.R=n.token,new y6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wde(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Vt(t,e){return t<e?-1:t>e?1:0}function jR(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Vt(r,i);{const a=DG(),s=Ede(a.encode(x6(t,n)),a.encode(x6(e,n)));return s!==0?s:Vt(r,i)}}n+=r>65535?2:1}return Vt(t.length,e.length)}function x6(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ede(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Vt(t[n],e[n]);return Vt(t.length,e.length)}function Yp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=-62135596800,_6=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_6);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<b6)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-b6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new fn(0,0))}static max(){return new At(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="__name__";class ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&yt(),r===void 0?r=e.length-n:r>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ko?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ko.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Vt(e.length,n.length)}static compareSegments(e,n){const r=ko.isNumericId(e),i=ko.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ko.extractNumericId(e).compare(ko.extractNumericId(n)):jR(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eu.fromString(e.substring(4,e.length-2))}}class Vn extends ko{construct(e,n,r){return new Vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vn(n)}static emptyPath(){return new Vn([])}}const Sde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends ko{construct(e,n,r){return new Li(e,n,r)}static isValidIdentifier(e){return Sde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w6}static keyField(){return new Li([w6])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ze(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ze(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Ze(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(n)}static emptyPath(){return new Li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Vn.fromString(e))}static fromName(e){return new ht(Vn.fromString(e).popFirst(5))}static empty(){return new ht(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Vn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=-1;function Tde(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=At.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Lu(i,ht.empty(),e)}function Ade(t){return new Lu(t.readTime,t.key,Iv)}class Lu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Lu(At.min(),ht.empty(),Iv)}static max(){return new Lu(At.max(),ht.empty(),Iv)}}function Cde(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ode{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==Nde)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,r)=>{n(e)})}static reject(e){return new Me((n,r)=>{r(e)})}static waitFor(e){return new Me((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=Me.resolve(!1);for(const r of e)n=n.next(i=>i?Me.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Me((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++o,o===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new Me((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function Pde(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}DE.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=-1;function Zy(t){return t==null}function w1(t){return t===0&&1/t==-1/0}function Rde(t){return typeof t=="number"&&Number.isInteger(t)&&!w1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG="";function Ide(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=E6(e)),e=Dde(t.get(n),e);return E6(e)}function Dde(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case jG:n+="";break;default:n+=a}}return n}function E6(t){return t+jG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kde(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function MG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr=class MR{constructor(e,n){this.comparator=e,this.root=n||Su.EMPTY}insert(e,n){return new MR(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Su.BLACK,null,null))}remove(e){return new MR(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Su.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qb(this.root,e,this.comparator,!0)}},Qb=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Su=class Il{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Il.RED,this.left=i??Il.EMPTY,this.right=a??Il.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Il(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Il.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Il.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Il.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Il.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}};Su.EMPTY=null,Su.RED=!0,Su.BLACK=!1;Su.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Su(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T6(this.data.getIterator())}getIteratorFrom(e){return new T6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ai(this.comparator);return n.data=e,n}}class T6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.fields=e,e.sort(Li.comparator)}static empty(){return new Qa([])}unionWith(e){let n=new ai(Li.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new LG("Invalid base64 string: "+a):a}}(e);return new Ui(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ui(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const jde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fu(t){if(an(!!t),typeof t=="string"){let e=0;const n=jde.exec(t);if(an(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rr(t.seconds),nanos:Rr(t.nanos)}}function Rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bu(t){return typeof t=="string"?Ui.fromBase64String(t):Ui.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG="server_timestamp",BG="__type__",$G="__previous_value__",VG="__local_write_time__";function kE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BG])===null||n===void 0?void 0:n.stringValue)===FG}function jE(t){const e=t.mapValue.fields[$G];return kE(e)?jE(e):e}function Dv(t){const e=Fu(t.mapValue.fields[VG].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(e,n,r,i,a,s,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}const E1="(default)";class kv{constructor(e,n){this.projectId=e,this.database=n||E1}static empty(){return new kv("","")}get isDefaultDatabase(){return this.database===E1}isEqual(e){return e instanceof kv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG="__type__",Lde="__max__",Zb={mapValue:{}},HG="__vector__",S1="value";function $u(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kE(t)?4:Bde(t)?9007199254740991:Fde(t)?10:11:yt()}function Qo(t,e){if(t===e)return!0;const n=$u(t);if(n!==$u(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dv(t).isEqual(Dv(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Fu(i.timestampValue),o=Fu(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Bu(i.bytesValue).isEqual(Bu(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Rr(i.geoPointValue.latitude)===Rr(a.geoPointValue.latitude)&&Rr(i.geoPointValue.longitude)===Rr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Rr(i.integerValue)===Rr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Rr(i.doubleValue),o=Rr(a.doubleValue);return s===o?w1(s)===w1(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Yp(t.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(S6(s)!==S6(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Qo(s[l],o[l])))return!1;return!0}(t,e);default:return yt()}}function jv(t,e){return(t.values||[]).find(n=>Qo(n,e))!==void 0}function Xp(t,e){if(t===e)return 0;const n=$u(t),r=$u(e);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Rr(a.integerValue||a.doubleValue),l=Rr(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return A6(t.timestampValue,e.timestampValue);case 4:return A6(Dv(t),Dv(e));case 5:return jR(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Bu(a),l=Bu(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Vt(o[u],l[u]);if(d!==0)return d}return Vt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Vt(Rr(a.latitude),Rr(s.latitude));return o!==0?o:Vt(Rr(a.longitude),Rr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C6(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,u,d;const h=a.fields||{},g=s.fields||{},y=(o=h[S1])===null||o===void 0?void 0:o.arrayValue,_=(l=g[S1])===null||l===void 0?void 0:l.arrayValue,v=Vt(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:C6(y,_)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Zb.mapValue&&s===Zb.mapValue)return 0;if(a===Zb.mapValue)return 1;if(s===Zb.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const g=jR(l[h],d[h]);if(g!==0)return g;const y=Xp(o[l[h]],u[d[h]]);if(y!==0)return y}return Vt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw yt()}}function A6(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vt(t,e);const n=Fu(t),r=Fu(e),i=Vt(n.seconds,r.seconds);return i!==0?i:Vt(n.nanos,r.nanos)}function C6(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Xp(n[i],r[i]);if(a)return a}return Vt(n.length,r.length)}function Qp(t){return LR(t)}function LR(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=LR(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${LR(n.fields[s])}`;return i+"}"}(t.mapValue):yt()}function Z_(t){switch($u(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jE(t);return e?16+Z_(e):16;case 5:return 2*t.stringValue.length;case 6:return Bu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Z_(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return sf(r.fields,(a,s)=>{i+=a.length+Z_(s)}),i}(t.mapValue);default:throw yt()}}function T1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function FR(t){return!!t&&"integerValue"in t}function $k(t){return!!t&&"arrayValue"in t}function N6(t){return!!t&&"nullValue"in t}function O6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function J_(t){return!!t&&"mapValue"in t}function Fde(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UG])===null||n===void 0?void 0:n.stringValue)===HG}function rv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rv(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rv(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Bde(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Lde}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.value=e}static empty(){return new ua({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!J_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rv(n)}setAll(e){let n=Li.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=rv(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());J_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];J_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sf(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ua(rv(this.value))}}function zG(t){const e=[];return sf(t.fields,(n,r)=>{const i=new Li([n]);if(J_(r)){const a=zG(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Qa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new bi(e,0,At.min(),At.min(),At.min(),ua.empty(),0)}static newFoundDocument(e,n,r,i){return new bi(e,1,n,At.min(),r,i,0)}static newNoDocument(e,n){return new bi(e,2,n,At.min(),At.min(),ua.empty(),0)}static newUnknownDocument(e,n){return new bi(e,3,n,At.min(),At.min(),ua.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ua.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.position=e,this.inclusive=n}}function P6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=ht.comparator(ht.fromName(s.referenceValue),n.key):r=Xp(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function R6(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n="asc"){this.field=e,this.dir=n}}function $de(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{}class $r extends qG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ude(e,n,r):n==="array-contains"?new qde(e,r):n==="in"?new Wde(e,r):n==="not-in"?new Gde(e,r):n==="array-contains-any"?new Kde(e,r):new $r(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hde(e,r):new zde(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xp(n,this.value)):n!==null&&$u(this.value)===$u(n)&&this.matchesComparison(Xp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class uo extends qG{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new uo(e,n)}matches(e){return WG(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function WG(t){return t.op==="and"}function GG(t){return Vde(t)&&WG(t)}function Vde(t){for(const e of t.filters)if(e instanceof uo)return!1;return!0}function BR(t){if(t instanceof $r)return t.field.canonicalString()+t.op.toString()+Qp(t.value);if(GG(t))return t.filters.map(e=>BR(e)).join(",");{const e=t.filters.map(n=>BR(n)).join(",");return`${t.op}(${e})`}}function KG(t,e){return t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.field.isEqual(i.field)&&Qo(r.value,i.value)}(t,e):t instanceof uo?function(r,i){return i instanceof uo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&KG(s,i.filters[o]),!0):!1}(t,e):void yt()}function YG(t){return t instanceof $r?function(n){return`${n.field.canonicalString()} ${n.op} ${Qp(n.value)}`}(t):t instanceof uo?function(n){return n.op.toString()+" {"+n.getFilters().map(YG).join(" ,")+"}"}(t):"Filter"}class Ude extends $r{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hde extends $r{constructor(e,n){super(e,"in",n),this.keys=XG("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zde extends $r{constructor(e,n){super(e,"not-in",n),this.keys=XG("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XG(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class qde extends $r{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $k(n)&&jv(n.arrayValue,this.value)}}class Wde extends $r{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jv(this.value.arrayValue,n)}}class Gde extends $r{constructor(e,n){super(e,"not-in",n)}matches(e){if(jv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jv(this.value.arrayValue,n)}}class Kde extends $r{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$k(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jv(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yde{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.le=null}}function I6(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Yde(t,e,n,r,i,a,s)}function Vk(t){const e=Ot(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>BR(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Zy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qp(r)).join(",")),e.le=n}return e.le}function Uk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$de(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R6(t.startAt,e.startAt)&&R6(t.endAt,e.endAt)}function $R(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Xde(t,e,n,r,i,a,s,o){return new Hd(t,e,n,r,i,a,s,o)}function ME(t){return new Hd(t)}function D6(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hk(t){return t.collectionGroup!==null}function Pp(t){const e=Ot(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ai(Li.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new Mv(a,r))}),n.has(Li.keyField().canonicalString())||e.he.push(new Mv(Li.keyField(),r))}return e.he}function Wo(t){const e=Ot(t);return e.Pe||(e.Pe=QG(e,Pp(t))),e.Pe}function Qde(t){const e=Ot(t);return e.Te||(e.Te=QG(e,t.explicitOrderBy)),e.Te}function QG(t,e){if(t.limitType==="F")return I6(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Mv(i.field,a)});const n=t.endAt?new Zp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zp(t.startAt.position,t.startAt.inclusive):null;return I6(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function VR(t,e){const n=t.filters.concat([e]);return new Hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function A1(t,e,n){return new Hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function LE(t,e){return Uk(Wo(t),Wo(e))&&t.limitType===e.limitType}function ZG(t){return`${Vk(Wo(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YG(i)).join(", ")}]`),Zy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qp(i)).join(",")),`Target(${r})`}(Wo(t))}; limitType=${t.limitType})`}function FE(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ht.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Pp(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=P6(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,Pp(r),i)||r.endAt&&!function(s,o,l){const u=P6(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,Pp(r),i))}(t,e)}function Zde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JG(t){return(e,n)=>{let r=!1;for(const i of Pp(t)){const a=Jde(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Jde(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Xp(l,u):yt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sf(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return MG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ehe=new Hr(ht.comparator);function tc(){return ehe}const eK=new Hr(ht.comparator);function Kg(...t){let e=eK;for(const n of t)e=e.insert(n.key,n);return e}function tK(t){let e=eK;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ad(){return iv()}function nK(){return iv()}function iv(){return new zd(t=>t.toString(),(t,e)=>t.isEqual(e))}const the=new Hr(ht.comparator),nhe=new ai(ht.comparator);function Jt(...t){let e=nhe;for(const n of t)e=e.add(n);return e}const rhe=new ai(Vt);function ihe(){return rhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w1(e)?"-0":e}}function rK(t){return{integerValue:""+t}}function ahe(t,e){return Rde(e)?rK(e):zk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this._=void 0}}function she(t,e,n){return t instanceof Lv?function(i,a){const s={fields:{[BG]:{stringValue:FG},[VG]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kE(a)&&(a=jE(a)),a&&(s.fields[$G]=a),{mapValue:s}}(n,e):t instanceof Fv?aK(t,e):t instanceof Bv?sK(t,e):function(i,a){const s=iK(i,a),o=k6(s)+k6(i.Ie);return FR(s)&&FR(i.Ie)?rK(o):zk(i.serializer,o)}(t,e)}function ohe(t,e,n){return t instanceof Fv?aK(t,e):t instanceof Bv?sK(t,e):n}function iK(t,e){return t instanceof C1?function(r){return FR(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Lv extends BE{}class Fv extends BE{constructor(e){super(),this.elements=e}}function aK(t,e){const n=oK(e);for(const r of t.elements)n.some(i=>Qo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bv extends BE{constructor(e){super(),this.elements=e}}function sK(t,e){let n=oK(e);for(const r of t.elements)n=n.filter(i=>!Qo(i,r));return{arrayValue:{values:n}}}class C1 extends BE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function k6(t){return Rr(t.integerValue||t.doubleValue)}function oK(t){return $k(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{constructor(e,n){this.field=e,this.transform=n}}function che(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fv&&i instanceof Fv||r instanceof Bv&&i instanceof Bv?Yp(r.elements,i.elements,Qo):r instanceof C1&&i instanceof C1?Qo(r.Ie,i.Ie):r instanceof Lv&&i instanceof Lv}(t.transform,e.transform)}class uhe{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function e1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $E{}function lK(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VE(t.key,ni.none()):new Jy(t.key,t.data,ni.none());{const n=t.data,r=ua.empty();let i=new ai(Li.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new of(t.key,r,new Qa(i.toArray()),ni.none())}}function fhe(t,e,n){t instanceof Jy?function(i,a,s){const o=i.value.clone(),l=M6(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof of?function(i,a,s){if(!e1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=M6(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(cK(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function av(t,e,n,r){return t instanceof Jy?function(a,s,o,l){if(!e1(a.precondition,s))return o;const u=a.value.clone(),d=L6(a.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof of?function(a,s,o,l){if(!e1(a.precondition,s))return o;const u=L6(a.fieldTransforms,l,s),d=s.data;return d.setAll(cK(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,s,o){return e1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function dhe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=iK(r.transform,i||null);a!=null&&(n===null&&(n=ua.empty()),n.set(r.field,a))}return n||null}function j6(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yp(r,i,(a,s)=>che(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jy extends $E{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class of extends $E{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cK(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function M6(t,e,n){const r=new Map;an(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,ohe(s,o,n[i]))}return r}function L6(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,she(a,s,e))}return r}class VE extends $E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uK extends $E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fhe(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=av(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=av(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nK();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=lK(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Yp(this.mutations,e.mutations,(n,r)=>j6(n,r))&&Yp(this.baseMutations,e.baseMutations,(n,r)=>j6(n,r))}}class qk{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){an(e.mutations.length===r.length);let i=function(){return the}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new qk(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let phe=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr,cn;function fK(t){switch(t){case Re.OK:return yt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return yt()}}function dK(t){if(t===void 0)return ec("GRPC error has no .code"),Re.UNKNOWN;switch(t){case Lr.OK:return Re.OK;case Lr.CANCELLED:return Re.CANCELLED;case Lr.UNKNOWN:return Re.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return Re.INTERNAL;case Lr.UNAVAILABLE:return Re.UNAVAILABLE;case Lr.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Lr.NOT_FOUND:return Re.NOT_FOUND;case Lr.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Lr.ABORTED:return Re.ABORTED;case Lr.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Lr.DATA_LOSS:return Re.DATA_LOSS;default:return yt()}}(cn=Lr||(Lr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vhe=new Eu([4294967295,4294967295],0);function F6(t){const e=DG().encode(t),n=new AG;return n.update(e),new Uint8Array(n.digest())}function B6(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Eu([n,r],0),new Eu([i,a],0)]}class Wk{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yg(`Invalid padding: ${n}`);if(r<0)throw new Yg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yg(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Eu.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Eu.fromNumber(r)));return i.compare(vhe)===1&&(i=new Eu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=F6(e),[r,i]=B6(n);for(let a=0;a<this.hashCount;a++){const s=this.Ae(r,i,a);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Wk(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ee===0)return;const n=F6(e),[r,i]=B6(n);for(let a=0;a<this.hashCount;a++){const s=this.Ae(r,i,a);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ex.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new UE(At.min(),i,new Hr(Vt),tc(),Jt())}}class ex{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ex(r,n,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class hK{constructor(e,n){this.targetId=e,this.ge=n}}class pK{constructor(e,n,r=Ui.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $6{constructor(){this.pe=0,this.ye=V6(),this.we=Ui.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Jt(),n=Jt(),r=Jt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new ex(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=V6()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,an(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yhe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=tc(),this.$e=Jb(),this.Ue=Jb(),this.Ke=new Hr(Vt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const a=i.target;if($R(a))if(r===0){const s=new ht(a.path);this.ze(n,s,bi.newNoDocument(s,At.min()))}else an(r===1);else{const s=this.et(n);if(s!==r){const o=this.tt(e),l=o?this.nt(o,e,s):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Bu(r).toUint8Array()}catch(l){if(l instanceof LG)return Kp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Wk(s,i,a)}catch(l){return Kp(l instanceof Yg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ee===0?null:o}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.ke.it(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.ze(n,a,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((a,s)=>{const o=this.Xe(s);if(o){if(a.current&&$R(o.target)){const l=new ht(o.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,bi.newNoDocument(l,e))}a.ve&&(n.set(s,a.Fe()),a.Me())}});let r=Jt();this.Ue.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.Qe.forEach((a,s)=>s.setReadTime(e));const i=new UE(e,n,this.Ke,this.Qe,r);return this.Qe=tc(),this.$e=Jb(),this.Ue=Jb(),this.Ke=new Hr(Vt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $6,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new ai(Vt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ai(Vt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||at("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $6),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Jb(){return new Hr(ht.comparator)}function V6(){return new Hr(ht.comparator)}const xhe={asc:"ASCENDING",desc:"DESCENDING"},bhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_he={and:"AND",or:"OR"};class whe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function UR(t,e){return t.useProto3Json||Zy(e)?e:{value:e}}function N1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mK(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ehe(t,e){return N1(t,e.toTimestamp())}function Za(t){return an(!!t),At.fromTimestamp(function(n){const r=Fu(n);return new fn(r.seconds,r.nanos)}(t))}function Gk(t,e){return HR(t,e).canonicalString()}function HR(t,e){const n=function(i){return new Vn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gK(t){const e=Vn.fromString(t);return an(EK(e)),e}function O1(t,e){return Gk(t.databaseId,e.path)}function sv(t,e){const n=gK(e);if(n.get(1)!==t.databaseId.projectId)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(yK(n))}function vK(t,e){return Gk(t.databaseId,e)}function She(t){const e=gK(t);return e.length===4?Vn.emptyPath():yK(e)}function zR(t){return new Vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yK(t){return an(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U6(t,e,n){return{name:O1(t,e),fields:n.value.mapValue.fields}}function The(t,e){return"found"in e?function(r,i){an(!!i.found),i.found.name,i.found.updateTime;const a=sv(r,i.found.name),s=Za(i.found.updateTime),o=i.found.createTime?Za(i.found.createTime):At.min(),l=new ua({mapValue:{fields:i.found.fields}});return bi.newFoundDocument(a,s,o,l)}(t,e):"missing"in e?function(r,i){an(!!i.missing),an(!!i.readTime);const a=sv(r,i.missing),s=Za(i.readTime);return bi.newNoDocument(a,s)}(t,e):yt()}function Ahe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(an(d===void 0||typeof d=="string"),Ui.fromBase64String(d||"")):(an(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ui.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?Re.UNKNOWN:dK(u.code);return new Ze(d,u.message||"")}(s);n=new pK(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sv(t,r.document.name),a=Za(r.document.updateTime),s=r.document.createTime?Za(r.document.createTime):At.min(),o=new ua({mapValue:{fields:r.document.fields}}),l=bi.newFoundDocument(i,a,s,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new t1(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sv(t,r.document),a=r.readTime?Za(r.readTime):At.min(),s=bi.newNoDocument(i,a),o=r.removedTargetIds||[];n=new t1([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sv(t,r.document),a=r.removedTargetIds||[];n=new t1([],a,i,null)}else{if(!("filter"in e))return yt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new ghe(i,a),o=r.targetId;n=new hK(o,s)}}return n}function xK(t,e){let n;if(e instanceof Jy)n={update:U6(t,e.key,e.value)};else if(e instanceof VE)n={delete:O1(t,e.key)};else if(e instanceof of)n={update:U6(t,e.key,e.data),updateMask:jhe(e.fieldMask)};else{if(!(e instanceof uK))return yt();n={verify:O1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Lv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Bv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof C1)return{fieldPath:s.field.canonicalString(),increment:o.Ie};throw yt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Ehe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:yt()}(t,e.precondition)),n}function Che(t,e){return t&&t.length>0?(an(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?Za(i.updateTime):Za(a);return s.isEqual(At.min())&&(s=Za(a)),new uhe(s,i.transformResults||[])}(n,e))):[]}function Nhe(t,e){return{documents:[vK(t,e.path)]}}function bK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vK(t,i);const a=function(u){if(u.length!==0)return wK(uo.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:du(g.field),direction:Ihe(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=UR(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function Ohe(t,e,n,r){const{ht:i,parent:a}=bK(t,e),s={},o=[];let l=0;return n.forEach(u=>{const d="aggregate_"+l++;s[d]=u.alias,u.aggregateType==="count"?o.push({alias:d,count:{}}):u.aggregateType==="avg"?o.push({alias:d,avg:{field:du(u.fieldPath)}}):u.aggregateType==="sum"&&o.push({alias:d,sum:{field:du(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},Pt:s,parent:a}}function Phe(t){let e=She(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){an(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(h){const g=_K(h);return g instanceof uo&&GG(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(g=>function(_){return new Mv(pp(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(h){let g;return g=typeof h=="object"?h.value:h,Zy(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(h){const g=!!h.before,y=h.values||[];return new Zp(y,g)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const g=!h.before,y=h.values||[];return new Zp(y,g)}(n.endAt)),Xde(e,i,s,a,o,"F",l,u)}function Rhe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _K(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pp(n.unaryFilter.field);return $r.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pp(n.unaryFilter.field);return $r.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pp(n.unaryFilter.field);return $r.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pp(n.unaryFilter.field);return $r.create(s,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(t):t.fieldFilter!==void 0?function(n){return $r.create(pp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return uo.create(n.compositeFilter.filters.map(r=>_K(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(t):yt()}function Ihe(t){return xhe[t]}function Dhe(t){return bhe[t]}function khe(t){return _he[t]}function du(t){return{fieldPath:t.canonicalString()}}function pp(t){return Li.fromServerFormat(t.fieldPath)}function wK(t){return t instanceof $r?function(n){if(n.op==="=="){if(O6(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if(N6(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O6(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if(N6(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:Dhe(n.op),value:n.value}}}(t):t instanceof uo?function(n){const r=n.getFilters().map(i=>wK(i));return r.length===1?r[0]:{compositeFilter:{op:khe(n.op),filters:r}}}(t):yt()}function jhe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r,i,a=At.min(),s=At.min(),o=Ui.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(e){this.Tt=e}}function Lhe(t){const e=Phe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fhe{constructor(){this.Tn=new Bhe}addToCollectionParentIndex(e,n){return this.Tn.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(Lu.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(Lu.min())}updateCollectionGroup(e,n,r){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class Bhe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ai(Vn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ai(Vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SK=41943040;class wa{static withCacheSize(e){return new wa(e,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa.DEFAULT_COLLECTION_PERCENTILE=10,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wa.DEFAULT=new wa(SK,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wa.DISABLED=new wa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Jp(0)}static Kn(){return new Jp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="LruGarbageCollector",$he=1048576;function q6([t,e],[n,r]){const i=Vt(t,n);return i===0?Vt(e,r):i}class Vhe{constructor(e){this.Hn=e,this.buffer=new ai(q6),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();q6(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Uhe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){at(z6,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jm(n)?at(z6,"Ignoring IndexedDB error during garbage collection: ",n):await Zm(n)}await this.er(3e5)})}}class Hhe{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Me.resolve(DE.ae);const r=new Vhe(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(H6)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H6):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,a,s,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),dp()<=Yt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function zhe(t,e){return new Hhe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(){this.changes=new zd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Whe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&av(r.mutation,i,Qa.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Jt()){const i=ad();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Kg();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ad();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Jt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=tc();const s=iv(),o=function(){return iv()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof of)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),av(d.mutation,u,d.mutation.getFieldMask(),fn.now())):s.set(u.key,Qa.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var h;return o.set(u,new Whe(d,(h=s.get(u))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,n){const r=iv();let i=new Hr((s,o)=>s-o),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Qa.empty();d=o.applyToLocalView(u,d),r.set(l,d);const h=(i.get(o.batchId)||Jt()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=nK();d.forEach(g=>{if(!a.has(g)){const y=lK(n.get(g),r.get(g));y!==null&&h.set(g,y),a=a.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Me.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Me.resolve(ad());let o=Iv,l=a;return s.next(u=>Me.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?Me.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Jt())).next(d=>({batchId:o,changes:tK(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(r=>{let i=Kg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Kg();return this.indexManager.getCollectionParents(e,a).next(o=>Me.forEach(o,l=>{const u=function(h,g){return new Hd(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,g)=>{s=s.insert(h,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,bi.newInvalidDocument(d)))});let o=Kg();return s.forEach((l,u)=>{const d=a.get(l);d!==void 0&&av(d.mutation,u,Qa.empty(),fn.now()),FE(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Me.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Za(i.createTime)}}(n)),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:Lhe(i.bundledQuery),readTime:Za(i.readTime)}}(n)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yhe{constructor(){this.overlays=new Hr(ht.comparator),this.Rr=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ad();return Me.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Et(e,n,a)}),Me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Me.resolve()}getOverlaysForCollection(e,n,r){const i=ad(),a=n.length+1,s=new ht(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Hr((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=ad(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=ad(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return Me.resolve(o)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new phe(n,r));let a=this.Rr.get(n);a===void 0&&(a=Jt(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.Vr=new ai(gi.mr),this.gr=new ai(gi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new gi(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new gi(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ht(new Vn([])),r=new gi(n,e),i=new gi(n,e+1),a=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),a.push(s.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ht(new Vn([])),r=new gi(n,e),i=new gi(n,e+1);let a=Jt();return this.gr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new gi(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gi{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ht.comparator(e.key,n.key)||Vt(e.Cr,n.Cr)}static pr(e,n){return Vt(e.Cr,n.Cr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ai(gi.mr)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hhe(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Mr=this.Mr.add(new gi(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Me.resolve(s)}lookupMutationBatch(e,n){return Me.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),a=i<0?0:i;return Me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?Bk:this.Fr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gi(n,0),i=new gi(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],s=>{const o=this.Or(s.Cr);a.push(o)}),Me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ai(Vt);return n.forEach(i=>{const a=new gi(i,0),s=new gi(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,s],o=>{r=r.add(o.Cr)})}),Me.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ht.isDocumentKey(a)||(a=a.child(""));const s=new gi(new ht(a),0);let o=new ai(Vt);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Cr)),!0)},s),Me.resolve(this.Br(o))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){an(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Me.forEach(n.mutations,i=>{const a=new gi(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new gi(n,0),i=this.Mr.firstAfterOrEqual(r);return Me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zhe{constructor(e){this.kr=e,this.docs=function(){return new Hr(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Me.resolve(r?r.document.mutableCopy():bi.newInvalidDocument(n))}getEntries(e,n){let r=tc();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():bi.newInvalidDocument(i))}),Me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=tc();const s=n.path,o=new ht(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Cde(Ade(d),r)<=0||(i.has(d.key)||FE(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return Me.resolve(a)}getAllFromCollectionGroup(e,n,r,i){yt()}qr(e,n){return Me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jhe(this)}getSize(e){return Me.resolve(this.size)}}class Jhe extends qhe{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Me.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class epe{constructor(e){this.persistence=e,this.Qr=new zd(n=>Vk(n),Uk),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Kk,this.targetCount=0,this.Kr=Jp.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Me.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Jp(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.zn(n),Me.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Qr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Qr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Me.waitFor(a).next(()=>i)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Me.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),Me.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Me.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return Me.resolve(r)}containsKey(e,n){return Me.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new DE(0),this.zr=!1,this.zr=!0,this.jr=new Xhe,this.referenceDelegate=e(this),this.Hr=new epe(this),this.indexManager=new Fhe,this.remoteDocumentCache=function(i){return new Zhe(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Mhe(n),this.Yr=new Khe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Qhe(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){at("MemoryPersistence","Starting transaction:",e);const i=new tpe(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,n){return Me.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class tpe extends Ode{constructor(e){super(),this.currentSequenceNumber=e}}class Yk{constructor(e){this.persistence=e,this.ti=new Kk,this.ni=null}static ri(e){return new Yk(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Me.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Me.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.ii,r=>{const i=ht.fromPath(r);return this.si(e,i).next(a=>{a||n.removeEntry(i,At.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Me.or([()=>Me.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class P1{constructor(e,n){this.persistence=e,this.oi=new zd(r=>Ide(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=zhe(this,n)}static ri(e,n){return new P1(e,n)}Zr(){}Xr(e){return Me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Me.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?Me.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(o=>{o||(r++,a.removeEntry(s,At.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Me.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Z_(e.data.value)),n}ar(e,n,r){return Me.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return Me.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Jt(),i=Jt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Xk(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class npe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return jle()?8:Pde(na())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.rs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ss(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new npe;return this._s(e,n,s).next(o=>{if(a.result=o,this.Xi)return this.us(e,n,s,o.size)})}).next(()=>a.result)}us(e,n,r,i){return r.documentReadCount<this.es?(dp()<=Yt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",hp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Me.resolve()):(dp()<=Yt.DEBUG&&at("QueryEngine","Query:",hp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(dp()<=Yt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",hp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wo(n))):Me.resolve())}rs(e,n){if(D6(n))return Me.resolve(null);let r=Wo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=A1(n,null,"F"),r=Wo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Jt(...a);return this.ns.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,o);return this.ls(n,u,s,l.readTime)?this.rs(e,A1(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return D6(n)||i.isEqual(At.min())?Me.resolve(null):this.ns.getDocuments(e,r).next(a=>{const s=this.cs(n,a);return this.ls(n,s,r,i)?Me.resolve(null):(dp()<=Yt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hp(n)),this.hs(e,s,n,Tde(i,Iv)).next(o=>o))})}cs(e,n){let r=new ai(JG(e));return n.forEach((i,a)=>{FE(e,a)&&(r=r.add(a))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,n,r){return dp()<=Yt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",hp(n)),this.ns.getDocumentsMatchingQuery(e,n,Lu.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="LocalStore",ipe=3e8;class ape{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Hr(Vt),this.Is=new zd(a=>Vk(a),Uk),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ghe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function spe(t,e,n,r){return new ape(t,e,n,r)}async function AK(t,e){const n=Ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Jt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:s,addedBatchIds:o}))})})}function ope(t,e){const n=Ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,g=h.keys();let y=Me.resolve();return g.forEach(_=>{y=y.next(()=>d.getEntry(l,_)).next(v=>{const b=u.docVersions.get(_);an(b!==null),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Jt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CK(t){const e=Ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function lpe(t,e){const n=Ot(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];e.targetChanges.forEach((d,h)=>{const g=i.get(h);if(!g)return;o.push(n.Hr.removeMatchingKeys(a,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(a,d.addedDocuments,h)));let y=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Ui.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(v,b,E){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=ipe?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,y,d)&&o.push(n.Hr.updateTargetData(a,y))});let l=tc(),u=Jt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(cpe(a,s,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(At.min())){const d=n.Hr.getLastRemoteSnapshotVersion(a).next(h=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return Me.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ts=i,a))}function cpe(t,e,n){let r=Jt(),i=Jt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=tc();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(At.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):at(Qk,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function upe(t,e){const n=Ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bk),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fpe(t,e){const n=Ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(a=>a?(i=a,Me.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new pu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function qR(t,e,n){const r=Ot(t),i=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Jm(s))throw s;at(Qk,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function W6(t,e,n){const r=Ot(t);let i=At.min(),a=Jt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const h=Ot(l),g=h.Is.get(d);return g!==void 0?Me.resolve(h.Ts.get(g)):h.Hr.getTargetData(u,d)}(r,s,Wo(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:At.min(),n?a:Jt())).next(o=>(dpe(r,Zde(e),o),{documents:o,gs:a})))}function dpe(t,e,n){let r=t.Es.get(e)||At.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class G6{constructor(){this.activeTargetIds=ihe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hpe{constructor(){this.ho=new G6,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new G6,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ppe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="ConnectivityMonitor";class Y6{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(K6,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){at(K6,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_=null;function WR(){return e_===null?e_=function(){return 268435456+Math.round(2147483648*Math.random())}():e_++,"0x"+e_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="RestConnection",mpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gpe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===E1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,a){const s=WR(),o=this.bo(e,n.toUriEncodedString());at(OC,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,a),this.vo(e,o,l,r).then(u=>(at(OC,`Received RPC '${e}' ${s}: `,u),u),u=>{throw Kp(OC,`RPC '${e}' ${s} failed with error: `,u,"url: ",o,"request:",r),u})}Co(e,n,r,i,a,s){return this.So(e,n,r,i,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,n){const r=mpe[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vpe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class ype extends gpe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const a=WR();return new Promise((s,o)=>{const l=new CG;l.setWithCredentials(!0),l.listenOnce(NG.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Q_.NO_ERROR:const d=l.getResponseJson();at(Gi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),s(d);break;case Q_.TIMEOUT:at(Gi,`RPC '${e}' ${a} timed out`),o(new Ze(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Q_.HTTP_ERROR:const h=l.getStatus();if(at(Gi,`RPC '${e}' ${a} failed with status:`,h,"response text:",l.getResponseText()),h>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const _=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(E)>=0?E:Re.UNKNOWN}(y.status);o(new Ze(_,y.message))}else o(new Ze(Re.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ze(Re.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{at(Gi,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);at(Gi,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const i=WR(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=RG(),o=PG(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=a.join("");at(Gi,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let g=!1,y=!1;const _=new vpe({Fo:b=>{y?at(Gi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(g||(at(Gi,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),at(Gi,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Mo:()=>h.close()}),v=(b,E,N)=>{b.listen(E,C=>{try{N(C)}catch(k){setTimeout(()=>{throw k},0)}})};return v(h,Gg.EventType.OPEN,()=>{y||(at(Gi,`RPC '${e}' stream ${i} transport opened.`),_.Qo())}),v(h,Gg.EventType.CLOSE,()=>{y||(y=!0,at(Gi,`RPC '${e}' stream ${i} transport closed`),_.Uo())}),v(h,Gg.EventType.ERROR,b=>{y||(y=!0,Kp(Gi,`RPC '${e}' stream ${i} transport errored:`,b),_.Uo(new Ze(Re.UNAVAILABLE,"The operation could not be completed")))}),v(h,Gg.EventType.MESSAGE,b=>{var E;if(!y){const N=b.data[0];an(!!N);const C=N,k=(C==null?void 0:C.error)||((E=C[0])===null||E===void 0?void 0:E.error);if(k){at(Gi,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let I=function(D){const L=Lr[D];if(L!==void 0)return dK(L)}(O),A=k.message;I===void 0&&(I=Re.INTERNAL,A="Unknown error status: "+O+" with message "+k.message),y=!0,_.Uo(new Ze(I,A)),h.close()}else at(Gi,`RPC '${e}' stream ${i} received:`,N),_.Ko(N)}}),v(o,OG.STAT_EVENT,b=>{b.stat===kR.PROXY?at(Gi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===kR.NOPROXY&&at(Gi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function PC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){return new whe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="PersistentStream";class NK{constructor(e,n,r,i,a,s,o,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Zk(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(ec(n.toString()),ec("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Ze(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return at(X6,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(at(X6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xpe extends NK{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Ahe(this.serializer,e),r=function(a){if(!("targetChange"in a))return At.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?At.min():s.readTime?Za(s.readTime):At.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=zR(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=$R(l)?{documents:Nhe(a,l)}:{query:bK(a,l).ht},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=mK(a,s.resumeToken);const u=UR(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(At.min())>0){o.readTime=N1(a,s.snapshotVersion.toTimestamp());const u=UR(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=Rhe(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=zR(this.serializer),n.removeTarget=e,this.I_(n)}}class bpe extends NK{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return an(!!e.streamToken),this.lastStreamToken=e.streamToken,an(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Che(e.writeResults,e.commitTime),r=Za(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=zR(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xK(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{}class wpe extends _pe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.So(e,HR(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ze(Re.UNKNOWN,a.toString())})}Co(e,n,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,HR(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Re.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Epe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ec(n),this.N_=!1):at("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RemoteStore";class Spe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(s=>{r.enqueueAndForget(async()=>{qd(this)&&(at(_d,"Restarting streams for network reachability change."),await async function(l){const u=Ot(l);u.W_.add(4),await tx(u),u.j_.set("Unknown"),u.W_.delete(4),await zE(u)}(this))})}),this.j_=new Epe(r,i)}}async function zE(t){if(qd(t))for(const e of t.G_)await e(!0)}async function tx(t){for(const e of t.G_)await e(!1)}function OK(t,e){const n=Ot(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),nj(n)?tj(n):e0(n).c_()&&ej(n,e))}function Jk(t,e){const n=Ot(t),r=e0(n);n.K_.delete(e),r.c_()&&PK(n,e),n.K_.size===0&&(r.c_()?r.P_():qd(n)&&n.j_.set("Unknown"))}function ej(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}e0(t).y_(e)}function PK(t,e){t.H_.Ne(e),e0(t).w_(e)}function tj(t){t.H_=new yhe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),e0(t).start(),t.j_.B_()}function nj(t){return qd(t)&&!e0(t).u_()&&t.K_.size>0}function qd(t){return Ot(t).W_.size===0}function RK(t){t.H_=void 0}async function Tpe(t){t.j_.set("Online")}async function Ape(t){t.K_.forEach((e,n)=>{ej(t,e)})}async function Cpe(t,e){RK(t),nj(t)?(t.j_.q_(e),tj(t)):t.j_.set("Unknown")}async function Npe(t,e,n){if(t.j_.set("Online"),e instanceof pK&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.K_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.K_.delete(o),i.H_.removeTarget(o))}(t,e)}catch(r){at(_d,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await R1(t,r)}else if(e instanceof t1?t.H_.We(e):e instanceof hK?t.H_.Ze(e):t.H_.je(e),!n.isEqual(At.min()))try{const r=await CK(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.H_.ot(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.K_.get(u);d&&a.K_.set(u,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const d=a.K_.get(l);if(!d)return;a.K_.set(l,d.withResumeToken(Ui.EMPTY_BYTE_STRING,d.snapshotVersion)),PK(a,l);const h=new pu(d.target,l,u,d.sequenceNumber);ej(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){at(_d,"Failed to raise snapshot:",r),await R1(t,r)}}async function R1(t,e,n){if(!Jm(e))throw e;t.W_.add(1),await tx(t),t.j_.set("Offline"),n||(n=()=>CK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{at(_d,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await zE(t)})}function IK(t,e){return e().catch(n=>R1(t,n,e))}async function qE(t){const e=Ot(t),n=Vu(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Bk;for(;Ope(e);)try{const i=await upe(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,Ppe(e,i)}catch(i){await R1(e,i)}DK(e)&&kK(e)}function Ope(t){return qd(t)&&t.U_.length<10}function Ppe(t,e){t.U_.push(e);const n=Vu(t);n.c_()&&n.S_&&n.b_(e.mutations)}function DK(t){return qd(t)&&!Vu(t).u_()&&t.U_.length>0}function kK(t){Vu(t).start()}async function Rpe(t){Vu(t).C_()}async function Ipe(t){const e=Vu(t);for(const n of t.U_)e.b_(n.mutations)}async function Dpe(t,e,n){const r=t.U_.shift(),i=qk.from(r,e,n);await IK(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qE(t)}async function kpe(t,e){e&&Vu(t).S_&&await async function(r,i){if(function(s){return fK(s)&&s!==Re.ABORTED}(i.code)){const a=r.U_.shift();Vu(r).h_(),await IK(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await qE(r)}}(t,e),DK(t)&&kK(t)}async function Q6(t,e){const n=Ot(t);n.asyncQueue.verifyOperationInProgress(),at(_d,"RemoteStore received new credentials");const r=qd(n);n.W_.add(3),await tx(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await zE(n)}async function jpe(t,e){const n=Ot(t);e?(n.W_.delete(2),await zE(n)):e||(n.W_.add(2),await tx(n),n.j_.set("Unknown"))}function e0(t){return t.J_||(t.J_=function(n,r,i){const a=Ot(n);return a.M_(),new xpe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:Tpe.bind(null,t),No:Ape.bind(null,t),Lo:Cpe.bind(null,t),p_:Npe.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),nj(t)?tj(t):t.j_.set("Unknown")):(await t.J_.stop(),RK(t))})),t.J_}function Vu(t){return t.Y_||(t.Y_=function(n,r,i){const a=Ot(n);return a.M_(),new bpe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Rpe.bind(null,t),Lo:kpe.bind(null,t),D_:Ipe.bind(null,t),v_:Dpe.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await qE(t)):(await t.Y_.stop(),t.U_.length>0&&(at(_d,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new rj(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ij(t,e){if(ec("AsyncQueue",`${e}: ${t}`),Jm(t))return new Ze(Re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{static emptySet(e){return new Rp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=Kg(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.Z_=new Hr(ht.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class em{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new em(e,n,Rp.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&LE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Lpe{constructor(){this.queries=J6(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ot(n),a=i.queries;i.queries=J6(),a.forEach((s,o)=>{for(const l of o.ta)l.onError(r)})})(this,new Ze(Re.ABORTED,"Firestore shutting down"))}}function J6(){return new zd(t=>ZG(t),LE)}async function aj(t,e){const n=Ot(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new Mpe,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=ij(s,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&oj(n)}async function sj(t,e){const n=Ot(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ta.indexOf(e);s>=0&&(a.ta.splice(s,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fpe(t,e){const n=Ot(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ta)o.oa(i)&&(r=!0);s.ea=i}}r&&oj(n)}function Bpe(t,e,n){const r=Ot(t),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(e)}function oj(t){t.ia.forEach(e=>{e.next()})}var GR,e8;(e8=GR||(GR={}))._a="default",e8.Cache="cache";class lj{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new em(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==GR.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e){this.key=e}}class MK{constructor(e){this.key=e}}class $pe{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Jt(),this.mutatedKeys=Jt(),this.ya=JG(e),this.wa=new Rp(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Z6,i=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const g=i.get(d),y=FE(this.query,h)?h:null,_=!!g&&this.mutatedKeys.has(g.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;g&&y?g.data.isEqual(y.data)?_!==v&&(r.track({type:3,doc:y}),b=!0):this.va(g,y)||(r.track({type:2,doc:y}),b=!0,(l&&this.ya(y,l)>0||u&&this.ya(y,u)<0)&&(o=!0)):!g&&y?(r.track({type:0,doc:y}),b=!0):g&&!y&&(r.track({type:1,doc:g}),b=!0,(l||u)&&(o=!0)),b&&(y?(s=s.add(y),a=v?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{wa:s,Da:r,ls:o,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((d,h)=>function(y,_){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return v(y)-v(_)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const o=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,s.length!==0||u?{snapshot:new em(this.query,e.wa,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Z6,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Jt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new MK(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new jK(r))}),n}Oa(e){this.fa=e.gs,this.pa=Jt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return em.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cj="SyncEngine";class Vpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Upe{constructor(e){this.key=e,this.Ba=!1}}class Hpe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new zd(o=>ZG(o),LE),this.qa=new Map,this.Qa=new Set,this.$a=new Hr(ht.comparator),this.Ua=new Map,this.Ka=new Kk,this.Wa={},this.Ga=new Map,this.za=Jp.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function zpe(t,e,n=!0){const r=UK(t);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await LK(r,e,n,!0),i}async function qpe(t,e){const n=UK(t);await LK(n,e,!0,!1)}async function LK(t,e,n,r){const i=await fpe(t.localStore,Wo(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Wpe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&OK(t.remoteStore,i),o}async function Wpe(t,e,n,r,i){t.Ha=(h,g,y)=>async function(v,b,E,N){let C=b.view.ba(E);C.ls&&(C=await W6(v.localStore,b.query,!1).then(({documents:A})=>b.view.ba(A,C)));const k=N&&N.targetChanges.get(b.targetId),O=N&&N.targetMismatches.get(b.targetId)!=null,I=b.view.applyChanges(C,v.isPrimaryClient,k,O);return n8(v,b.targetId,I.Ma),I.snapshot}(t,h,g,y);const a=await W6(t.localStore,e,!0),s=new $pe(e,a.gs),o=s.ba(a.documents),l=ex.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);n8(t,n,u.Ma);const d=new Vpe(e,n,s);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function Gpe(t,e,n){const r=Ot(t),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(s=>!LE(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qR(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jk(r.remoteStore,i.targetId),KR(r,i.targetId)}).catch(Zm)):(KR(r,i.targetId),await qR(r.localStore,i.targetId,!0))}async function Kpe(t,e){const n=Ot(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jk(n.remoteStore,r.targetId))}async function Ype(t,e,n){const r=nme(t);try{const i=await function(s,o){const l=Ot(s),u=fn.now(),d=o.reduce((y,_)=>y.add(_.key),Jt());let h,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=tc(),v=Jt();return l.ds.getEntries(y,d).next(b=>{_=b,_.forEach((E,N)=>{N.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,_)).next(b=>{h=b;const E=[];for(const N of o){const C=dhe(N,h.get(N.key).overlayedDocument);C!=null&&E.push(new of(N.key,C,zG(C.value.mapValue),ni.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,o)}).next(b=>{g=b;const E=b.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(y,b.batchId,E)})}).then(()=>({batchId:g.batchId,changes:tK(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Wa[s.currentUser.toKey()];u||(u=new Hr(Vt)),u=u.insert(o,l),s.Wa[s.currentUser.toKey()]=u}(r,i.batchId,n),await nx(r,i.changes),await qE(r.remoteStore)}catch(i){const a=ij(i,"Failed to persist write");n.reject(a)}}async function FK(t,e){const n=Ot(t);try{const r=await lpe(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Ua.get(a);s&&(an(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?an(s.Ba):i.removedDocuments.size>0&&(an(s.Ba),s.Ba=!1))}),await nx(n,r,e)}catch(r){await Zm(r)}}function t8(t,e,n){const r=Ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((a,s)=>{const o=s.view.sa(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Ot(s);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const g of h.ta)g.sa(o)&&(u=!0)}),u&&oj(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xpe(t,e,n){const r=Ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),a=i&&i.key;if(a){let s=new Hr(ht.comparator);s=s.insert(a,bi.newNoDocument(a,At.min()));const o=Jt().add(a),l=new UE(At.min(),new Map,new Hr(Vt),s,o);await FK(r,l),r.$a=r.$a.remove(a),r.Ua.delete(e),uj(r)}else await qR(r.localStore,e,!1).then(()=>KR(r,e,n)).catch(Zm)}async function Qpe(t,e){const n=Ot(t),r=e.batch.batchId;try{const i=await ope(n.localStore,e);$K(n,r,null),BK(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nx(n,i)}catch(i){await Zm(i)}}async function Zpe(t,e,n){const r=Ot(t);try{const i=await function(s,o){const l=Ot(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(an(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);$K(r,e,n),BK(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nx(r,i)}catch(i){await Zm(i)}}function BK(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function $K(t,e,n){const r=Ot(t);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function KR(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||VK(t,r)})}function VK(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Jk(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),uj(t))}function n8(t,e,n){for(const r of n)r instanceof jK?(t.Ka.addReference(r.key,e),Jpe(t,r)):r instanceof MK?(at(cj,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||VK(t,r.key)):yt()}function Jpe(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(at(cj,"New document in limbo: "+n),t.Qa.add(r),uj(t))}function uj(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ht(Vn.fromString(e)),r=t.za.next();t.Ua.set(r,new Upe(n)),t.$a=t.$a.insert(n,r),OK(t.remoteStore,new pu(Wo(ME(n.path)),r,"TargetPurposeLimboResolution",DE.ae))}}async function nx(t,e,n){const r=Ot(t),i=[],a=[],s=[];r.ka.isEmpty()||(r.ka.forEach((o,l)=>{s.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Xk.Yi(l.targetId,u);a.push(h)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,u){const d=Ot(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Me.forEach(u,g=>Me.forEach(g.Hi,y=>d.persistence.referenceDelegate.addReference(h,g.targetId,y)).next(()=>Me.forEach(g.Ji,y=>d.persistence.referenceDelegate.removeReference(h,g.targetId,y)))))}catch(h){if(!Jm(h))throw h;at(Qk,"Failed to update sequence numbers: "+h)}for(const h of u){const g=h.targetId;if(!h.fromCache){const y=d.Ts.get(g),_=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(_);d.Ts=d.Ts.insert(g,v)}}}(r.localStore,a))}async function eme(t,e){const n=Ot(t);if(!n.currentUser.isEqual(e)){at(cj,"User change. New user:",e.toKey());const r=await AK(n.localStore,e);n.currentUser=e,function(a,s){a.Ga.forEach(o=>{o.forEach(l=>{l.reject(new Ze(Re.CANCELLED,s))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nx(n,r.Rs)}}function tme(t,e){const n=Ot(t),r=n.Ua.get(e);if(r&&r.Ba)return Jt().add(r.key);{let i=Jt();const a=n.qa.get(e);if(!a)return i;for(const s of a){const o=n.ka.get(s);i=i.unionWith(o.view.Sa)}return i}}function UK(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xpe.bind(null,e),e.La.p_=Fpe.bind(null,e.eventManager),e.La.Ja=Bpe.bind(null,e.eventManager),e}function nme(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zpe.bind(null,e),e}class I1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=HE(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return spe(this.persistence,new rpe,e.initialUser,this.serializer)}Xa(e){return new TK(Yk.ri,this.serializer)}Za(e){return new hpe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}I1.provider={build:()=>new I1};class rme extends I1{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){an(this.persistence.referenceDelegate instanceof P1);const r=this.persistence.referenceDelegate.garbageCollector;return new Uhe(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?wa.withCacheSize(this.cacheSizeBytes):wa.DEFAULT;return new TK(r=>P1.ri(r,n),this.serializer)}}class YR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eme.bind(null,this.syncEngine),await jpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lpe}()}createDatastore(e){const n=HE(e.databaseInfo.databaseId),r=function(a){return new ype(a)}(e.databaseInfo);return function(a,s,o,l){return new wpe(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Spe(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>t8(this.syncEngine,n,0),function(){return Y6.D()?new Y6:new ppe}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,d){const h=new Hpe(i,a,s,o,l,u);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ot(i);at(_d,"RemoteStore shutting down."),a.W_.add(5),await tx(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}YR.provider={build:()=>new YR};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ec("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ime{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ze(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,a){const s=Ot(i),o={documents:a.map(h=>O1(s.serializer,h))},l=await s.Co("BatchGetDocuments",s.serializer.databaseId,Vn.emptyPath(),o,a.length),u=new Map;l.forEach(h=>{const g=The(s.serializer,h);u.set(g.key.toString(),g)});const d=[];return a.forEach(h=>{const g=u.get(h.toString());an(!!g),d.push(g)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new VE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ht.fromPath(r);this.mutations.push(new uK(i,this.precondition(i)))}),await async function(r,i){const a=Ot(r),s={writes:i.map(o=>xK(a.serializer,o))};await a.So("Commit",a.serializer.databaseId,Vn.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yt();n=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ze(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(At.min())?ni.exists(!1):ni.updateTime(n):ni.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(At.min()))throw new Ze(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ni.updateTime(n)}return ni.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Tu=r.maxAttempts,this.a_=new Zk(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new ime(this.datastore),n=this.du(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const n=this.updateFunction(e);return!Zy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!fK(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="FirestoreClient";class sme{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xi.UNAUTHENTICATED,this.clientId=kG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{at(Uu,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(at(Uu,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ij(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function RC(t,e){t.asyncQueue.verifyOperationInProgress(),at(Uu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AK(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ome(t);at(Uu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Q6(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Q6(e.remoteStore,i)),t._onlineComponents=e}async function ome(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at(Uu,"Using user provided OfflineComponentProvider");try{await RC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Re.FAILED_PRECONDITION||i.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Kp("Error using user provided cache. Falling back to memory cache: "+n),await RC(t,new I1)}}else at(Uu,"Using default OfflineComponentProvider"),await RC(t,new rme(void 0));return t._offlineComponents}async function dj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at(Uu,"Using user provided OnlineComponentProvider"),await r8(t,t._uninitializedComponentsProvider._online)):(at(Uu,"Using default OnlineComponentProvider"),await r8(t,new YR))),t._onlineComponents}function lme(t){return dj(t).then(e=>e.syncEngine)}function HK(t){return dj(t).then(e=>e.datastore)}async function D1(t){const e=await dj(t),n=e.eventManager;return n.onListen=zpe.bind(null,e.syncEngine),n.onUnlisten=Gpe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qpe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kpe.bind(null,e.syncEngine),n}function cme(t,e,n={}){const r=new ro;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new fj({next:g=>{d.su(),s.enqueueAndForget(()=>sj(a,h));const y=g.docs.has(o);!y&&g.fromCache?u.reject(new Ze(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&l.source==="server"?u.reject(new Ze(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new lj(ME(o.path),d,{includeMetadataChanges:!0,Ta:!0});return aj(a,h)}(await D1(t),t.asyncQueue,e,n,r)),r.promise}function ume(t,e,n={}){const r=new ro;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new fj({next:g=>{d.su(),s.enqueueAndForget(()=>sj(a,h)),g.fromCache&&l.source==="server"?u.reject(new Ze(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new lj(o,d,{includeMetadataChanges:!0,Ta:!0});return aj(a,h)}(await D1(t),t.asyncQueue,e,n,r)),r.promise}function fme(t,e,n){const r=new ro;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await HK(t);r.resolve(async function(s,o,l){var u;const d=Ot(s),{request:h,Pt:g,parent:y}=Ohe(d.serializer,Qde(o),l);d.connection.fo||delete h.parent;const _=(await d.Co("RunAggregationQuery",d.serializer.databaseId,y,h,1)).filter(b=>!!b.result);an(_.length===1);const v=(u=_[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(v).reduce((b,E)=>(b[g[E]]=v[E],b),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(t,e,n){if(!n)throw new Ze(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dme(t,e,n,r){if(e===!0&&r===!0)throw new Ze(Re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a8(t){if(!ht.isDocumentKey(t))throw new Ze(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s8(t){if(ht.isDocumentKey(t))throw new Ze(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yt()}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ze(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=WE(t);throw new Ze(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hme(t,e){if(e<=0)throw new Ze(Re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK="firestore.googleapis.com",o8=!0;class l8{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WK,this.ssl=o8}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:o8;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SK;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$he)throw new Ze(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dme("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zK((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class GE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gde;switch(r.type){case"firstParty":return new bde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ze(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i8.get(n);r&&(at("ComponentProvider","Removing Datastore"),i8.delete(n),r.terminate())}(this),Promise.resolve()}}function pme(t,e,n,r={}){var i;const a=(t=Ji(t,GE))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),o=`${e}:${n}`;a.host!==WK&&a.host!==o&&Kp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:o,ssl:!1,emulatorOptions:r});if(!ku(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Xi.MOCK_USER;else{u=LW(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ze(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Xi(h)}t._authCredentials=new vde(new IG(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class $i{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $i(this.firestore,e,this._key)}}class Tu extends rl{constructor(e,n,r){super(e,n,ME(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $i(this.firestore,null,new ht(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function dn(t,e,...n){if(t=Un(t),qK("collection","path",e),t instanceof GE){const r=Vn.fromString(e,...n);return s8(r),new Tu(t,null,r)}{if(!(t instanceof $i||t instanceof Tu))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vn.fromString(e,...n));return s8(r),new Tu(t.firestore,null,r)}}function hn(t,e,...n){if(t=Un(t),arguments.length===1&&(e=kG.newId()),qK("doc","path",e),t instanceof GE){const r=Vn.fromString(e,...n);return a8(r),new $i(t,null,new ht(r))}{if(!(t instanceof $i||t instanceof Tu))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vn.fromString(e,...n));return a8(r),new $i(t.firestore,t instanceof Tu?t.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="AsyncQueue";class u8{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Zk(this,"async_queue_retry"),this.Su=()=>{const r=PC();r&&at(c8,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=PC();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=PC();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ro;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jm(e))throw e;at(c8,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ec("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=rj.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function f8(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class fo extends GE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new u8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u8(e),this._firestoreClient=void 0,await e}}}function GK(t,e){const n=typeof t=="object"?t:Nk(),r=typeof t=="string"?t:E1,i=NE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=kW("firestore");a&&pme(i,...a)}return i}function Wd(t){if(t._terminated)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mme(t),t._firestoreClient}function mme(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,u,d){return new Mde(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zK(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new sme(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gme{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class vme{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wd(Ui.fromBase64String(e))}catch(n){throw new Ze(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wd(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ze(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ze(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ze(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yme=/^__.*__$/;class xme{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new of(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jy(e,this.data,n,this.fieldTransforms)}}class KK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new of(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YK(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class mj{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new mj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return k1(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(YK(this.Lu)&&yme.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class bme{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||HE(e)}ju(e,n,r,i=!1){return new mj({Lu:e,methodName:n,zu:r,path:Li.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(t){const e=t._freezeSettings(),n=HE(t._databaseId);return new bme(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YE(t,e,n,r,i,a={}){const s=t.ju(a.merge||a.mergeFields?2:0,e,n,i);xj("Data must be an object, but it was:",s,r);const o=QK(r,s);let l,u;if(a.merge)l=new Qa(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const g=XR(e,h,n);if(!s.contains(g))throw new Ze(Re.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);JK(d,g)||d.push(g)}l=new Qa(d),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new xme(new ua(o),l,u)}class XE extends KE{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof XE}}class gj extends KE{_toFieldTransform(e){return new lhe(e.path,new Lv)}isEqual(e){return e instanceof gj}}function vj(t,e,n,r){const i=t.ju(1,e,n);xj("Data must be an object, but it was:",i,r);const a=[],s=ua.empty();sf(r,(l,u)=>{const d=bj(e,l,n);u=Un(u);const h=i.Uu(d);if(u instanceof XE)a.push(d);else{const g=rx(u,h);g!=null&&(a.push(d),s.set(d,g))}});const o=new Qa(a);return new KK(s,o,i.fieldTransforms)}function yj(t,e,n,r,i,a){const s=t.ju(1,e,n),o=[XR(e,r,n)],l=[i];if(a.length%2!=0)throw new Ze(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)o.push(XR(e,a[g])),l.push(a[g+1]);const u=[],d=ua.empty();for(let g=o.length-1;g>=0;--g)if(!JK(u,o[g])){const y=o[g];let _=l[g];_=Un(_);const v=s.Uu(y);if(_ instanceof XE)u.push(y);else{const b=rx(_,v);b!=null&&(u.push(y),d.set(y,b))}}const h=new Qa(u);return new KK(d,h,s.fieldTransforms)}function XK(t,e,n,r=!1){return rx(n,t.ju(r?4:3,e))}function rx(t,e){if(ZK(t=Un(t)))return xj("Unsupported field value:",e,t),QK(t,e);if(t instanceof KE)return function(r,i){if(!YK(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=rx(o,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ahe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:N1(i.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:N1(i.serializer,a)}}if(r instanceof hj)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wd)return{bytesValue:mK(i.serializer,r._byteString)};if(r instanceof $i){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pj)return function(s,o){return{mapValue:{fields:{[UG]:{stringValue:HG},[S1]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Wu("VectorValues must only contain numeric values.");return zk(o.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${WE(r)}`)}(t,e)}function QK(t,e){const n={};return MG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sf(t,(r,i)=>{const a=rx(i,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function ZK(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof hj||t instanceof wd||t instanceof $i||t instanceof KE||t instanceof pj)}function xj(t,e,n){if(!ZK(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=WE(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function XR(t,e,n){if((e=Un(e))instanceof t0)return e._internalPath;if(typeof e=="string")return bj(t,e);throw k1("Field path arguments must be of type string or ",t,!1,void 0,n)}const _me=new RegExp("[~\\*/\\[\\]]");function bj(t,e,n){if(e.search(_me)>=0)throw k1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t0(...e.split("."))._internalPath}catch{throw k1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function k1(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ze(Re.INVALID_ARGUMENT,o+t+l)}function JK(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wme extends $v{data(){return super.data()}}function QE(t,e){return typeof e=="string"?bj(t,e):e instanceof t0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ze(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _j{}class ZE extends _j{}function kt(t,e,...n){let r=[];e instanceof _j&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof wj).length,o=a.filter(l=>l instanceof JE).length;if(s>1||s>0&&o>0)throw new Ze(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class JE extends ZE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new JE(e,n,r)}_apply(e){const n=this._parse(e);return tY(e._query,n),new rl(e.firestore,e.converter,VR(e._query,n))}_parse(e){const n=Gd(e.firestore);return function(a,s,o,l,u,d,h){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){h8(h,d);const _=[];for(const v of h)_.push(d8(l,a,v));g={arrayValue:{values:_}}}else g=d8(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||h8(h,d),g=XK(o,s,h,d==="in"||d==="not-in");return $r.create(u,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tt(t,e,n){const r=e,i=QE("where",t);return JE._create(i,r,n)}class wj extends _j{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wj(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:uo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)tY(s,l),s=VR(s,l)}(e._query,n),new rl(e.firestore,e.converter,VR(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ej extends ZE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ej(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mv(a,s)}(e._query,this._field,this._direction);return new rl(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Hd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Jr(t,e="asc"){const n=e,r=QE("orderBy",t);return Ej._create(r,n)}class Sj extends ZE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Sj(e,n,r)}_apply(e){return new rl(e.firestore,e.converter,A1(e._query,this._limit,this._limitType))}}function sd(t){return hme("limit",t),Sj._create("limit",t,"F")}class Tj extends ZE{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Tj(e,n,r)}_apply(e){const n=Sme(e,this.type,this._docOrFields,this._inclusive);return new rl(e.firestore,e.converter,function(i,a){return new Hd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function Eme(...t){return Tj._create("startAfter",t,!1)}function Sme(t,e,n,r){if(n[0]=Un(n[0]),n[0]instanceof $v)return function(a,s,o,l,u){if(!l)throw new Ze(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const h of Pp(a))if(h.field.isKeyField())d.push(T1(s,l.key));else{const g=l.data.field(h.field);if(kE(g))throw new Ze(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const y=h.field.canonicalString();throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(g)}return new Zp(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Gd(t.firestore);return function(s,o,l,u,d,h){const g=s.explicitOrderBy;if(d.length>g.length)throw new Ze(Re.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let _=0;_<d.length;_++){const v=d[_];if(g[_].field.isKeyField()){if(typeof v!="string")throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!Hk(s)&&v.indexOf("/")!==-1)throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const b=s.path.child(Vn.fromString(v));if(!ht.isDocumentKey(b))throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const E=new ht(b);y.push(T1(o,E))}else{const b=XK(l,u,v);y.push(b)}}return new Zp(y,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function d8(t,e,n){if(typeof(n=Un(n))=="string"){if(n==="")throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hk(e)&&n.indexOf("/")!==-1)throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vn.fromString(n));if(!ht.isDocumentKey(r))throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T1(t,new ht(r))}if(n instanceof $i)return T1(t,n._key);throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WE(n)}.`)}function h8(t,e){if(!Array.isArray(t)||t.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tY(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nY{convertValue(e,n="none"){switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sf(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[S1].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Rr(s.doubleValue));return new pj(a)}convertGeoPoint(e){return new hj(Rr(e.latitude),Rr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dv(e));default:return null}}convertTimestamp(e){const n=Fu(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vn.fromString(e);an(EK(r));const i=new kv(r.get(1),r.get(3)),a=new ht(r.popFirst(5));return i.isEqual(n)||ec(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tme extends nY{constructor(e){super(),this.firestore=e}convertBytes(e){return new wd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,n)}}function Ame(){return new gme("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aj extends $v{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new n1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(QE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class n1 extends Aj{data(e={}){return super.data(e)}}class rY{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new n1(this._firestore,this._userDataWriter,r.key,r,new vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new n1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new n1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:Cme(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Cme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){t=Ji(t,$i);const e=Ji(t.firestore,fo);return cme(Wd(e),t._key).then(n=>aY(e,t,n))}class ix extends nY{constructor(e){super(),this.firestore=e}convertBytes(e){return new wd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,n)}}function ur(t){t=Ji(t,rl);const e=Ji(t.firestore,fo),n=Wd(e),r=new ix(e);return eY(t._query),ume(n,t._query).then(i=>new rY(e,r,t,i))}function Ta(t,e,n){t=Ji(t,$i);const r=Ji(t.firestore,fo),i=eS(t.converter,e,n);return tS(r,[YE(Gd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function iY(t,e,n,...r){t=Ji(t,$i);const i=Ji(t.firestore,fo),a=Gd(i);let s;return s=typeof(e=Un(e))=="string"||e instanceof t0?yj(a,"updateDoc",t._key,e,n,r):vj(a,"updateDoc",t._key,e),tS(i,[s.toMutation(t._key,ni.exists(!0))])}function Nme(t,e){const n=Ji(t.firestore,fo),r=hn(t),i=eS(t.converter,e);return tS(n,[YE(Gd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function Au(t,...e){var n,r,i;t=Un(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||f8(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(f8(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof $i)u=Ji(t.firestore,fo),d=ME(t._key.path),l={next:h=>{e[s]&&e[s](aY(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ji(t,rl);u=Ji(h.firestore,fo),d=h._query;const g=new ix(u);l={next:y=>{e[s]&&e[s](new rY(u,g,h,y))},error:e[s+1],complete:e[s+2]},eY(t._query)}return function(g,y,_,v){const b=new fj(v),E=new lj(y,b,_);return g.asyncQueue.enqueueAndForget(async()=>aj(await D1(g),E)),()=>{b.su(),g.asyncQueue.enqueueAndForget(async()=>sj(await D1(g),E))}}(Wd(u),d,o,l)}function tS(t,e){return function(r,i){const a=new ro;return r.asyncQueue.enqueueAndForget(async()=>Ype(await lme(r),i,a)),a.promise}(Wd(t),e)}function aY(t,e,n){const r=n.docs.get(e._key),i=new ix(t);return new Aj(t,i,e._key,r,new vp(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){return Ome(t,{count:Ame()})}function Ome(t,e){const n=Ji(t.firestore,fo),r=Wd(n),i=kde(e,(a,s)=>new mhe(s,a.aggregateType,a._internalFieldPath));return fme(r,t._query,i).then(a=>function(o,l,u){const d=new ix(o);return new vme(l,d,u)}(n,t,a))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pme={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rme{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gd(e)}set(e,n,r){this._verifyNotCommitted();const i=mu(e,this._firestore),a=eS(i.converter,n,r),s=YE(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ni.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=mu(e,this._firestore);let s;return s=typeof(n=Un(n))=="string"||n instanceof t0?yj(this._dataReader,"WriteBatch.update",a._key,n,r,i):vj(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mu(e,this._firestore);return this._mutations=this._mutations.concat(new VE(n._key,ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mu(t,e){if((t=Un(t)).firestore!==e)throw new Ze(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ime{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gd(e)}get(e){const n=mu(e,this._firestore),r=new Tme(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return yt();const a=i[0];if(a.isFoundDocument())return new $v(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new $v(this._firestore,r,n._key,null,n.converter);throw yt()})}set(e,n,r){const i=mu(e,this._firestore),a=eS(i.converter,n,r),s=YE(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const a=mu(e,this._firestore);let s;return s=typeof(n=Un(n))=="string"||n instanceof t0?yj(this._dataReader,"Transaction.update",a._key,n,r,i):vj(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this}delete(e){const n=mu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme extends Ime{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=mu(e,this._firestore),r=new ix(this._firestore);return super.get(e).then(i=>new Aj(this._firestore,r,n._key,i._document,new vp(!1,!1),n.converter))}}function HGe(t,e,n){t=Ji(t,fo);const r=Object.assign(Object.assign({},Pme),n);return function(a){if(a.maxAttempts<1)throw new Ze(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,s,o){const l=new ro;return a.asyncQueue.enqueueAndForget(async()=>{const u=await HK(a);new ame(a.asyncQueue,u,o,s,l).Iu()}),l.promise}(Wd(t),i=>e(new Dme(t,i)),r)}function zGe(){return new gj("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qGe(t){return Wd(t=Ji(t,fo)),new Rme(t,e=>tS(t,e))}(function(e,n=!0){(function(i){Qm=i})(Vd),vd(new ju("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new fo(new yde(r.getProvider("auth-internal")),new _de(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ze(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kv(u.options.projectId,d)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ho(g6,v6,e),Ho(g6,v6,"esm2017")})();var kme="firebase",jme="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ho(kme,jme,"app");const Mme={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyD-CAC63_FcIF6swOTiAXZztPSB7eYTbgs",VITE_FIREBASE_APP_ID:"1:897971535938:web:f227f1f4c403580eaf2ddb",VITE_FIREBASE_AUTH_DOMAIN:"consulttest-be8ce.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"897971535938",VITE_FIREBASE_PROJECT_ID:"consulttest-be8ce",VITE_FIREBASE_STORAGE_BUCKET:"consulttest-be8ce.firebasestorage.app"},Lme=["consulttest-be8ce.web.app","localhost:5173","consultations-fa042.web.app"],QR=window.location.host;if(!Lme.includes(QR))throw console.error("Unauthorized domain:",QR),document.body.innerHTML="<h1>Access Denied</h1><p>This application is not authorized to run on this domain.</p>",new Error("Unauthorized domain access");const Fme={apiKey:"AIzaSyD-CAC63_FcIF6swOTiAXZztPSB7eYTbgs",authDomain:"consulttest-be8ce.firebaseapp.com",projectId:"consulttest-be8ce",storageBucket:"consulttest-be8ce.firebasestorage.app",messagingSenderId:"897971535938",appId:"1:897971535938:web:f227f1f4c403580eaf2ddb"},Bme=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],p8=Bme.filter(t=>!Mme[t]);if(p8.length>0)throw console.error("Missing required environment variables:",p8),new Error("Firebase configuration incomplete");const sY=OE(Fme);Mu(sY);const st=GK(sY);console.log("Firebase initialized for domain:",QR);function m8(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $me(...t){return e=>{let n=!1;const r=t.map(i=>{const a=m8(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():m8(t[i],null)}}}}function Cj(t){const e=Vme(t),n=T.forwardRef((r,i)=>{const{children:a,...s}=r,o=T.Children.toArray(a),l=o.find(Hme);if(l){const u=l.props.children,d=o.map(h=>h===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return p.jsx(e,{...s,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,d):null})}return p.jsx(e,{...s,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var oY=Cj("Slot");function Vme(t){const e=T.forwardRef((n,r)=>{const{children:i,...a}=n;if(T.isValidElement(i)){const s=qme(i),o=zme(a,i.props);return i.type!==T.Fragment&&(o.ref=r?$me(r,s):s),T.cloneElement(i,o)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ume=Symbol("radix.slottable");function Hme(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ume}function zme(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function qme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lY(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lY(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lY(t))&&(r&&(r+=" "),r+=e);return r}const g8=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v8=Pt,Nj=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v8(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const g=g8(d)||g8(h);return i[u][g]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,g]=d;return g===void 0||(u[h]=g),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:g,...y}=d;return Object.entries(y).every(_=>{let[v,b]=_;return Array.isArray(b)?b.includes({...a,...o}[v]):{...a,...o}[v]===b})?[...u,h,g]:u},[]);return v8(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},Oj="-",Wme=t=>{const e=Kme(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const o=s.split(Oj);return o[0]===""&&o.length!==1&&o.shift(),cY(o,e)||Gme(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},cY=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?cY(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Oj);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},y8=/^\[(.+)\]$/,Gme=t=>{if(y8.test(t)){const e=y8.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Kme=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)ZR(n[i],r,i,e);return r},ZR=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:x8(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Yme(i)){ZR(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{ZR(s,x8(e,a),n,r)})})},x8=(t,e)=>{let n=t;return e.split(Oj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Yme=t=>t.isThemeGetter,Xme=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},JR="!",eI=":",Qme=eI.length,Zme=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let s=0,o=0,l=0,u;for(let _=0;_<i.length;_++){let v=i[_];if(s===0&&o===0){if(v===eI){a.push(i.slice(l,_)),l=_+Qme;continue}if(v==="/"){u=_;continue}}v==="["?s++:v==="]"?s--:v==="("?o++:v===")"&&o--}const d=a.length===0?i:i.substring(l),h=Jme(d),g=h!==d,y=u&&u>l?u-l:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:y}};if(e){const i=e+eI,a=r;r=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},Jme=t=>t.endsWith(JR)?t.substring(0,t.length-1):t.startsWith(JR)?t.substring(1):t,e0e=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},t0e=t=>({cache:Xme(t.cacheSize),parseClassName:Zme(t),sortModifiers:e0e(t),...Wme(t)}),n0e=/\s+/,r0e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],o=t.trim().split(n0e);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:h,modifiers:g,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:v}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let b=!!v,E=r(b?_.substring(0,v):_);if(!E){if(!b){l=d+(l.length>0?" "+l:l);continue}if(E=r(_),!E){l=d+(l.length>0?" "+l:l);continue}b=!1}const N=a(g).join(":"),C=y?N+JR:N,k=C+E;if(s.includes(k))continue;s.push(k);const O=i(E,b);for(let I=0;I<O.length;++I){const A=O[I];s.push(C+A)}l=d+(l.length>0?" "+l:l)}return l};function i0e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uY(e))&&(r&&(r+=" "),r+=n);return r}const uY=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uY(t[r]))&&(n&&(n+=" "),n+=e);return n};function a0e(t,...e){let n,r,i,a=s;function s(l){const u=e.reduce((d,h)=>h(d),t());return n=t0e(u),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=r0e(l,n);return i(l,d),d}return function(){return a(i0e.apply(null,arguments))}}const pi=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fY=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dY=/^\((?:(\w[\w-]*):)?(.+)\)$/i,s0e=/^\d+\/\d+$/,o0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qh=t=>s0e.test(t),Zt=t=>!!t&&!Number.isNaN(Number(t)),Gf=t=>!!t&&Number.isInteger(Number(t)),b8=t=>t.endsWith("%")&&Zt(t.slice(0,-1)),tu=t=>o0e.test(t),d0e=()=>!0,h0e=t=>l0e.test(t)&&!c0e.test(t),Pj=()=>!1,p0e=t=>u0e.test(t),m0e=t=>f0e.test(t),g0e=t=>!ct(t)&&!ut(t),v0e=t=>n0(t,mY,Pj),ct=t=>fY.test(t),Kf=t=>n0(t,gY,h0e),IC=t=>n0(t,N0e,Zt),y0e=t=>n0(t,hY,Pj),x0e=t=>n0(t,pY,m0e),b0e=t=>n0(t,Pj,p0e),ut=t=>dY.test(t),t_=t=>r0(t,gY),_0e=t=>r0(t,O0e),w0e=t=>r0(t,hY),E0e=t=>r0(t,mY),S0e=t=>r0(t,pY),T0e=t=>r0(t,P0e,!0),n0=(t,e,n)=>{const r=fY.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},r0=(t,e,n=!1)=>{const r=dY.exec(t);return r?r[1]?e(r[1]):n:!1},hY=t=>t==="position",A0e=new Set(["image","url"]),pY=t=>A0e.has(t),C0e=new Set(["length","size","percentage"]),mY=t=>C0e.has(t),gY=t=>t==="length",N0e=t=>t==="number",O0e=t=>t==="family-name",P0e=t=>t==="shadow",R0e=()=>{const t=pi("color"),e=pi("font"),n=pi("text"),r=pi("font-weight"),i=pi("tracking"),a=pi("leading"),s=pi("breakpoint"),o=pi("container"),l=pi("spacing"),u=pi("radius"),d=pi("shadow"),h=pi("inset-shadow"),g=pi("drop-shadow"),y=pi("blur"),_=pi("perspective"),v=pi("aspect"),b=pi("ease"),E=pi("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],I=()=>[ut,ct,l],A=()=>[Qh,"full","auto",...I()],R=()=>[Gf,"none","subgrid",ut,ct],D=()=>["auto",{span:["full",Gf,ut,ct]},ut,ct],L=()=>[Gf,"auto",ut,ct],j=()=>["auto","min","max","fr",ut,ct],B=()=>["start","end","center","between","around","evenly","stretch","baseline"],F=()=>["start","end","center","stretch"],re=()=>["auto",...I()],q=()=>[Qh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],V=()=>[t,ut,ct],X=()=>[b8,Kf],Q=()=>["","none","full",u,ut,ct],ie=()=>["",Zt,t_,Kf],W=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["","none",y,ut,ct],Y=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut,ct],K=()=>["none",Zt,ut,ct],J=()=>["none",Zt,ut,ct],fe=()=>[Zt,ut,ct],pe=()=>[Qh,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[tu],breakpoint:[tu],color:[d0e],container:[tu],"drop-shadow":[tu],ease:["in","out","in-out"],font:[g0e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[tu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[tu],shadow:[tu],spacing:["px",Zt],text:[tu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qh,ct,ut,v]}],container:["container"],columns:[{columns:[Zt,ct,ut,o]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),ct,ut]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Gf,"auto",ut,ct]}],basis:[{basis:[Qh,"full","auto",o,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Zt,Qh,"auto","initial","none",ct]}],grow:[{grow:["",Zt,ut,ct]}],shrink:[{shrink:["",Zt,ut,ct]}],order:[{order:[Gf,"first","last","none",ut,ct]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...F(),"baseline"]}],"align-self":[{self:["auto",...F(),"baseline"]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[o,"screen",...q()]}],"min-w":[{"min-w":[o,"screen","none",...q()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...q()]}],h:[{h:["screen",...q()]}],"min-h":[{"min-h":["screen","none",...q()]}],"max-h":[{"max-h":["screen",...q()]}],"font-size":[{text:["base",n,t_,Kf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ut,IC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",b8,ct]}],"font-family":[{font:[_0e,ct,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ut,ct]}],"line-clamp":[{"line-clamp":[Zt,"none",ut,IC]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",ut,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ut,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[Zt,"from-font","auto",ut,Kf]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Zt,"auto",ut,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),w0e,y0e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",E0e,v0e]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gf,ut,ct],radial:["",ut,ct],conic:[Gf,ut,ct]},S0e,x0e]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Zt,ut,ct]}],"outline-w":[{outline:["",Zt,t_,Kf]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,T0e,b0e]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",ut,ct,h]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Zt,Kf]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":V()}],opacity:[{opacity:[Zt,ut,ct]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none",ut,ct]}],blur:[{blur:z()}],brightness:[{brightness:[Zt,ut,ct]}],contrast:[{contrast:[Zt,ut,ct]}],"drop-shadow":[{"drop-shadow":["","none",g,ut,ct]}],grayscale:[{grayscale:["",Zt,ut,ct]}],"hue-rotate":[{"hue-rotate":[Zt,ut,ct]}],invert:[{invert:["",Zt,ut,ct]}],saturate:[{saturate:[Zt,ut,ct]}],sepia:[{sepia:["",Zt,ut,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ut,ct]}],"backdrop-blur":[{"backdrop-blur":z()}],"backdrop-brightness":[{"backdrop-brightness":[Zt,ut,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Zt,ut,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Zt,ut,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Zt,ut,ct]}],"backdrop-invert":[{"backdrop-invert":["",Zt,ut,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Zt,ut,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Zt,ut,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Zt,ut,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ut,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Zt,"initial",ut,ct]}],ease:[{ease:["linear","initial",b,ut,ct]}],delay:[{delay:[Zt,ut,ct]}],animate:[{animate:["none",E,ut,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ut,ct]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[ut,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut,ct]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Zt,t_,Kf,IC]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},I0e=a0e(R0e);function Lt(...t){return I0e(Pt(t))}const D0e=Nj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Gn({className:t,variant:e,asChild:n=!1,...r}){const i=n?oY:"span";return p.jsx(i,{"data-slot":"badge",className:Lt(D0e({variant:e}),t),...r})}function ei({className:t,...e}){return p.jsx("div",{"data-slot":"card",className:Lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Kd({className:t,...e}){return p.jsx("div",{"data-slot":"card-header",className:Lt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Yd({className:t,...e}){return p.jsx("div",{"data-slot":"card-title",className:Lt("leading-none font-semibold",t),...e})}function Xd({className:t,...e}){return p.jsx("div",{"data-slot":"card-description",className:Lt("text-muted-foreground text-sm",t),...e})}function xi({className:t,...e}){return p.jsx("div",{"data-slot":"card-content",className:Lt("px-6",t),...e})}function Qd({className:t,...e}){return p.jsx("div",{"data-slot":"card-footer",className:Lt("flex items-center px-6 [.border-t]:pt-6",t),...e})}function Js({className:t,type:e,...n}){return p.jsx("input",{type:e,"data-slot":"input",className:Lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const k0e=Nj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function nt({className:t,variant:e,size:n,asChild:r=!1,...i}){const a=r?oY:"button";return p.jsx(a,{"data-slot":"button",className:Lt(k0e({variant:e,size:n,className:t})),...i})}const j0e=Nj("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function nn({className:t,variant:e,...n}){return p.jsx("div",{"data-slot":"alert",role:"alert",className:Lt(j0e({variant:e}),t),...n})}function rn({className:t,...e}){return p.jsx("div",{"data-slot":"alert-description",className:Lt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vY=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>T.createElement("svg",{ref:l,...L0e,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vY("lucide",i),...o},[...s.map(([u,d])=>T.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(F0e,{ref:a,iconNode:e,className:vY(`lucide-${M0e(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rj=gt("Activity",B0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],yp=gt("ArrowRightLeft",$0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0e=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cu=gt("BadgeCheck",V0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=[["path",{d:"M12 11v4",key:"a6ujw6"}],["path",{d:"M14 13h-4",key:"1pl8zg"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M18 6v14",key:"1mu4gy"}],["path",{d:"M6 6v14",key:"1s15cj"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],H0e=gt("BriefcaseMedical",U0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],j1=gt("Building2",z0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],M1=gt("Calendar",q0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]],G0e=gt("ChartColumnBig",W0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ij=gt("Check",K0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],i0=gt("ChevronDown",Y0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L1=gt("ChevronLeft",X0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],F1=gt("ChevronRight",Q0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ax=gt("ChevronUp",Z0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ti=gt("CircleAlert",J0e);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ege=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tI=gt("CircleCheckBig",ege);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DC=gt("CircleCheck",tge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],rge=gt("CirclePlus",nge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ige=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],age=gt("CircleUser",ige);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oge=gt("Circle",sge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lge=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],cge=gt("ClipboardList",lge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uge=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M9 14h6",key:"159ibu"}],["path",{d:"M12 17v-6",key:"1y8rbf"}]],fge=gt("ClipboardPlus",uge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dge=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],_8=gt("Clipboard",dge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ip=gt("Clock",hge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pge=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],w8=gt("Download",pge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mge=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gge=gt("ExternalLink",mge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vge=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yY=gt("FileText",vge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yge=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],xge=gt("File",yge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bge=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ru=gt("Funnel",bge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ge=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wge=gt("History",_ge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ege=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Sge=gt("House",Ege);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Dj=gt("Info",Tge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Age=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kC=gt("LoaderCircle",Age);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cge=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nge=gt("Lock",Cge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oge=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Pge=gt("LogOut",Oge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ige=gt("Mail",Rge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]],E8=gt("MessageSquareText",Dge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kge=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],xY=gt("PhoneCall",kge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jge=[["path",{d:"M18 11h-4a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h4",key:"17ldeb"}],["path",{d:"M6 7v13a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7",key:"nc37y6"}],["rect",{width:"16",height:"5",x:"4",y:"2",rx:"1",key:"3jeezo"}]],Mge=gt("PillBottle",jge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lge=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Ed=gt("Pill",Lge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],a0=gt("Plus",Fge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$ge=gt("RefreshCw",Bge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nS=gt("Save",Vge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],nI=gt("Search",Uge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hge=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],zge=gt("SendHorizontal",Hge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Wge=gt("ShieldAlert",qge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gge=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],tm=gt("Stethoscope",Gge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Yge=gt("Tag",Kge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xge=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],rS=gt("Trash",Xge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qge=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vv=gt("TriangleAlert",Qge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zge=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nm=gt("UserPlus",Zge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eve=gt("User",Jge);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],s0=gt("Users",tve);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],bY=gt("Video",nve);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rve=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],od=gt("X",rve),ive=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,a]=T.useState(""),[s,o]=T.useState(!1),l=vk(),u=Mu(),d=async h=>{h.preventDefault(),a(""),o(!0);try{const y=(await efe(u,t,n)).user,_=hn(st,"users",y.uid),v=await ar(_);if(!v.exists())throw new Error("User data not found");const b=v.data();localStorage.setItem("userRole",b.role),localStorage.setItem("userName",b.name),localStorage.setItem("userEmail",b.email),l("/dashboard")}catch(g){console.error("Login error:",g),a(g.message||"Failed to log in. Please check your credentials.")}finally{o(!1)}};return p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"w-full max-w-lg px-4 mt-16",children:p.jsxs(ei,{className:"shadow-xl border-indigo-200 overflow-hidden",children:[p.jsxs(Kd,{className:"space-y-1 bg-gradient-to-r from-indigo-700 to-purple-600 text-white",children:[p.jsx(Yd,{className:"text-2xl font-bold text-center",children:"Login"}),p.jsx(Xd,{className:"text-center text-indigo-100",children:"Enter your credentials to access the consultation management system"})]}),p.jsx(xi,{className:"p-6 space-y-6 bg-white",children:p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ige,{className:"h-4 w-4 text-indigo-500 mr-2"}),p.jsx("label",{className:"text-sm font-medium text-indigo-900",children:"Email"})]}),p.jsx(Js,{type:"email",placeholder:"Enter your email",required:!0,value:t,onChange:h=>e(h.target.value),className:"border-indigo-200 focus:border-indigo-400 focus:ring-indigo-300"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Nge,{className:"h-4 w-4 text-indigo-500 mr-2"}),p.jsx("label",{className:"text-sm font-medium text-indigo-900",children:"Password"})]}),p.jsx(Js,{type:"password",placeholder:"Enter your password",required:!0,value:n,onChange:h=>r(h.target.value),className:"border-indigo-200 focus:border-indigo-400 focus:ring-indigo-300"})]}),i&&p.jsxs(nn,{variant:"destructive",className:"bg-red-50 border-red-200",children:[p.jsx(Ti,{className:"h-4 w-4 text-red-600 mr-2"}),p.jsx(rn,{className:"text-red-800",children:i})]}),p.jsx(nt,{type:"submit",className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",disabled:s,children:s?p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Log In"})]})}),p.jsx(Qd,{className:"bg-indigo-50 p-4 border-t border-indigo-100",children:p.jsx("p",{className:"text-sm text-center w-full text-indigo-600",children:"Secure login portal for healthcare professionals"})})]})})})};function S8(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ave(t,e){const n=T.createContext(e),r=a=>{const{children:s,...o}=a,l=T.useMemo(()=>o,Object.values(o));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(a){const s=T.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function mc(t,e=[]){let n=[];function r(a,s){const o=T.createContext(s),l=n.length;n=[...n,s];const u=h=>{var E;const{scope:g,children:y,..._}=h,v=((E=g==null?void 0:g[t])==null?void 0:E[l])||o,b=T.useMemo(()=>_,Object.values(_));return p.jsx(v.Provider,{value:b,children:y})};u.displayName=a+"Provider";function d(h,g){var v;const y=((v=g==null?void 0:g[t])==null?void 0:v[l])||o,_=T.useContext(y);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(s=>T.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,sve(i,...e)]}function sve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:u})=>{const h=l(a)[`__scope${u}`];return{...o,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function T8(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sx(...t){return e=>{let n=!1;const r=t.map(i=>{const a=T8(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():T8(t[i],null)}}}}function or(...t){return T.useCallback(sx(...t),t)}var rI=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),a=i.find(lve);if(a){const s=a.props.children,o=i.map(l=>l===a?T.Children.count(s)>1?T.Children.only(null):T.isValidElement(s)?s.props.children:null:l);return p.jsx(iI,{...r,ref:e,children:T.isValidElement(s)?T.cloneElement(s,void 0,o):null})}return p.jsx(iI,{...r,ref:e,children:n})});rI.displayName="Slot";var iI=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=uve(n),a=cve(r,n.props);return n.type!==T.Fragment&&(a.ref=e?sx(e,i):i),T.cloneElement(n,a)}return T.Children.count(n)>1?T.Children.only(null):null});iI.displayName="SlotClone";var ove=({children:t})=>p.jsx(p.Fragment,{children:t});function lve(t){return T.isValidElement(t)&&t.type===ove}function cve(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function uve(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _Y(t){const e=t+"CollectionProvider",[n,r]=mc(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=y=>{const{scope:_,children:v}=y,b=ae.useRef(null),E=ae.useRef(new Map).current;return p.jsx(i,{scope:_,itemMap:E,collectionRef:b,children:v})};s.displayName=e;const o=t+"CollectionSlot",l=ae.forwardRef((y,_)=>{const{scope:v,children:b}=y,E=a(o,v),N=or(_,E.collectionRef);return p.jsx(rI,{ref:N,children:b})});l.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=ae.forwardRef((y,_)=>{const{scope:v,children:b,...E}=y,N=ae.useRef(null),C=or(_,N),k=a(u,v);return ae.useEffect(()=>(k.itemMap.set(N,{ref:N,...E}),()=>void k.itemMap.delete(N))),p.jsx(rI,{[d]:"",ref:C,children:b})});h.displayName=u;function g(y){const _=a(t+"CollectionConsumer",y);return ae.useCallback(()=>{const b=_.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((k,O)=>E.indexOf(k.ref.current)-E.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},g,r]}var fve=T.createContext(void 0);function iS(t){const e=T.useContext(fve);return t||e||"ltr"}var wY=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),a=i.find(hve);if(a){const s=a.props.children,o=i.map(l=>l===a?T.Children.count(s)>1?T.Children.only(null):T.isValidElement(s)?s.props.children:null:l);return p.jsx(aI,{...r,ref:e,children:T.isValidElement(s)?T.cloneElement(s,void 0,o):null})}return p.jsx(aI,{...r,ref:e,children:n})});wY.displayName="Slot";var aI=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=mve(n),a=pve(r,n.props);return n.type!==T.Fragment&&(a.ref=e?sx(e,i):i),T.cloneElement(n,a)}return T.Children.count(n)>1?T.Children.only(null):null});aI.displayName="SlotClone";var dve=({children:t})=>p.jsx(p.Fragment,{children:t});function hve(t){return T.isValidElement(t)&&t.type===dve}function pve(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function mve(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qt=gve.reduce((t,e)=>{const n=T.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?wY:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vve(t,e){t&&$d.flushSync(()=>t.dispatchEvent(e))}function Zo(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function yve(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xve="DismissableLayer",sI="dismissableLayer.update",bve="dismissableLayer.pointerDownOutside",_ve="dismissableLayer.focusOutside",A8,EY=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kj=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,u=T.useContext(EY),[d,h]=T.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=T.useState({}),_=or(e,A=>h(A)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(b),N=d?v.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=E,O=Sve(A=>{const R=A.target,D=[...u.branches].some(L=>L.contains(R));!k||D||(i==null||i(A),s==null||s(A),A.defaultPrevented||o==null||o())},g),I=Tve(A=>{const R=A.target;[...u.branches].some(L=>L.contains(R))||(a==null||a(A),s==null||s(A),A.defaultPrevented||o==null||o())},g);return yve(A=>{N===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},g),T.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(A8=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),C8(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=A8)}},[d,g,n,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),C8())},[d,u]),T.useEffect(()=>{const A=()=>y({});return document.addEventListener(sI,A),()=>document.removeEventListener(sI,A)},[]),p.jsx(qt.div,{...l,ref:_,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:Ht(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Ht(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ht(t.onPointerDownCapture,O.onPointerDownCapture)})});kj.displayName=xve;var wve="DismissableLayerBranch",Eve=T.forwardRef((t,e)=>{const n=T.useContext(EY),r=T.useRef(null),i=or(e,r);return T.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),p.jsx(qt.div,{...t,ref:i})});Eve.displayName=wve;function Sve(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){SY(bve,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Tve(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t),r=T.useRef(!1);return T.useEffect(()=>{const i=a=>{a.target&&!r.current&&SY(_ve,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function C8(){const t=new CustomEvent(sI);document.dispatchEvent(t)}function SY(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?vve(i,a):i.dispatchEvent(a)}var jC=0;function TY(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??N8()),document.body.insertAdjacentElement("beforeend",t[1]??N8()),jC++,()=>{jC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jC--}},[])}function N8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var MC="focusScope.autoFocusOnMount",LC="focusScope.autoFocusOnUnmount",O8={bubbles:!1,cancelable:!0},Ave="FocusScope",jj=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=T.useState(null),u=Zo(i),d=Zo(a),h=T.useRef(null),g=or(e,v=>l(v)),y=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let v=function(C){if(y.paused||!o)return;const k=C.target;o.contains(k)?h.current=k:iu(h.current,{select:!0})},b=function(C){if(y.paused||!o)return;const k=C.relatedTarget;k!==null&&(o.contains(k)||iu(h.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&iu(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const N=new MutationObserver(E);return o&&N.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),N.disconnect()}}},[r,o,y.paused]),T.useEffect(()=>{if(o){R8.add(y);const v=document.activeElement;if(!o.contains(v)){const E=new CustomEvent(MC,O8);o.addEventListener(MC,u),o.dispatchEvent(E),E.defaultPrevented||(Cve(Ive(AY(o)),{select:!0}),document.activeElement===v&&iu(o))}return()=>{o.removeEventListener(MC,u),setTimeout(()=>{const E=new CustomEvent(LC,O8);o.addEventListener(LC,d),o.dispatchEvent(E),E.defaultPrevented||iu(v??document.body,{select:!0}),o.removeEventListener(LC,d),R8.remove(y)},0)}}},[o,u,d,y]);const _=T.useCallback(v=>{if(!n&&!r||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(b&&E){const N=v.currentTarget,[C,k]=Nve(N);C&&k?!v.shiftKey&&E===k?(v.preventDefault(),n&&iu(C,{select:!0})):v.shiftKey&&E===C&&(v.preventDefault(),n&&iu(k,{select:!0})):E===N&&v.preventDefault()}},[n,r,y.paused]);return p.jsx(qt.div,{tabIndex:-1,...s,ref:g,onKeyDown:_})});jj.displayName=Ave;function Cve(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(iu(r,{select:e}),document.activeElement!==n)return}function Nve(t){const e=AY(t),n=P8(e,t),r=P8(e.reverse(),t);return[n,r]}function AY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function P8(t,e){for(const n of t)if(!Ove(n,{upTo:e}))return n}function Ove(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Pve(t){return t instanceof HTMLInputElement&&"select"in t}function iu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Pve(t)&&e&&t.select()}}var R8=Rve();function Rve(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=I8(t,e),t.unshift(e)},remove(e){var n;t=I8(t,e),(n=t[0])==null||n.resume()}}}function I8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Ive(t){return t.filter(e=>e.tagName!=="A")}var ya=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Dve=Cv.useId||(()=>{}),kve=0;function Nu(t){const[e,n]=T.useState(Dve());return ya(()=>{n(r=>r??String(kve++))},[t]),t||(e?`radix-${e}`:"")}const jve=["top","right","bottom","left"],Hu=Math.min,qa=Math.max,B1=Math.round,n_=Math.floor,Go=t=>({x:t,y:t}),Mve={left:"right",right:"left",bottom:"top",top:"bottom"},Lve={start:"end",end:"start"};function oI(t,e,n){return qa(t,Hu(e,n))}function nc(t,e){return typeof t=="function"?t(e):t}function rc(t){return t.split("-")[0]}function o0(t){return t.split("-")[1]}function Mj(t){return t==="x"?"y":"x"}function Lj(t){return t==="y"?"height":"width"}function zu(t){return["top","bottom"].includes(rc(t))?"y":"x"}function Fj(t){return Mj(zu(t))}function Fve(t,e,n){n===void 0&&(n=!1);const r=o0(t),i=Fj(t),a=Lj(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=$1(s)),[s,$1(s)]}function Bve(t){const e=$1(t);return[lI(t),e,lI(e)]}function lI(t){return t.replace(/start|end/g,e=>Lve[e])}function $ve(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function Vve(t,e,n,r){const i=o0(t);let a=$ve(rc(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(lI)))),a}function $1(t){return t.replace(/left|right|bottom|top/g,e=>Mve[e])}function Uve(t){return{top:0,right:0,bottom:0,left:0,...t}}function CY(t){return typeof t!="number"?Uve(t):{top:t,right:t,bottom:t,left:t}}function V1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function D8(t,e,n){let{reference:r,floating:i}=t;const a=zu(e),s=Fj(e),o=Lj(s),l=rc(e),u=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,g=r[o]/2-i[o]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(o0(e)){case"start":y[s]-=g*(n&&u?-1:1);break;case"end":y[s]+=g*(n&&u?-1:1);break}return y}const Hve=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=D8(u,r,l),g=r,y={},_=0;for(let v=0;v<o.length;v++){const{name:b,fn:E}=o[v],{x:N,y:C,data:k,reset:O}=await E({x:d,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:u,platform:s,elements:{reference:t,floating:e}});d=N??d,h=C??h,y={...y,[b]:{...y[b],...k}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(u=O.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=D8(u,g,l)),v=-1)}return{x:d,y:h,placement:g,strategy:i,middlewareData:y}};async function Uv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:y=0}=nc(e,t),_=CY(y),b=o[g?h==="floating"?"reference":"floating":h],E=V1(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),N=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),k=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},O=V1(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:N,offsetParent:C,strategy:l}):N);return{top:(E.top-O.top+_.top)/k.y,bottom:(O.bottom-E.bottom+_.bottom)/k.y,left:(E.left-O.left+_.left)/k.x,right:(O.right-E.right+_.right)/k.x}}const zve=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=nc(t,e)||{};if(u==null)return{};const h=CY(d),g={x:n,y:r},y=Fj(i),_=Lj(y),v=await s.getDimensions(u),b=y==="y",E=b?"top":"left",N=b?"bottom":"right",C=b?"clientHeight":"clientWidth",k=a.reference[_]+a.reference[y]-g[y]-a.floating[_],O=g[y]-a.reference[y],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let A=I?I[C]:0;(!A||!await(s.isElement==null?void 0:s.isElement(I)))&&(A=o.floating[C]||a.floating[_]);const R=k/2-O/2,D=A/2-v[_]/2-1,L=Hu(h[E],D),j=Hu(h[N],D),B=L,F=A-v[_]-j,re=A/2-v[_]/2+R,q=oI(B,re,F),V=!l.arrow&&o0(i)!=null&&re!==q&&a.reference[_]/2-(re<B?L:j)-v[_]/2<0,X=V?re<B?re-B:re-F:0;return{[y]:g[y]+X,data:{[y]:q,centerOffset:re-q-X,...V&&{alignmentOffset:X}},reset:V}}}),qve=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...b}=nc(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const E=rc(i),N=zu(o),C=rc(o)===o,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=g||(C||!v?[$1(o)]:Bve(o)),I=_!=="none";!g&&I&&O.push(...Vve(o,v,_,k));const A=[o,...O],R=await Uv(e,b),D=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&D.push(R[E]),h){const re=Fve(i,s,k);D.push(R[re[0]],R[re[1]])}if(L=[...L,{placement:i,overflows:D}],!D.every(re=>re<=0)){var j,B;const re=(((j=a.flip)==null?void 0:j.index)||0)+1,q=A[re];if(q)return{data:{index:re,overflows:L},reset:{placement:q}};let V=(B=L.filter(X=>X.overflows[0]<=0).sort((X,Q)=>X.overflows[1]-Q.overflows[1])[0])==null?void 0:B.placement;if(!V)switch(y){case"bestFit":{var F;const X=(F=L.filter(Q=>{if(I){const ie=zu(Q.placement);return ie===N||ie==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ie=>ie>0).reduce((ie,W)=>ie+W,0)]).sort((Q,ie)=>Q[1]-ie[1])[0])==null?void 0:F[0];X&&(V=X);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function k8(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j8(t){return jve.some(e=>t[e]>=0)}const Wve=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=nc(t,e);switch(r){case"referenceHidden":{const a=await Uv(e,{...i,elementContext:"reference"}),s=k8(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:j8(s)}}}case"escaped":{const a=await Uv(e,{...i,altBoundary:!0}),s=k8(a,n.floating);return{data:{escapedOffsets:s,escaped:j8(s)}}}default:return{}}}}};async function Gve(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=rc(n),o=o0(n),l=zu(n)==="y",u=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,h=nc(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof _=="number"&&(y=o==="end"?_*-1:_),l?{x:y*d,y:g*u}:{x:g*u,y:y*d}}const Kve=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await Gve(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},Yve=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:b=>{let{x:E,y:N}=b;return{x:E,y:N}}},...l}=nc(t,e),u={x:n,y:r},d=await Uv(e,l),h=zu(rc(i)),g=Mj(h);let y=u[g],_=u[h];if(a){const b=g==="y"?"top":"left",E=g==="y"?"bottom":"right",N=y+d[b],C=y-d[E];y=oI(N,y,C)}if(s){const b=h==="y"?"top":"left",E=h==="y"?"bottom":"right",N=_+d[b],C=_-d[E];_=oI(N,_,C)}const v=o.fn({...e,[g]:y,[h]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[g]:a,[h]:s}}}}}},Xve=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=nc(t,e),d={x:n,y:r},h=zu(i),g=Mj(h);let y=d[g],_=d[h];const v=nc(o,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const C=g==="y"?"height":"width",k=a.reference[g]-a.floating[C]+b.mainAxis,O=a.reference[g]+a.reference[C]-b.mainAxis;y<k?y=k:y>O&&(y=O)}if(u){var E,N;const C=g==="y"?"width":"height",k=["top","left"].includes(rc(i)),O=a.reference[h]-a.floating[C]+(k&&((E=s.offset)==null?void 0:E[h])||0)+(k?0:b.crossAxis),I=a.reference[h]+a.reference[C]+(k?0:((N=s.offset)==null?void 0:N[h])||0)-(k?b.crossAxis:0);_<O?_=O:_>I&&(_=I)}return{[g]:y,[h]:_}}}},Qve=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...u}=nc(t,e),d=await Uv(e,u),h=rc(i),g=o0(i),y=zu(i)==="y",{width:_,height:v}=a.floating;let b,E;h==="top"||h==="bottom"?(b=h,E=g===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(E=h,b=g==="end"?"top":"bottom");const N=v-d.top-d.bottom,C=_-d.left-d.right,k=Hu(v-d[b],N),O=Hu(_-d[E],C),I=!e.middlewareData.shift;let A=k,R=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=N),I&&!g){const L=qa(d.left,0),j=qa(d.right,0),B=qa(d.top,0),F=qa(d.bottom,0);y?R=_-2*(L!==0||j!==0?L+j:qa(d.left,d.right)):A=v-2*(B!==0||F!==0?B+F:qa(d.top,d.bottom))}await l({...e,availableWidth:R,availableHeight:A});const D=await s.getDimensions(o.floating);return _!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function aS(){return typeof window<"u"}function l0(t){return NY(t)?(t.nodeName||"").toLowerCase():"#document"}function Ja(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function il(t){var e;return(e=(NY(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NY(t){return aS()?t instanceof Node||t instanceof Ja(t).Node:!1}function ho(t){return aS()?t instanceof Element||t instanceof Ja(t).Element:!1}function Jo(t){return aS()?t instanceof HTMLElement||t instanceof Ja(t).HTMLElement:!1}function M8(t){return!aS()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ja(t).ShadowRoot}function ox(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=po(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Zve(t){return["table","td","th"].includes(l0(t))}function sS(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Bj(t){const e=$j(),n=ho(t)?po(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Jve(t){let e=qu(t);for(;Jo(e)&&!rm(e);){if(Bj(e))return e;if(sS(e))return null;e=qu(e)}return null}function $j(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rm(t){return["html","body","#document"].includes(l0(t))}function po(t){return Ja(t).getComputedStyle(t)}function oS(t){return ho(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qu(t){if(l0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||M8(t)&&t.host||il(t);return M8(e)?e.host:e}function OY(t){const e=qu(t);return rm(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jo(e)&&ox(e)?e:OY(e)}function Hv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=OY(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ja(i);if(a){const o=cI(s);return e.concat(s,s.visualViewport||[],ox(i)?i:[],o&&n?Hv(o):[])}return e.concat(i,Hv(i,[],n))}function cI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PY(t){const e=po(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jo(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=B1(n)!==a||B1(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function Vj(t){return ho(t)?t:t.contextElement}function Dp(t){const e=Vj(t);if(!Jo(e))return Go(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=PY(e);let s=(a?B1(n.width):n.width)/r,o=(a?B1(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const eye=Go(0);function RY(t){const e=Ja(t);return!$j()||!e.visualViewport?eye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ja(t)?!1:e}function Sd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Vj(t);let s=Go(1);e&&(r?ho(r)&&(s=Dp(r)):s=Dp(t));const o=tye(a,n,r)?RY(a):Go(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(a){const g=Ja(a),y=r&&ho(r)?Ja(r):r;let _=g,v=cI(_);for(;v&&r&&y!==_;){const b=Dp(v),E=v.getBoundingClientRect(),N=po(v),C=E.left+(v.clientLeft+parseFloat(N.paddingLeft))*b.x,k=E.top+(v.clientTop+parseFloat(N.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=C,u+=k,_=Ja(v),v=cI(_)}}return V1({width:d,height:h,x:l,y:u})}function Uj(t,e){const n=oS(t).scrollLeft;return e?e.left+n:Sd(il(t)).left+n}function IY(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Uj(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function nye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=il(r),o=e?sS(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},u=Go(1);const d=Go(0),h=Jo(r);if((h||!h&&!a)&&((l0(r)!=="body"||ox(s))&&(l=oS(r)),Jo(r))){const y=Sd(r);u=Dp(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=s&&!h&&!a?IY(s,l,!0):Go(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-l.scrollTop*u.y+d.y+g.y}}function rye(t){return Array.from(t.getClientRects())}function iye(t){const e=il(t),n=oS(t),r=t.ownerDocument.body,i=qa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=qa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Uj(t);const o=-n.scrollTop;return po(r).direction==="rtl"&&(s+=qa(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function aye(t,e){const n=Ja(t),r=il(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=$j();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function sye(t,e){const n=Sd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Jo(t)?Dp(t):Go(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=r*a.y;return{width:s,height:o,x:l,y:u}}function L8(t,e,n){let r;if(e==="viewport")r=aye(t,n);else if(e==="document")r=iye(il(t));else if(ho(e))r=sye(e,n);else{const i=RY(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return V1(r)}function DY(t,e){const n=qu(t);return n===e||!ho(n)||rm(n)?!1:po(n).position==="fixed"||DY(n,e)}function oye(t,e){const n=e.get(t);if(n)return n;let r=Hv(t,[],!1).filter(o=>ho(o)&&l0(o)!=="body"),i=null;const a=po(t).position==="fixed";let s=a?qu(t):t;for(;ho(s)&&!rm(s);){const o=po(s),l=Bj(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ox(s)&&!l&&DY(t,s))?r=r.filter(d=>d!==s):i=o,s=qu(s)}return e.set(t,r),r}function lye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?sS(e)?[]:oye(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((u,d)=>{const h=L8(e,d,i);return u.top=qa(h.top,u.top),u.right=Hu(h.right,u.right),u.bottom=Hu(h.bottom,u.bottom),u.left=qa(h.left,u.left),u},L8(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cye(t){const{width:e,height:n}=PY(t);return{width:e,height:n}}function uye(t,e,n){const r=Jo(e),i=il(e),a=n==="fixed",s=Sd(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=Go(0);if(r||!r&&!a)if((l0(e)!=="body"||ox(i))&&(o=oS(e)),r){const g=Sd(e,!0,a,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Uj(i));const u=i&&!r&&!a?IY(i,o):Go(0),d=s.left+o.scrollLeft-l.x-u.x,h=s.top+o.scrollTop-l.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function FC(t){return po(t).position==="static"}function F8(t,e){if(!Jo(t)||po(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return il(t)===n&&(n=n.ownerDocument.body),n}function kY(t,e){const n=Ja(t);if(sS(t))return n;if(!Jo(t)){let i=qu(t);for(;i&&!rm(i);){if(ho(i)&&!FC(i))return i;i=qu(i)}return n}let r=F8(t,e);for(;r&&Zve(r)&&FC(r);)r=F8(r,e);return r&&rm(r)&&FC(r)&&!Bj(r)?n:r||Jve(t)||n}const fye=async function(t){const e=this.getOffsetParent||kY,n=this.getDimensions,r=await n(t.floating);return{reference:uye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dye(t){return po(t).direction==="rtl"}const hye={convertOffsetParentRelativeRectToViewportRelativeRect:nye,getDocumentElement:il,getClippingRect:lye,getOffsetParent:kY,getElementRects:fye,getClientRects:rye,getDimensions:cye,getScale:Dp,isElement:ho,isRTL:dye};function jY(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pye(t,e){let n=null,r;const i=il(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:g,height:y}=u;if(o||e(),!g||!y)return;const _=n_(h),v=n_(i.clientWidth-(d+g)),b=n_(i.clientHeight-(h+y)),E=n_(d),C={rootMargin:-_+"px "+-v+"px "+-b+"px "+-E+"px",threshold:qa(0,Hu(1,l))||1};let k=!0;function O(I){const A=I[0].intersectionRatio;if(A!==l){if(!k)return s();A?s(!1,A):r=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!jY(u,t.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(O,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(t)}return s(!0),a}function Hj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Vj(t),d=i||a?[...u?Hv(u):[],...Hv(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),a&&E.addEventListener("resize",n)});const h=u&&o?pye(u,n):null;let g=-1,y=null;s&&(y=new ResizeObserver(E=>{let[N]=E;N&&N.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let _,v=l?Sd(t):null;l&&b();function b(){const E=Sd(t);v&&!jY(v,E)&&n(),v=E,_=requestAnimationFrame(b)}return n(),()=>{var E;d.forEach(N=>{i&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),h==null||h(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(_)}}const mye=Kve,gye=Yve,vye=qve,yye=Qve,xye=Wve,B8=zve,bye=Xve,_ye=(t,e,n)=>{const r=new Map,i={platform:hye,...n},a={...i.platform,_c:r};return Hve(t,e,{...i,platform:a})};var r1=typeof document<"u"?T.useLayoutEffect:T.useEffect;function U1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!U1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!U1(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function MY(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $8(t,e){const n=MY(t);return Math.round(e*n)/n}function BC(t){const e=T.useRef(t);return r1(()=>{e.current=t}),e}function LY(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,h]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=T.useState(r);U1(g,r)||y(r);const[_,v]=T.useState(null),[b,E]=T.useState(null),N=T.useCallback(Q=>{Q!==I.current&&(I.current=Q,v(Q))},[]),C=T.useCallback(Q=>{Q!==A.current&&(A.current=Q,E(Q))},[]),k=a||_,O=s||b,I=T.useRef(null),A=T.useRef(null),R=T.useRef(d),D=l!=null,L=BC(l),j=BC(i),B=BC(u),F=T.useCallback(()=>{if(!I.current||!A.current)return;const Q={placement:e,strategy:n,middleware:g};j.current&&(Q.platform=j.current),_ye(I.current,A.current,Q).then(ie=>{const W={...ie,isPositioned:B.current!==!1};re.current&&!U1(R.current,W)&&(R.current=W,$d.flushSync(()=>{h(W)}))})},[g,e,n,j,B]);r1(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(Q=>({...Q,isPositioned:!1})))},[u]);const re=T.useRef(!1);r1(()=>(re.current=!0,()=>{re.current=!1}),[]),r1(()=>{if(k&&(I.current=k),O&&(A.current=O),k&&O){if(L.current)return L.current(k,O,F);F()}},[k,O,F,L,D]);const q=T.useMemo(()=>({reference:I,floating:A,setReference:N,setFloating:C}),[N,C]),V=T.useMemo(()=>({reference:k,floating:O}),[k,O]),X=T.useMemo(()=>{const Q={position:n,left:0,top:0};if(!V.floating)return Q;const ie=$8(V.floating,d.x),W=$8(V.floating,d.y);return o?{...Q,transform:"translate("+ie+"px, "+W+"px)",...MY(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ie,top:W}},[n,o,V.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:F,refs:q,elements:V,floatingStyles:X}),[d,F,q,V,X])}const wye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?B8({element:r.current,padding:i}).fn(n):{}:r?B8({element:r,padding:i}).fn(n):{}}}},FY=(t,e)=>({...mye(t),options:[t,e]}),BY=(t,e)=>({...gye(t),options:[t,e]}),$Y=(t,e)=>({...bye(t),options:[t,e]}),VY=(t,e)=>({...vye(t),options:[t,e]}),UY=(t,e)=>({...yye(t),options:[t,e]}),HY=(t,e)=>({...xye(t),options:[t,e]}),zY=(t,e)=>({...wye(t),options:[t,e]});var Eye="Arrow",qY=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return p.jsx(qt.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});qY.displayName=Eye;var Sye=qY;function zj(t){const[e,n]=T.useState(void 0);return ya(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qj="Popper",[WY,GY]=mc(qj),[Tye,KY]=WY(qj),YY=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return p.jsx(Tye,{scope:e,anchor:r,onAnchorChange:i,children:n})};YY.displayName=qj;var XY="PopperAnchor",QY=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=KY(XY,n),s=T.useRef(null),o=or(e,s);return T.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(qt.div,{...i,ref:o})});QY.displayName=XY;var Wj="PopperContent",[Aye,Cye]=WY(Wj),ZY=T.forwardRef((t,e)=>{var pe,ye,de,he,Ce,me;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:_,...v}=t,b=KY(Wj,n),[E,N]=T.useState(null),C=or(e,Ue=>N(Ue)),[k,O]=T.useState(null),I=zj(k),A=(I==null?void 0:I.width)??0,R=(I==null?void 0:I.height)??0,D=r+(a!=="center"?"-"+a:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],B=j.length>0,F={padding:L,boundary:j.filter(Oye),altBoundary:B},{refs:re,floatingStyles:q,placement:V,isPositioned:X,middlewareData:Q}=LY({strategy:"fixed",placement:D,whileElementsMounted:(...Ue)=>Hj(...Ue,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[FY({mainAxis:i+R,alignmentAxis:s}),l&&BY({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?$Y():void 0,...F}),l&&VY({...F}),UY({...F,apply:({elements:Ue,rects:$e,availableWidth:Je,availableHeight:it})=>{const{width:Fe,height:Rt}=$e.reference,Ft=Ue.floating.style;Ft.setProperty("--radix-popper-available-width",`${Je}px`),Ft.setProperty("--radix-popper-available-height",`${it}px`),Ft.setProperty("--radix-popper-anchor-width",`${Fe}px`),Ft.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),k&&zY({element:k,padding:o}),Pye({arrowWidth:A,arrowHeight:R}),g&&HY({strategy:"referenceHidden",...F})]}),[ie,W]=tX(V),ce=Zo(_);ya(()=>{X&&(ce==null||ce())},[X,ce]);const z=(pe=Q.arrow)==null?void 0:pe.x,Y=(ye=Q.arrow)==null?void 0:ye.y,K=((de=Q.arrow)==null?void 0:de.centerOffset)!==0,[J,fe]=T.useState();return ya(()=>{E&&fe(window.getComputedStyle(E).zIndex)},[E]),p.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:X?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(he=Q.transformOrigin)==null?void 0:he.x,(Ce=Q.transformOrigin)==null?void 0:Ce.y].join(" "),...((me=Q.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(Aye,{scope:n,placedSide:ie,onArrowChange:O,arrowX:z,arrowY:Y,shouldHideArrow:K,children:p.jsx(qt.div,{"data-side":ie,"data-align":W,...v,ref:C,style:{...v.style,animation:X?void 0:"none"}})})})});ZY.displayName=Wj;var JY="PopperArrow",Nye={top:"bottom",right:"left",bottom:"top",left:"right"},eX=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Cye(JY,r),s=Nye[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(Sye,{...i,ref:n,style:{...i.style,display:"block"}})})});eX.displayName=JY;function Oye(t){return t!==null}var Pye=t=>({name:"transformOrigin",options:t,fn(e){var b,E,N;const{placement:n,rects:r,middlewareData:i}=e,s=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=tX(n),h={start:"0%",center:"50%",end:"100%"}[d],g=(((E=i.arrow)==null?void 0:E.x)??0)+o/2,y=(((N=i.arrow)==null?void 0:N.y)??0)+l/2;let _="",v="";return u==="bottom"?(_=s?h:`${g}px`,v=`${-l}px`):u==="top"?(_=s?h:`${g}px`,v=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,v=s?h:`${y}px`):u==="left"&&(_=`${r.floating.width+l}px`,v=s?h:`${y}px`),{data:{x:_,y:v}}}});function tX(t){const[e,n="center"]=t.split("-");return[e,n]}var Rye=YY,Iye=QY,Dye=ZY,kye=eX,jye="Portal",Gj=T.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,a]=T.useState(!1);ya(()=>a(!0),[]);const s=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?NW.createPortal(p.jsx(qt.div,{...r,ref:e}),s):null});Gj.displayName=jye;var nX=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),a=i.find(Lye);if(a){const s=a.props.children,o=i.map(l=>l===a?T.Children.count(s)>1?T.Children.only(null):T.isValidElement(s)?s.props.children:null:l);return p.jsx(uI,{...r,ref:e,children:T.isValidElement(s)?T.cloneElement(s,void 0,o):null})}return p.jsx(uI,{...r,ref:e,children:n})});nX.displayName="Slot";var uI=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=Bye(n),a=Fye(r,n.props);return n.type!==T.Fragment&&(a.ref=e?sx(e,i):i),T.cloneElement(n,a)}return T.Children.count(n)>1?T.Children.only(null):null});uI.displayName="SlotClone";var Mye=({children:t})=>p.jsx(p.Fragment,{children:t});function Lye(t){return T.isValidElement(t)&&t.type===Mye}function Fye(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Bye(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Td({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=$ye({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=Zo(n),l=T.useCallback(u=>{if(a){const h=typeof u=="function"?u(t):u;h!==t&&o(h)}else i(u)},[a,t,i,o]);return[s,l]}function $ye({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,i=T.useRef(r),a=Zo(e);return T.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}function Kj(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Vye="VisuallyHidden",rX=T.forwardRef((t,e)=>p.jsx(qt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));rX.displayName=Vye;var Uye=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zh=new WeakMap,r_=new WeakMap,i_={},$C=0,iX=function(t){return t&&(t.host||iX(t.parentNode))},Hye=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iX(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zye=function(t,e,n,r){var i=Hye(e,Array.isArray(t)?t:[t]);i_[n]||(i_[n]=new WeakMap);var a=i_[n],s=[],o=new Set,l=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(g){if(o.has(g))d(g);else try{var y=g.getAttribute(r),_=y!==null&&y!=="false",v=(Zh.get(g)||0)+1,b=(a.get(g)||0)+1;Zh.set(g,v),a.set(g,b),s.push(g),v===1&&_&&r_.set(g,!0),b===1&&g.setAttribute(n,"true"),_||g.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return d(e),o.clear(),$C++,function(){s.forEach(function(h){var g=Zh.get(h)-1,y=a.get(h)-1;Zh.set(h,g),a.set(h,y),g||(r_.has(h)||h.removeAttribute(r),r_.delete(h)),y||h.removeAttribute(n)}),$C--,$C||(Zh=new WeakMap,Zh=new WeakMap,r_=new WeakMap,i_={})}},Yj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Uye(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),zye(r,i,n,"aria-hidden")):function(){return null}},i1="right-scroll-bar-position",a1="width-before-scroll-bar",qye="with-scroll-bars-hidden",Wye="--removed-body-scroll-bar-size";function VC(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Gye(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Kye=typeof window<"u"?T.useLayoutEffect:T.useEffect,V8=new WeakMap;function Yye(t,e){var n=Gye(null,function(r){return t.forEach(function(i){return VC(i,r)})});return Kye(function(){var r=V8.get(n);if(r){var i=new Set(r),a=new Set(t),s=n.current;i.forEach(function(o){a.has(o)||VC(o,null)}),a.forEach(function(o){i.has(o)||VC(o,s)})}V8.set(n,t)},[t]),n}function Xye(t){return t}function Qye(t,e){e===void 0&&(e=Xye);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function Zye(t){t===void 0&&(t={});var e=Qye(null);return e.options=Fo({async:!0,ssr:!1},t),e}var aX=function(t){var e=t.sideCar,n=Gy(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Fo({},n))};aX.isSideCarExport=!0;function Jye(t,e){return t.useMedium(e),aX}var sX=Zye(),UC=function(){},lS=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:UC,onWheelCapture:UC,onTouchMoveCapture:UC}),i=r[0],a=r[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,g=t.sideCar,y=t.noIsolation,_=t.inert,v=t.allowPinchZoom,b=t.as,E=b===void 0?"div":b,N=t.gapMode,C=Gy(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,O=Yye([n,e]),I=Fo(Fo({},C),i);return T.createElement(T.Fragment,null,d&&T.createElement(k,{sideCar:sX,removeScrollBar:u,shards:h,noIsolation:y,inert:_,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:N}),s?T.cloneElement(T.Children.only(o),Fo(Fo({},I),{ref:O})):T.createElement(E,Fo({},I,{className:l,ref:O}),o))});lS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lS.classNames={fullWidth:a1,zeroRight:i1};var exe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function txe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=exe();return e&&t.setAttribute("nonce",e),t}function nxe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rxe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ixe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=txe())&&(nxe(e,n),rxe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},axe=function(){var t=ixe();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oX=function(){var t=axe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sxe={left:0,top:0,right:0,gap:0},HC=function(t){return parseInt(t||"",10)||0},oxe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[HC(n),HC(r),HC(i)]},lxe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sxe;var e=oxe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cxe=oX(),kp="data-scroll-locked",uxe=function(t,e,n,r){var i=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(qye,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(kp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(i1,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(a1,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(i1," .").concat(i1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(a1," .").concat(a1,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(kp,`] {
    `).concat(Wye,": ").concat(o,`px;
  }
`)},U8=function(){var t=parseInt(document.body.getAttribute(kp)||"0",10);return isFinite(t)?t:0},fxe=function(){T.useEffect(function(){return document.body.setAttribute(kp,(U8()+1).toString()),function(){var t=U8()-1;t<=0?document.body.removeAttribute(kp):document.body.setAttribute(kp,t.toString())}},[])},dxe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;fxe();var a=T.useMemo(function(){return lxe(i)},[i]);return T.createElement(cxe,{styles:uxe(a,!e,i,n?"":"!important")})},fI=!1;if(typeof window<"u")try{var a_=Object.defineProperty({},"passive",{get:function(){return fI=!0,!0}});window.addEventListener("test",a_,a_),window.removeEventListener("test",a_,a_)}catch{fI=!1}var Jh=fI?{passive:!1}:!1,hxe=function(t){return t.tagName==="TEXTAREA"},lX=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hxe(t)&&n[e]==="visible")},pxe=function(t){return lX(t,"overflowY")},mxe=function(t){return lX(t,"overflowX")},H8=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cX(t,r);if(i){var a=uX(t,r),s=a[1],o=a[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gxe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cX=function(t,e){return t==="v"?pxe(e):mxe(e)},uX=function(t,e){return t==="v"?gxe(e):vxe(e)},yxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},xxe=function(t,e,n,r,i){var a=yxe(t,window.getComputedStyle(e).direction),s=a*r,o=n.target,l=e.contains(o),u=!1,d=s>0,h=0,g=0;do{var y=uX(t,o),_=y[0],v=y[1],b=y[2],E=v-b-a*_;(_||E)&&cX(t,o)&&(h+=E,g+=_),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(h)<1||!d&&Math.abs(g)<1)&&(u=!0),u},s_=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},z8=function(t){return[t.deltaX,t.deltaY]},q8=function(t){return t&&"current"in t?t.current:t},bxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_xe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wxe=0,ep=[];function Exe(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(wxe++)[0],a=T.useState(oX)[0],s=T.useRef(t);T.useEffect(function(){s.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=nue([t.lockRef.current],(t.shards||[]).map(q8),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var E=s_(v),N=n.current,C="deltaX"in v?v.deltaX:N[0]-E[0],k="deltaY"in v?v.deltaY:N[1]-E[1],O,I=v.target,A=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in v&&A==="h"&&I.type==="range")return!1;var R=H8(A,I);if(!R)return!0;if(R?O=A:(O=A==="v"?"h":"v",R=H8(A,I)),!R)return!1;if(!r.current&&"changedTouches"in v&&(C||k)&&(r.current=O),!O)return!0;var D=r.current||O;return xxe(D,b,v,D==="h"?C:k)},[]),l=T.useCallback(function(v){var b=v;if(!(!ep.length||ep[ep.length-1]!==a)){var E="deltaY"in b?z8(b):s_(b),N=e.current.filter(function(O){return O.name===b.type&&(O.target===b.target||b.target===O.shadowParent)&&bxe(O.delta,E)})[0];if(N&&N.should){b.cancelable&&b.preventDefault();return}if(!N){var C=(s.current.shards||[]).map(q8).filter(Boolean).filter(function(O){return O.contains(b.target)}),k=C.length>0?o(b,C[0]):!s.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=T.useCallback(function(v,b,E,N){var C={name:v,delta:b,target:E,should:N,shadowParent:Sxe(E)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(k){return k!==C})},1)},[]),d=T.useCallback(function(v){n.current=s_(v),r.current=void 0},[]),h=T.useCallback(function(v){u(v.type,z8(v),v.target,o(v,t.lockRef.current))},[]),g=T.useCallback(function(v){u(v.type,s_(v),v.target,o(v,t.lockRef.current))},[]);T.useEffect(function(){return ep.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Jh),document.addEventListener("touchmove",l,Jh),document.addEventListener("touchstart",d,Jh),function(){ep=ep.filter(function(v){return v!==a}),document.removeEventListener("wheel",l,Jh),document.removeEventListener("touchmove",l,Jh),document.removeEventListener("touchstart",d,Jh)}},[]);var y=t.removeScrollBar,_=t.inert;return T.createElement(T.Fragment,null,_?T.createElement(a,{styles:_xe(i)}):null,y?T.createElement(dxe,{gapMode:t.gapMode}):null)}function Sxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Txe=Jye(sX,Exe);var cS=T.forwardRef(function(t,e){return T.createElement(lS,Fo({},t,{ref:e,sideCar:Txe}))});cS.classNames=lS.classNames;var Axe=[" ","Enter","ArrowUp","ArrowDown"],Cxe=[" ","Enter"],lx="Select",[uS,fS,Nxe]=_Y(lx),[c0,WGe]=mc(lx,[Nxe,GY]),dS=GY(),[Oxe,lf]=c0(lx),[Pxe,Rxe]=c0(lx),fX=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:g,required:y,form:_}=t,v=dS(e),[b,E]=T.useState(null),[N,C]=T.useState(null),[k,O]=T.useState(!1),I=iS(u),[A=!1,R]=Td({prop:r,defaultProp:i,onChange:a}),[D,L]=Td({prop:s,defaultProp:o,onChange:l}),j=T.useRef(null),B=b?_||!!b.closest("form"):!0,[F,re]=T.useState(new Set),q=Array.from(F).map(V=>V.props.value).join(";");return p.jsx(Rye,{...v,children:p.jsxs(Oxe,{required:y,scope:e,trigger:b,onTriggerChange:E,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:Nu(),value:D,onValueChange:L,open:A,onOpenChange:R,dir:I,triggerPointerDownPosRef:j,disabled:g,children:[p.jsx(uS.Provider,{scope:e,children:p.jsx(Pxe,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(V=>{re(X=>new Set(X).add(V))},[]),onNativeOptionRemove:T.useCallback(V=>{re(X=>{const Q=new Set(X);return Q.delete(V),Q})},[]),children:n})}),B?p.jsxs(kX,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:h,value:D,onChange:V=>L(V.target.value),disabled:g,form:_,children:[D===void 0?p.jsx("option",{value:""}):null,Array.from(F)]},q):null]})})};fX.displayName=lx;var dX="SelectTrigger",hX=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=dS(n),s=lf(dX,n),o=s.disabled||r,l=or(e,s.onTriggerChange),u=fS(n),d=T.useRef("touch"),[h,g,y]=jX(v=>{const b=u().filter(C=>!C.disabled),E=b.find(C=>C.value===s.value),N=MX(b,v,E);N!==void 0&&s.onValueChange(N.value)}),_=v=>{o||(s.onOpenChange(!0),y()),v&&(s.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return p.jsx(Iye,{asChild:!0,...a,children:p.jsx(qt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":DX(s.value)?"":void 0,...i,ref:l,onClick:Ht(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&_(v)}),onPointerDown:Ht(i.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(_(v),v.preventDefault())}),onKeyDown:Ht(i.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(b&&v.key===" ")&&Axe.includes(v.key)&&(_(),v.preventDefault())})})})});hX.displayName=dX;var pX="SelectValue",mX=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=t,l=lf(pX,n),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,h=or(e,l.onValueNodeChange);return ya(()=>{u(d)},[u,d]),p.jsx(qt.span,{...o,ref:h,style:{pointerEvents:"none"},children:DX(l.value)?p.jsx(p.Fragment,{children:s}):a})});mX.displayName=pX;var Ixe="SelectIcon",gX=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(qt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});gX.displayName=Ixe;var Dxe="SelectPortal",vX=t=>p.jsx(Gj,{asChild:!0,...t});vX.displayName=Dxe;var Ad="SelectContent",yX=T.forwardRef((t,e)=>{const n=lf(Ad,t.__scopeSelect),[r,i]=T.useState();if(ya(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?$d.createPortal(p.jsx(xX,{scope:t.__scopeSelect,children:p.jsx(uS.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),a):null}return p.jsx(bX,{...t,ref:e})});yX.displayName=Ad;var Ws=10,[xX,cf]=c0(Ad),kxe="SelectContentImpl",bX=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:_,hideWhenDetached:v,avoidCollisions:b,...E}=t,N=lf(Ad,n),[C,k]=T.useState(null),[O,I]=T.useState(null),A=or(e,pe=>k(pe)),[R,D]=T.useState(null),[L,j]=T.useState(null),B=fS(n),[F,re]=T.useState(!1),q=T.useRef(!1);T.useEffect(()=>{if(C)return Yj(C)},[C]),TY();const V=T.useCallback(pe=>{const[ye,...de]=B().map(me=>me.ref.current),[he]=de.slice(-1),Ce=document.activeElement;for(const me of pe)if(me===Ce||(me==null||me.scrollIntoView({block:"nearest"}),me===ye&&O&&(O.scrollTop=0),me===he&&O&&(O.scrollTop=O.scrollHeight),me==null||me.focus(),document.activeElement!==Ce))return},[B,O]),X=T.useCallback(()=>V([R,C]),[V,R,C]);T.useEffect(()=>{F&&X()},[F,X]);const{onOpenChange:Q,triggerPointerDownPosRef:ie}=N;T.useEffect(()=>{if(C){let pe={x:0,y:0};const ye=he=>{var Ce,me;pe={x:Math.abs(Math.round(he.pageX)-(((Ce=ie.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(he.pageY)-(((me=ie.current)==null?void 0:me.y)??0))}},de=he=>{pe.x<=10&&pe.y<=10?he.preventDefault():C.contains(he.target)||Q(!1),document.removeEventListener("pointermove",ye),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",de,{capture:!0})}}},[C,Q,ie]),T.useEffect(()=>{const pe=()=>Q(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[Q]);const[W,ce]=jX(pe=>{const ye=B().filter(Ce=>!Ce.disabled),de=ye.find(Ce=>Ce.ref.current===document.activeElement),he=MX(ye,pe,de);he&&setTimeout(()=>he.ref.current.focus())}),z=T.useCallback((pe,ye,de)=>{const he=!q.current&&!de;(N.value!==void 0&&N.value===ye||he)&&(D(pe),he&&(q.current=!0))},[N.value]),Y=T.useCallback(()=>C==null?void 0:C.focus(),[C]),K=T.useCallback((pe,ye,de)=>{const he=!q.current&&!de;(N.value!==void 0&&N.value===ye||he)&&j(pe)},[N.value]),J=r==="popper"?dI:_X,fe=J===dI?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:_,hideWhenDetached:v,avoidCollisions:b}:{};return p.jsx(xX,{scope:n,content:C,viewport:O,onViewportChange:I,itemRefCallback:z,selectedItem:R,onItemLeave:Y,itemTextRefCallback:K,focusSelectedItem:X,selectedItemText:L,position:r,isPositioned:F,searchRef:W,children:p.jsx(cS,{as:nX,allowPinchZoom:!0,children:p.jsx(jj,{asChild:!0,trapped:N.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Ht(i,pe=>{var ye;(ye=N.trigger)==null||ye.focus({preventScroll:!0}),pe.preventDefault()}),children:p.jsx(kj,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:p.jsx(J,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:pe=>pe.preventDefault(),...E,...fe,onPlaced:()=>re(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ht(E.onKeyDown,pe=>{const ye=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!ye&&pe.key.length===1&&ce(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let he=B().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Ce=pe.target,me=he.indexOf(Ce);he=he.slice(me+1)}setTimeout(()=>V(he)),pe.preventDefault()}})})})})})})});bX.displayName=kxe;var jxe="SelectItemAlignedPosition",_X=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=lf(Ad,n),s=cf(Ad,n),[o,l]=T.useState(null),[u,d]=T.useState(null),h=or(e,A=>d(A)),g=fS(n),y=T.useRef(!1),_=T.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:E,focusSelectedItem:N}=s,C=T.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&v&&b&&E){const A=a.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),L=E.getBoundingClientRect();if(a.dir!=="rtl"){const Ce=L.left-R.left,me=D.left-Ce,Ue=A.left-me,$e=A.width+Ue,Je=Math.max($e,R.width),it=window.innerWidth-Ws,Fe=S8(me,[Ws,Math.max(Ws,it-Je)]);o.style.minWidth=$e+"px",o.style.left=Fe+"px"}else{const Ce=R.right-L.right,me=window.innerWidth-D.right-Ce,Ue=window.innerWidth-A.right-me,$e=A.width+Ue,Je=Math.max($e,R.width),it=window.innerWidth-Ws,Fe=S8(me,[Ws,Math.max(Ws,it-Je)]);o.style.minWidth=$e+"px",o.style.right=Fe+"px"}const j=g(),B=window.innerHeight-Ws*2,F=v.scrollHeight,re=window.getComputedStyle(u),q=parseInt(re.borderTopWidth,10),V=parseInt(re.paddingTop,10),X=parseInt(re.borderBottomWidth,10),Q=parseInt(re.paddingBottom,10),ie=q+V+F+Q+X,W=Math.min(b.offsetHeight*5,ie),ce=window.getComputedStyle(v),z=parseInt(ce.paddingTop,10),Y=parseInt(ce.paddingBottom,10),K=A.top+A.height/2-Ws,J=B-K,fe=b.offsetHeight/2,pe=b.offsetTop+fe,ye=q+V+pe,de=ie-ye;if(ye<=K){const Ce=j.length>0&&b===j[j.length-1].ref.current;o.style.bottom="0px";const me=u.clientHeight-v.offsetTop-v.offsetHeight,Ue=Math.max(J,fe+(Ce?Y:0)+me+X),$e=ye+Ue;o.style.height=$e+"px"}else{const Ce=j.length>0&&b===j[0].ref.current;o.style.top="0px";const Ue=Math.max(K,q+v.offsetTop+(Ce?z:0)+fe)+de;o.style.height=Ue+"px",v.scrollTop=ye-K+v.offsetTop}o.style.margin=`${Ws}px 0`,o.style.minHeight=W+"px",o.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[g,a.trigger,a.valueNode,o,u,v,b,E,a.dir,r]);ya(()=>C(),[C]);const[k,O]=T.useState();ya(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const I=T.useCallback(A=>{A&&_.current===!0&&(C(),N==null||N(),_.current=!1)},[C,N]);return p.jsx(Lxe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:y,onScrollButtonChange:I,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:p.jsx(qt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});_X.displayName=jxe;var Mxe="SelectPopperPosition",dI=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ws,...a}=t,s=dS(n);return p.jsx(Dye,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dI.displayName=Mxe;var[Lxe,Xj]=c0(Ad,{}),hI="SelectViewport",wX=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=cf(hI,n),s=Xj(hI,n),o=or(e,a.onViewportChange),l=T.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(uS.Slot,{scope:n,children:p.jsx(qt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ht(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=s;if(g!=null&&g.current&&h){const y=Math.abs(l.current-d.scrollTop);if(y>0){const _=window.innerHeight-Ws*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),E=Math.max(v,b);if(E<_){const N=E+y,C=Math.min(_,N),k=N-C;h.style.height=C+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});wX.displayName=hI;var EX="SelectGroup",[Fxe,Bxe]=c0(EX),$xe=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Nu();return p.jsx(Fxe,{scope:n,id:i,children:p.jsx(qt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});$xe.displayName=EX;var SX="SelectLabel",Vxe=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Bxe(SX,n);return p.jsx(qt.div,{id:i.id,...r,ref:e})});Vxe.displayName=SX;var H1="SelectItem",[Uxe,TX]=c0(H1),AX=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=t,o=lf(H1,n),l=cf(H1,n),u=o.value===r,[d,h]=T.useState(a??""),[g,y]=T.useState(!1),_=or(e,N=>{var C;return(C=l.itemRefCallback)==null?void 0:C.call(l,N,r,i)}),v=Nu(),b=T.useRef("touch"),E=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Uxe,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:T.useCallback(N=>{h(C=>C||((N==null?void 0:N.textContent)??"").trim())},[]),children:p.jsx(uS.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:p.jsx(qt.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:_,onFocus:Ht(s.onFocus,()=>y(!0)),onBlur:Ht(s.onBlur,()=>y(!1)),onClick:Ht(s.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:Ht(s.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:Ht(s.onPointerDown,N=>{b.current=N.pointerType}),onPointerMove:Ht(s.onPointerMove,N=>{var C;b.current=N.pointerType,i?(C=l.onItemLeave)==null||C.call(l):b.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ht(s.onPointerLeave,N=>{var C;N.currentTarget===document.activeElement&&((C=l.onItemLeave)==null||C.call(l))}),onKeyDown:Ht(s.onKeyDown,N=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&N.key===" "||(Cxe.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});AX.displayName=H1;var Xg="SelectItemText",CX=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,s=lf(Xg,n),o=cf(Xg,n),l=TX(Xg,n),u=Rxe(Xg,n),[d,h]=T.useState(null),g=or(e,E=>h(E),l.onItemTextChange,E=>{var N;return(N=o.itemTextRefCallback)==null?void 0:N.call(o,E,l.value,l.disabled)}),y=d==null?void 0:d.textContent,_=T.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return ya(()=>(v(_),()=>b(_)),[v,b,_]),p.jsxs(p.Fragment,{children:[p.jsx(qt.span,{id:l.textId,...a,ref:g}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?$d.createPortal(a.children,s.valueNode):null]})});CX.displayName=Xg;var NX="SelectItemIndicator",OX=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return TX(NX,n).isSelected?p.jsx(qt.span,{"aria-hidden":!0,...r,ref:e}):null});OX.displayName=NX;var pI="SelectScrollUpButton",PX=T.forwardRef((t,e)=>{const n=cf(pI,t.__scopeSelect),r=Xj(pI,t.__scopeSelect),[i,a]=T.useState(!1),s=or(e,r.onScrollButtonChange);return ya(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;a(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(IX,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});PX.displayName=pI;var mI="SelectScrollDownButton",RX=T.forwardRef((t,e)=>{const n=cf(mI,t.__scopeSelect),r=Xj(mI,t.__scopeSelect),[i,a]=T.useState(!1),s=or(e,r.onScrollButtonChange);return ya(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(IX,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});RX.displayName=mI;var IX=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=cf("SelectScrollButton",n),s=T.useRef(null),o=fS(n),l=T.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),ya(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),p.jsx(qt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ht(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ht(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ht(i.onPointerLeave,()=>{l()})})}),Hxe="SelectSeparator",zxe=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(qt.div,{"aria-hidden":!0,...r,ref:e})});zxe.displayName=Hxe;var gI="SelectArrow",qxe=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=dS(n),a=lf(gI,n),s=cf(gI,n);return a.open&&s.position==="popper"?p.jsx(kye,{...i,...r,ref:e}):null});qxe.displayName=gI;function DX(t){return t===""||t===void 0}var kX=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=T.useRef(null),a=or(e,i),s=Kj(n);return T.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const h=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(h)}},[s,n]),p.jsx(rX,{asChild:!0,children:p.jsx("select",{...r,ref:a,defaultValue:n})})});kX.displayName="BubbleSelect";function jX(t){const e=Zo(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(s=>{const o=n.current+s;e(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function MX(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=Wxe(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Wxe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Gxe=fX,Kxe=hX,Yxe=mX,Xxe=gX,Qxe=vX,Zxe=yX,Jxe=wX,ebe=AX,tbe=CX,nbe=OX,rbe=PX,ibe=RX;function im({...t}){return p.jsx(Gxe,{"data-slot":"select",...t})}function am({...t}){return p.jsx(Yxe,{"data-slot":"select-value",...t})}function sm({className:t,size:e="default",children:n,...r}){return p.jsxs(Kxe,{"data-slot":"select-trigger","data-size":e,className:Lt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,p.jsx(Xxe,{asChild:!0,children:p.jsx(i0,{className:"size-4 opacity-50"})})]})}function om({className:t,children:e,position:n="popper",...r}){return p.jsx(Qxe,{children:p.jsxs(Zxe,{"data-slot":"select-content",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(abe,{}),p.jsx(Jxe,{className:Lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(sbe,{})]})})}function Ya({className:t,children:e,...n}){return p.jsxs(ebe,{"data-slot":"select-item",className:Lt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(nbe,{children:p.jsx(Ij,{className:"size-4"})})}),p.jsx(tbe,{children:e})]})}function abe({className:t,...e}){return p.jsx(rbe,{"data-slot":"select-scroll-up-button",className:Lt("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(ax,{className:"size-4"})})}function sbe({className:t,...e}){return p.jsx(ibe,{"data-slot":"select-scroll-down-button",className:Lt("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(i0,{className:"size-4"})})}const obe={apiKey:"AIzaSyD-CAC63_FcIF6swOTiAXZztPSB7eYTbgs",authDomain:"consulttest-be8ce.firebaseapp.com",projectId:"consulttest-be8ce",storageBucket:"consulttest-be8ce.firebasestorage.app",messagingSenderId:"897971535938",appId:"1:897971535938:web:f227f1f4c403580eaf2ddb"},lbe=(t,e)=>{const[n,r]=T.useState({name:"",email:"",idCode:"",password:"",partnerName:"",state:"",district:"",address:"",pincode:"",clinicMobileNo:"",supervisorName:"",supervisorId:"",additionalInfo:""}),[i,a]=T.useState(""),[s,o]=T.useState(""),[l,u]=T.useState(!1),[d,h]=T.useState([]),[g,y]=T.useState([]),[_,v]=T.useState(!1),b=OE(obe,"Secondary"),E=Mu(b),N=GK(b),k=(V=>({superAdmin:["zonalHead","teamLeader"],zonalHead:"drManager",drManager:"doctor",teamLeader:"ro",ro:"pharmacist",pharmacist:"nurse"})[V])(t),[O,I]=T.useState(Array.isArray(k)?k[0]:k),A=O==="nurse",R=O==="doctor",D=O==="pharmacist",L=O==="ro";T.useEffect(()=>{const V=async()=>{if(e!=null&&e.uid)try{const ie=hn(st,"users",e.uid),W=await ar(ie);if(W.exists()){const ce=W.data();r(z=>({...z,supervisorName:ce.name,supervisorId:e.uid}))}}catch(ie){console.error("Error fetching supervisor info:",ie)}},X=async()=>{if(t==="pharmacist")try{const ie=kt(dn(st,"users"),tt("role","==","nurse"),tt("createdBy","==",e.uid)),W=await ur(ie);if(!W.empty){const ce=[];W.forEach(z=>{ce.push({id:z.id,...z.data()})}),h(ce)}}catch(ie){console.error("Error fetching clinics:",ie)}},Q=async()=>{if(t==="agent"&&A)try{const ie=kt(dn(st,"users"),tt("role","==","pharmacist"),tt("createdBy","==",e.uid)),W=await ur(ie);if(W.empty)v(!0);else{v(!1);const ce=[];W.forEach(z=>{ce.push({id:z.id,...z.data()})}),y(ce)}}catch(ie){console.error("Error fetching pharmacists:",ie)}};V(),X(),Q()},[e==null?void 0:e.uid,t,O,s]),T.useEffect(()=>{if(n.name&&n.idCode){const X=n.name.toLowerCase().replace(/[^a-z]/g,"").slice(0,3),Q=n.idCode.slice(-3);r(ie=>({...ie,password:`${X}${Q}`}))}},[n.name,n.idCode]);const j=()=>{if(!n.name.trim())return"Name is required";if(!n.email.trim())return"Email is required";if(!n.idCode.trim())return(A?"Clinic Code":"Employee ID")+" is required";if(!n.password.trim())return"Password is required";if(!n.partnerName)return"Partner name is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return"Please enter a valid email address";if(A){if(!n.state.trim())return"State is required";if(!n.district.trim())return"District is required";if(!n.address.trim())return"Address is required";if(!n.pincode.trim())return"Pincode is required";if(!/^\d{6}$/.test(n.pincode))return"Pincode must be 6 digits";if(!n.clinicMobileNo.trim())return"Clinic Mobile Number is required";if(!/^\d{10}$/.test(n.clinicMobileNo))return"Mobile Number must be 10 digits"}return null},B=async V=>{V.preventDefault(),a(""),o("");const X=j();if(X){a(X);return}u(!0);try{const ie=(await Jue(E,n.email,n.password)).user;await nfe(E.currentUser,{displayName:n.name});const W=Array.isArray(k)?O:k,ce={name:n.name,email:n.email,[W==="nurse"?"clinicCode":"empId"]:n.idCode,role:W,partnerName:n.partnerName,createdBy:e.uid,createdAt:new Date,reportingTo:e.uid,reportingToName:n.supervisorName};if(W==="nurse"&&(Object.assign(ce,{state:n.state,district:n.district,address:n.address,pincode:n.pincode,clinicMobileNo:n.clinicMobileNo}),t==="pharmacist")){const z=hn(N,"users",e.uid),Y=await ar(z);if(Y.exists()){const K=Y.data();if(K.doctorHierarchy&&Array.isArray(K.doctorHierarchy)&&K.doctorHierarchy.length>0){const J={};await Promise.all(K.doctorHierarchy.map(async(fe,pe)=>{const ye=hn(N,"users",fe),de=await ar(ye);if(de.exists()){const he=pe+1,Ce=F(he).toLowerCase();J[Ce]=fe,J[`${Ce}Name`]=de.data().name}})),ce.assignedDoctors=J}}}W==="pharmacist"&&t==="ro"?(ce.doctorHierarchy=[],ce.assignedClinics={}):W==="doctor"&&(ce.assignedClinics={}),await Ta(hn(N,"users",ie.uid),ce),await E.signOut(),r({name:"",email:"",idCode:"",password:"",partnerName:"",state:"",district:"",address:"",pincode:"",clinicMobileNo:"",supervisorName:n.supervisorName,supervisorId:n.supervisorId,additionalInfo:""}),o(`Successfully created ${W} account for ${ce.name}`),await q(ie.uid,ce,W)}catch(Q){console.error("Error creating user:",Q),a(Q.message||"Failed to create user")}finally{u(!1)}},F=V=>["Primary","Secondary","Tertiary","Quaternary","Quinary"][V-1]||`${V}${re(V)}`,re=V=>{const X=V%10,Q=V%100;return X===1&&Q!==11?"st":X===2&&Q!==12?"nd":X===3&&Q!==13?"rd":"th"},q=async(V,X,Q)=>{if(t==="pharmacist"&&Q==="nurse")try{const ie=hn(st,"users",e.uid),W=await ar(ie);if(W.exists()){const ce=W.data(),z={...ce.assignedClinics||{},[V]:!0};if(await Ta(ie,{assignedClinics:z},{merge:!0}),ce.doctorHierarchy&&Array.isArray(ce.doctorHierarchy)){for(const Y of ce.doctorHierarchy){const K=hn(st,"users",Y),J=await ar(K);if(J.exists()){const pe={...J.data().assignedClinics||{},[V]:!0};await Ta(K,{assignedClinics:pe},{merge:!0})}}o(`Successfully created clinic "${X.name}" and assigned to you and your doctor hierarchy.`)}else o(`Successfully created clinic "${X.name}" and assigned to you.`)}}catch(ie){console.error("Error assigning clinic:",ie)}};return{formData:n,setFormData:r,error:i,success:s,loading:l,handleSubmit:B,selectedRoleToCreate:O,setSelectedRoleToCreate:I,roleToCreate:k,isCreatingPharmacist:D,isCreatingClinic:A,isCreatingDoctor:R,isCreatingAgent:L,availableClinics:d,availablePharmacists:g,needsToCreatePharmacistFirst:_}};var cbe="Separator",W8="horizontal",ube=["horizontal","vertical"],LX=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=W8,...i}=t,a=fbe(r)?r:W8,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return p.jsx(qt.div,{"data-orientation":a,...o,...i,ref:e})});LX.displayName=cbe;function fbe(t){return ube.includes(t)}var dbe=LX;function Zd({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return p.jsx(dbe,{"data-slot":"separator-root",decorative:n,orientation:e,className:Lt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const hbe=({formData:t,setFormData:e,isCreatingClinic:n,isCreatingDoctor:r,isCreatingPharmacist:i,currentUserRole:a})=>{const s=["Namra","Muthoot South","Muthoot North","Nabfins","Pahal North","Pahal South","ACFL","TATA North","TATA South","Humana","NESFB","Uttrayan","Bangia","Share India","Seba","Cashpor Unit 1","Cashpor Unit 2","Satya Foundation","Utkarsh","Utkarsh foundation","Svatantra","ESAF South","ESAF North","UKBGB","UBGB","PBGB","Navchetna South","PAFT South","Sugamya South","Swarnodhayam South","Satya North","Satya South","Projects","Digital/Night Team","AVGB"];return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(age,{className:"h-5 w-5 text-gray-500"}),p.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"})]}),p.jsx(Zd,{}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),p.jsx(Js,{type:"text",required:!0,value:t.name,onChange:o=>e({...t,name:o.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),p.jsx(Js,{type:"email",required:!0,value:t.email,onChange:o=>e({...t,email:o.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:n?"Clinic Code":"Employee ID"}),p.jsx(Js,{type:"text",required:!0,value:t.idCode,onChange:o=>e({...t,idCode:o.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(Js,{type:"text",readOnly:!0,className:"bg-gray-50",value:t.password}),p.jsx(Gn,{className:"absolute right-2 top-2 bg-blue-100 text-blue-800",children:"Auto-generated"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Partner Name"}),p.jsxs(im,{value:t.partnerName||"",onValueChange:o=>e({...t,partnerName:o}),children:[p.jsx(sm,{className:"w-full",children:p.jsx(am,{placeholder:"Select partner"})}),p.jsx(om,{children:s.map(o=>p.jsx(Ya,{value:o,children:o},o))})]})]}),n&&a==="pharmacist"&&p.jsx("div",{className:"md:col-span-2",children:p.jsx(nn,{className:"bg-blue-50 border-blue-200",children:p.jsx(rn,{className:"text-blue-800",children:"This clinic will be automatically assigned to your configured doctor hierarchy. You can manage your doctor assignments from the Doctor Hierarchy tab."})})})]})]})};function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function pbe(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FX(t){var e=pbe(t,"string");return Cd(e)=="symbol"?e:e+""}function Qg(t,e,n){return(e=FX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mbe(t){if(Array.isArray(t))return t}function gbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function BX(t,e){if(t){if(typeof t=="string")return vI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vI(t,e):void 0}}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zl(t,e){return mbe(t)||gbe(t,e)||BX(t,e)||vbe()}function ybe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gc(t,e){if(t==null)return{};var n,r,i=ybe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var xbe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bbe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,s=a===void 0?null:a,o=t.inputValue,l=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,g=t.onMenuOpen,y=t.value,_=gc(t,xbe),v=T.useState(o!==void 0?o:n),b=zl(v,2),E=b[0],N=b[1],C=T.useState(l!==void 0?l:i),k=zl(C,2),O=k[0],I=k[1],A=T.useState(y!==void 0?y:s),R=zl(A,2),D=R[0],L=R[1],j=T.useCallback(function(Q,ie){typeof u=="function"&&u(Q,ie),L(Q)},[u]),B=T.useCallback(function(Q,ie){var W;typeof d=="function"&&(W=d(Q,ie)),N(W!==void 0?W:Q)},[d]),F=T.useCallback(function(){typeof g=="function"&&g(),I(!0)},[g]),re=T.useCallback(function(){typeof h=="function"&&h(),I(!1)},[h]),q=o!==void 0?o:E,V=l!==void 0?l:O,X=y!==void 0?y:D;return vt(vt({},_),{},{inputValue:q,menuIsOpen:V,onChange:j,onInputChange:B,onMenuClose:re,onMenuOpen:F,value:X})}function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},St.apply(null,arguments)}function _be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FX(r.key),r)}}function wbe(t,e,n){return e&&K8(t.prototype,e),n&&K8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yI(t,e){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yI(t,e)}function Ebe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yI(t,e)}function z1(t){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z1(t)}function $X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($X=function(){return!!t})()}function Sbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tbe(t,e){if(e&&(Cd(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sbe(t)}function Abe(t){var e=$X();return function(){var n,r=z1(t);if(e){var i=z1(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tbe(this,n)}}function Cbe(t){if(Array.isArray(t))return vI(t)}function Nbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Obe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qj(t){return Cbe(t)||Nbe(t)||BX(t)||Obe()}function Pbe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Rbe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Ibe=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Rbe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Pbe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ki="-ms-",q1="-moz-",En="-webkit-",VX="comm",Zj="rule",Jj="decl",Dbe="@import",UX="@keyframes",kbe="@layer",jbe=Math.abs,hS=String.fromCharCode,Mbe=Object.assign;function Lbe(t,e){return ji(t,0)^45?(((e<<2^ji(t,0))<<2^ji(t,1))<<2^ji(t,2))<<2^ji(t,3):0}function HX(t){return t.trim()}function Fbe(t,e){return(t=e.exec(t))?t[0]:t}function Sn(t,e,n){return t.replace(e,n)}function xI(t,e){return t.indexOf(e)}function ji(t,e){return t.charCodeAt(e)|0}function zv(t,e,n){return t.slice(e,n)}function jo(t){return t.length}function eM(t){return t.length}function o_(t,e){return e.push(t),t}function Bbe(t,e){return t.map(e).join("")}var pS=1,lm=1,zX=0,Ca=0,Br=0,u0="";function mS(t,e,n,r,i,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:pS,column:lm,length:s,return:""}}function Cg(t,e){return Mbe(mS("",null,null,"",null,null,0),t,{length:-t.length},e)}function $be(){return Br}function Vbe(){return Br=Ca>0?ji(u0,--Ca):0,lm--,Br===10&&(lm=1,pS--),Br}function es(){return Br=Ca<zX?ji(u0,Ca++):0,lm++,Br===10&&(lm=1,pS++),Br}function Ko(){return ji(u0,Ca)}function s1(){return Ca}function cx(t,e){return zv(u0,t,e)}function qv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qX(t){return pS=lm=1,zX=jo(u0=t),Ca=0,[]}function WX(t){return u0="",t}function o1(t){return HX(cx(Ca-1,bI(t===91?t+2:t===40?t+1:t)))}function Ube(t){for(;(Br=Ko())&&Br<33;)es();return qv(t)>2||qv(Br)>3?"":" "}function Hbe(t,e){for(;--e&&es()&&!(Br<48||Br>102||Br>57&&Br<65||Br>70&&Br<97););return cx(t,s1()+(e<6&&Ko()==32&&es()==32))}function bI(t){for(;es();)switch(Br){case t:return Ca;case 34:case 39:t!==34&&t!==39&&bI(Br);break;case 40:t===41&&bI(t);break;case 92:es();break}return Ca}function zbe(t,e){for(;es()&&t+Br!==57;)if(t+Br===84&&Ko()===47)break;return"/*"+cx(e,Ca-1)+"*"+hS(t===47?t:es())}function qbe(t){for(;!qv(Ko());)es();return cx(t,Ca)}function Wbe(t){return WX(l1("",null,null,null,[""],t=qX(t),0,[0],t))}function l1(t,e,n,r,i,a,s,o,l){for(var u=0,d=0,h=s,g=0,y=0,_=0,v=1,b=1,E=1,N=0,C="",k=i,O=a,I=r,A=C;b;)switch(_=N,N=es()){case 40:if(_!=108&&ji(A,h-1)==58){xI(A+=Sn(o1(N),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:A+=o1(N);break;case 9:case 10:case 13:case 32:A+=Ube(_);break;case 92:A+=Hbe(s1()-1,7);continue;case 47:switch(Ko()){case 42:case 47:o_(Gbe(zbe(es(),s1()),e,n),l);break;default:A+="/"}break;case 123*v:o[u++]=jo(A)*E;case 125*v:case 59:case 0:switch(N){case 0:case 125:b=0;case 59+d:E==-1&&(A=Sn(A,/\f/g,"")),y>0&&jo(A)-h&&o_(y>32?X8(A+";",r,n,h-1):X8(Sn(A," ","")+";",r,n,h-2),l);break;case 59:A+=";";default:if(o_(I=Y8(A,e,n,u,d,i,o,C,k=[],O=[],h),a),N===123)if(d===0)l1(A,e,I,I,k,a,h,o,O);else switch(g===99&&ji(A,3)===110?100:g){case 100:case 108:case 109:case 115:l1(t,I,I,r&&o_(Y8(t,I,I,0,0,i,o,C,i,k=[],h),O),i,O,h,o,r?k:O);break;default:l1(A,I,I,I,[""],O,0,o,O)}}u=d=y=0,v=E=1,C=A="",h=s;break;case 58:h=1+jo(A),y=_;default:if(v<1){if(N==123)--v;else if(N==125&&v++==0&&Vbe()==125)continue}switch(A+=hS(N),N*v){case 38:E=d>0?1:(A+="\f",-1);break;case 44:o[u++]=(jo(A)-1)*E,E=1;break;case 64:Ko()===45&&(A+=o1(es())),g=Ko(),d=h=jo(C=A+=qbe(s1())),N++;break;case 45:_===45&&jo(A)==2&&(v=0)}}return a}function Y8(t,e,n,r,i,a,s,o,l,u,d){for(var h=i-1,g=i===0?a:[""],y=eM(g),_=0,v=0,b=0;_<r;++_)for(var E=0,N=zv(t,h+1,h=jbe(v=s[_])),C=t;E<y;++E)(C=HX(v>0?g[E]+" "+N:Sn(N,/&\f/g,g[E])))&&(l[b++]=C);return mS(t,e,n,i===0?Zj:o,l,u,d)}function Gbe(t,e,n){return mS(t,e,n,VX,hS($be()),zv(t,2,-2),0)}function X8(t,e,n,r){return mS(t,e,n,Jj,zv(t,0,r),zv(t,r+1,-1),r)}function jp(t,e){for(var n="",r=eM(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Kbe(t,e,n,r){switch(t.type){case kbe:if(t.children.length)break;case Dbe:case Jj:return t.return=t.return||t.value;case VX:return"";case UX:return t.return=t.value+"{"+jp(t.children,r)+"}";case Zj:t.value=t.props.join(",")}return jo(n=jp(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ybe(t){var e=eM(t);return function(n,r,i,a){for(var s="",o=0;o<e;o++)s+=t[o](n,r,i,a)||"";return s}}function Xbe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Qbe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Zbe=function(e,n,r){for(var i=0,a=0;i=a,a=Ko(),i===38&&a===12&&(n[r]=1),!qv(a);)es();return cx(e,Ca)},Jbe=function(e,n){var r=-1,i=44;do switch(qv(i)){case 0:i===38&&Ko()===12&&(n[r]=1),e[r]+=Zbe(Ca-1,n,r);break;case 2:e[r]+=o1(i);break;case 4:if(i===44){e[++r]=Ko()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=hS(i)}while(i=es());return e},e_e=function(e,n){return WX(Jbe(qX(e),n))},Q8=new WeakMap,t_e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Q8.get(r))&&!i){Q8.set(e,!0);for(var a=[],s=e_e(n,a),o=r.props,l=0,u=0;l<s.length;l++)for(var d=0;d<o.length;d++,u++)e.props[u]=a[l]?s[l].replace(/&\f/g,o[d]):o[d]+" "+s[l]}}},n_e=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function GX(t,e){switch(Lbe(t,e)){case 5103:return En+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return En+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return En+t+q1+t+Ki+t+t;case 6828:case 4268:return En+t+Ki+t+t;case 6165:return En+t+Ki+"flex-"+t+t;case 5187:return En+t+Sn(t,/(\w+).+(:[^]+)/,En+"box-$1$2"+Ki+"flex-$1$2")+t;case 5443:return En+t+Ki+"flex-item-"+Sn(t,/flex-|-self/,"")+t;case 4675:return En+t+Ki+"flex-line-pack"+Sn(t,/align-content|flex-|-self/,"")+t;case 5548:return En+t+Ki+Sn(t,"shrink","negative")+t;case 5292:return En+t+Ki+Sn(t,"basis","preferred-size")+t;case 6060:return En+"box-"+Sn(t,"-grow","")+En+t+Ki+Sn(t,"grow","positive")+t;case 4554:return En+Sn(t,/([^-])(transform)/g,"$1"+En+"$2")+t;case 6187:return Sn(Sn(Sn(t,/(zoom-|grab)/,En+"$1"),/(image-set)/,En+"$1"),t,"")+t;case 5495:case 3959:return Sn(t,/(image-set\([^]*)/,En+"$1$`$1");case 4968:return Sn(Sn(t,/(.+:)(flex-)?(.*)/,En+"box-pack:$3"+Ki+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+En+t+t;case 4095:case 3583:case 4068:case 2532:return Sn(t,/(.+)-inline(.+)/,En+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jo(t)-1-e>6)switch(ji(t,e+1)){case 109:if(ji(t,e+4)!==45)break;case 102:return Sn(t,/(.+:)(.+)-([^]+)/,"$1"+En+"$2-$3$1"+q1+(ji(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~xI(t,"stretch")?GX(Sn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ji(t,e+1)!==115)break;case 6444:switch(ji(t,jo(t)-3-(~xI(t,"!important")&&10))){case 107:return Sn(t,":",":"+En)+t;case 101:return Sn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+En+(ji(t,14)===45?"inline-":"")+"box$3$1"+En+"$2$3$1"+Ki+"$2box$3")+t}break;case 5936:switch(ji(t,e+11)){case 114:return En+t+Ki+Sn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return En+t+Ki+Sn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return En+t+Ki+Sn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return En+t+Ki+t+t}return t}var r_e=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Jj:e.return=GX(e.value,e.length);break;case UX:return jp([Cg(e,{value:Sn(e.value,"@","@"+En)})],i);case Zj:if(e.length)return Bbe(e.props,function(a){switch(Fbe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jp([Cg(e,{props:[Sn(a,/:(read-\w+)/,":"+q1+"$1")]})],i);case"::placeholder":return jp([Cg(e,{props:[Sn(a,/:(plac\w+)/,":"+En+"input-$1")]}),Cg(e,{props:[Sn(a,/:(plac\w+)/,":"+q1+"$1")]}),Cg(e,{props:[Sn(a,/:(plac\w+)/,Ki+"input-$1")]})],i)}return""})}},i_e=[r_e],a_e=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||i_e,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),E=1;E<b.length;E++)a[b[E]]=!0;o.push(v)});var l,u=[t_e,n_e];{var d,h=[Kbe,Xbe(function(v){d.insert(v)})],g=Ybe(u.concat(i,h)),y=function(b){return jp(Wbe(b),g)};l=function(b,E,N,C){d=N,y(b?b+"{"+E.styles+"}":E.styles),C&&(_.inserted[E.name]=!0)}}var _={key:n,sheet:new Ibe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return _.sheet.hydrate(o),_},zC={exports:{}},Nn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z8;function s_e(){if(Z8)return Nn;Z8=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function C(O){if(typeof O=="object"&&O!==null){var I=O.$$typeof;switch(I){case e:switch(O=O.type,O){case l:case u:case r:case a:case i:case h:return O;default:switch(O=O&&O.$$typeof,O){case o:case d:case _:case y:case s:return O;default:return I}}case n:return I}}}function k(O){return C(O)===u}return Nn.AsyncMode=l,Nn.ConcurrentMode=u,Nn.ContextConsumer=o,Nn.ContextProvider=s,Nn.Element=e,Nn.ForwardRef=d,Nn.Fragment=r,Nn.Lazy=_,Nn.Memo=y,Nn.Portal=n,Nn.Profiler=a,Nn.StrictMode=i,Nn.Suspense=h,Nn.isAsyncMode=function(O){return k(O)||C(O)===l},Nn.isConcurrentMode=k,Nn.isContextConsumer=function(O){return C(O)===o},Nn.isContextProvider=function(O){return C(O)===s},Nn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Nn.isForwardRef=function(O){return C(O)===d},Nn.isFragment=function(O){return C(O)===r},Nn.isLazy=function(O){return C(O)===_},Nn.isMemo=function(O){return C(O)===y},Nn.isPortal=function(O){return C(O)===n},Nn.isProfiler=function(O){return C(O)===a},Nn.isStrictMode=function(O){return C(O)===i},Nn.isSuspense=function(O){return C(O)===h},Nn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===u||O===a||O===i||O===h||O===g||typeof O=="object"&&O!==null&&(O.$$typeof===_||O.$$typeof===y||O.$$typeof===s||O.$$typeof===o||O.$$typeof===d||O.$$typeof===b||O.$$typeof===E||O.$$typeof===N||O.$$typeof===v)},Nn.typeOf=C,Nn}var J8;function o_e(){return J8||(J8=1,zC.exports=s_e()),zC.exports}var qC,eB;function l_e(){if(eB)return qC;eB=1;var t=o_e(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function s(_){return t.isMemo(_)?i:a[_.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;function y(_,v,b){if(typeof v!="string"){if(g){var E=h(v);E&&E!==g&&y(_,E,b)}var N=l(v);u&&(N=N.concat(u(v)));for(var C=s(_),k=s(v),O=0;O<N.length;++O){var I=N[O];if(!n[I]&&!(b&&b[I])&&!(k&&k[I])&&!(C&&C[I])){var A=d(v,I);try{o(_,I,A)}catch{}}}}return _}return qC=y,qC}l_e();var c_e=!0;function u_e(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var KX=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||c_e===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},f_e=function(e,n,r){KX(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function d_e(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var h_e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},p_e=/[A-Z]|^ms/g,m_e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YX=function(e){return e.charCodeAt(1)===45},tB=function(e){return e!=null&&typeof e!="boolean"},WC=Qbe(function(t){return YX(t)?t:t.replace(p_e,"-$&").toLowerCase()}),nB=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(m_e,function(r,i,a){return Mo={name:i,styles:a,next:Mo},i})}return h_e[e]!==1&&!YX(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wv(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Mo={name:i.name,styles:i.styles,next:Mo},i.name;var a=n;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Mo={name:s.name,styles:s.styles,next:Mo},s=s.next;var o=a.styles+";";return o}return g_e(t,e,n)}case"function":{if(t!==void 0){var l=Mo,u=n(t);return Mo=l,Wv(t,e,u)}break}}var d=n;return d}function g_e(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wv(t,e,n[i])+";";else for(var a in n){var s=n[a];if(typeof s!="object"){var o=s;tB(o)&&(r+=WC(a)+":"+nB(a,o)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&e==null)for(var l=0;l<s.length;l++)tB(s[l])&&(r+=WC(a)+":"+nB(a,s[l])+";");else{var u=Wv(t,e,s);switch(a){case"animation":case"animationName":{r+=WC(a)+":"+u+";";break}default:r+=a+"{"+u+"}"}}}return r}var rB=/label:\s*([^\s;{]+)\s*(;|$)/g,Mo;function XX(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Mo=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=Wv(n,e,a);else{var s=a;i+=s[0]}for(var o=1;o<t.length;o++)if(i+=Wv(n,e,t[o]),r){var l=a;i+=l[o]}rB.lastIndex=0;for(var u="",d;(d=rB.exec(i))!==null;)u+="-"+d[1];var h=d_e(i)+u;return{name:h,styles:i,next:Mo}}var v_e=function(e){return e()},y_e=Cv.useInsertionEffect?Cv.useInsertionEffect:!1,x_e=y_e||v_e,QX=T.createContext(typeof HTMLElement<"u"?a_e({key:"css"}):null);QX.Provider;var b_e=function(e){return T.forwardRef(function(n,r){var i=T.useContext(QX);return e(n,i,r)})},__e=T.createContext({}),tM={}.hasOwnProperty,_I="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",w_e=function(e,n){var r={};for(var i in n)tM.call(n,i)&&(r[i]=n[i]);return r[_I]=e,r},E_e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return KX(n,r,i),x_e(function(){return f_e(n,r,i)}),null},S_e=b_e(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[_I],a=[r],s="";typeof t.className=="string"?s=u_e(e.registered,a,t.className):t.className!=null&&(s=t.className+" ");var o=XX(a,void 0,T.useContext(__e));s+=e.key+"-"+o.name;var l={};for(var u in t)tM.call(t,u)&&u!=="css"&&u!==_I&&(l[u]=t[u]);return l.className=s,n&&(l.ref=n),T.createElement(T.Fragment,null,T.createElement(E_e,{cache:e,serialized:o,isStringTag:typeof i=="string"}),T.createElement(i,l))}),T_e=S_e,mt=function(e,n){var r=arguments;if(n==null||!tM.call(n,"css"))return T.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=T_e,a[1]=w_e(e,n);for(var s=2;s<i;s++)a[s]=r[s];return T.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(mt||(mt={}));function nM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return XX(e)}function A_e(){var t=nM.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function C_e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var wI=T.useLayoutEffect,N_e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],W1=function(){};function O_e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function P_e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var s in e)e.hasOwnProperty(s)&&e[s]&&a.push("".concat(O_e(t,s)));return a.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var iB=function(e){return B_e(e)?e.filter(Boolean):Cd(e)==="object"&&e!==null?[e]:[]},ZX=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=gc(e,N_e);return vt({},n)},Ar=function(e,n,r){var i=e.cx,a=e.getStyles,s=e.getClassNames,o=e.className;return{css:a(n,e),className:i(r??{},s(n,e),o)}};function gS(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function R_e(t){return gS(t)?window.innerHeight:t.clientHeight}function JX(t){return gS(t)?window.pageYOffset:t.scrollTop}function G1(t,e){if(gS(t)){window.scrollTo(0,e);return}t.scrollTop=e}function I_e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function D_e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function l_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W1,i=JX(t),a=e-i,s=10,o=0;function l(){o+=s;var u=D_e(o,i,a,n);G1(t,u),o<n?window.requestAnimationFrame(l):r(t)}l()}function aB(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?G1(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&G1(t,Math.max(e.offsetTop-i,0))}function k_e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function sB(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function j_e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var eQ=!1,M_e={get passive(){return eQ=!0}},c_=typeof window<"u"?window:{};c_.addEventListener&&c_.removeEventListener&&(c_.addEventListener("p",W1,M_e),c_.removeEventListener("p",W1,!1));var L_e=eQ;function F_e(t){return t!=null}function B_e(t){return Array.isArray(t)}function u_(t,e,n){return t?e:n}var $_e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(s){var o=zl(s,1),l=o[0];return!r.includes(l)});return a.reduce(function(s,o){var l=zl(o,2),u=l[0],d=l[1];return s[u]=d,s},{})},V_e=["children","innerProps"],U_e=["children","innerProps"];function H_e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,s=t.isFixedPosition,o=t.controlHeight,l=I_e(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=l.getBoundingClientRect(),h=d.height,g=n.getBoundingClientRect(),y=g.bottom,_=g.height,v=g.top,b=n.offsetParent.getBoundingClientRect(),E=b.top,N=s?window.innerHeight:R_e(l),C=JX(l),k=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),I=E-O,A=N-v,R=I+C,D=h-C-v,L=y-N+C+k,j=C+v-O,B=160;switch(i){case"auto":case"bottom":if(A>=_)return{placement:"bottom",maxHeight:e};if(D>=_&&!s)return a&&l_(l,L,B),{placement:"bottom",maxHeight:e};if(!s&&D>=r||s&&A>=r){a&&l_(l,L,B);var F=s?A-k:D-k;return{placement:"bottom",maxHeight:F}}if(i==="auto"||s){var re=e,q=s?I:R;return q>=r&&(re=Math.min(q-k-o,e)),{placement:"top",maxHeight:re}}if(i==="bottom")return a&&G1(l,L),{placement:"bottom",maxHeight:e};break;case"top":if(I>=_)return{placement:"top",maxHeight:e};if(R>=_&&!s)return a&&l_(l,j,B),{placement:"top",maxHeight:e};if(!s&&R>=r||s&&I>=r){var V=e;return(!s&&R>=r||s&&I>=r)&&(V=s?I-O:R-O),a&&l_(l,j,B),{placement:"top",maxHeight:V}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function z_e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var tQ=function(e){return e==="auto"?"bottom":e},q_e=function(e,n){var r,i=e.placement,a=e.theme,s=a.borderRadius,o=a.spacing,l=a.colors;return vt((r={label:"menu"},Qg(r,z_e(i),"100%"),Qg(r,"position","absolute"),Qg(r,"width","100%"),Qg(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},nQ=T.createContext(null),W_e=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,s=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,u=T.useContext(nQ)||{},d=u.setPortalPlacement,h=T.useRef(null),g=T.useState(i),y=zl(g,2),_=y[0],v=y[1],b=T.useState(null),E=zl(b,2),N=E[0],C=E[1],k=l.spacing.controlHeight;return wI(function(){var O=h.current;if(O){var I=s==="fixed",A=o&&!I,R=H_e({maxHeight:i,menuEl:O,minHeight:r,placement:a,shouldScroll:A,isFixedPosition:I,controlHeight:k});v(R.maxHeight),C(R.placement),d==null||d(R.placement)}},[i,a,s,o,r,d,k]),n({ref:h,placerProps:vt(vt({},e),{},{placement:N||tQ(a),maxHeight:_})})},G_e=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return mt("div",St({},Ar(e,"menu",{menu:!0}),{ref:r},i),n)},K_e=G_e,Y_e=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return vt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},X_e=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return mt("div",St({},Ar(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},rQ=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return vt({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Q_e=rQ,Z_e=rQ,J_e=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=gc(e,V_e);return mt("div",St({},Ar(vt(vt({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},e1e=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=gc(e,U_e);return mt("div",St({},Ar(vt(vt({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},t1e=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},n1e=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,s=e.menuPlacement,o=e.menuPosition,l=T.useRef(null),u=T.useRef(null),d=T.useState(tQ(s)),h=zl(d,2),g=h[0],y=h[1],_=T.useMemo(function(){return{setPortalPlacement:y}},[]),v=T.useState(null),b=zl(v,2),E=b[0],N=b[1],C=T.useCallback(function(){if(i){var A=k_e(i),R=o==="fixed"?0:window.pageYOffset,D=A[g]+R;(D!==(E==null?void 0:E.offset)||A.left!==(E==null?void 0:E.rect.left)||A.width!==(E==null?void 0:E.rect.width))&&N({offset:D,rect:A})}},[i,o,g,E==null?void 0:E.offset,E==null?void 0:E.rect.left,E==null?void 0:E.rect.width]);wI(function(){C()},[C]);var k=T.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=Hj(i,l.current,C,{elementResize:"ResizeObserver"in window}))},[i,C]);wI(function(){k()},[k]);var O=T.useCallback(function(A){l.current=A,k()},[k]);if(!n&&o!=="fixed"||!E)return null;var I=mt("div",St({ref:O},Ar(vt(vt({},e),{},{offset:E.offset,position:o,rect:E.rect}),"menuPortal",{"menu-portal":!0}),a),r);return mt(nQ.Provider,{value:_},n?$d.createPortal(I,n):I)},r1e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},i1e=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return mt("div",St({},Ar(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},a1e=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,s=e.selectProps.controlShouldRenderValue;return vt({alignItems:"center",display:i&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},s1e=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return mt("div",St({},Ar(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},o1e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},l1e=function(e){var n=e.children,r=e.innerProps;return mt("div",St({},Ar(e,"indicatorsContainer",{indicators:!0}),r),n)},oB,c1e=["size"],u1e=["innerProps","isRtl","size"],f1e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},iQ=function(e){var n=e.size,r=gc(e,c1e);return mt("svg",St({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:f1e},r))},rM=function(e){return mt(iQ,St({size:20},e),mt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},aQ=function(e){return mt(iQ,St({size:20},e),mt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},sQ=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return vt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2,":hover":{color:r?s.neutral80:s.neutral40}})},d1e=sQ,h1e=function(e){var n=e.children,r=e.innerProps;return mt("div",St({},Ar(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||mt(aQ,null))},p1e=sQ,m1e=function(e){var n=e.children,r=e.innerProps;return mt("div",St({},Ar(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||mt(rM,null))},g1e=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return vt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:a*2,marginTop:a*2})},v1e=function(e){var n=e.innerProps;return mt("span",St({},n,Ar(e,"indicatorSeparator",{"indicator-separator":!0})))},y1e=A_e(oB||(oB=C_e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),x1e=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,s=a.colors,o=a.spacing.baseUnit;return vt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:o*2})},GC=function(e){var n=e.delay,r=e.offset;return mt("span",{css:nM({animation:"".concat(y1e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},b1e=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,s=gc(e,u1e);return mt("div",St({},Ar(vt(vt({},s),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),mt(GC,{delay:0,offset:r}),mt(GC,{delay:160,offset:!0}),mt(GC,{delay:320,offset:!r}))},_1e=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,s=a.colors,o=a.borderRadius,l=a.spacing;return vt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:i?s.primary:s.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},w1e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,s=e.innerProps,o=e.menuIsOpen;return mt("div",St({ref:a},Ar(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":o}),s,{"aria-disabled":r||void 0}),n)},E1e=w1e,S1e=["data"],T1e=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},A1e=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,s=e.Heading,o=e.headingProps,l=e.innerProps,u=e.label,d=e.theme,h=e.selectProps;return mt("div",St({},Ar(e,"group",{group:!0}),l),mt(s,St({},o,{selectProps:h,theme:d,getStyles:i,getClassNames:a,cx:r}),u),mt("div",null,n))},C1e=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return vt({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},N1e=function(e){var n=ZX(e);n.data;var r=gc(n,S1e);return mt("div",St({},Ar(e,"groupHeading",{"group-heading":!0}),r))},O1e=A1e,P1e=["innerRef","isDisabled","isHidden","inputClassName"],R1e=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,s=a.spacing,o=a.colors;return vt(vt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},I1e),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:o.neutral80})},oQ={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},I1e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":vt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},oQ)},D1e=function(e){return vt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},oQ)},k1e=function(e){var n=e.cx,r=e.value,i=ZX(e),a=i.innerRef,s=i.isDisabled,o=i.isHidden,l=i.inputClassName,u=gc(i,P1e);return mt("div",St({},Ar(e,"input",{"input-container":!0}),{"data-value":r||""}),mt("input",St({className:n({input:!0},l),ref:a,style:D1e(o),disabled:s},u)))},j1e=k1e,M1e=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors;return vt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},L1e=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,s=e.cropWithEllipsis;return vt({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},F1e=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors,o=e.isFocused;return vt({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:o?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},lQ=function(e){var n=e.children,r=e.innerProps;return mt("div",r,n)},B1e=lQ,$1e=lQ;function V1e(t){var e=t.children,n=t.innerProps;return mt("div",St({role:"button"},n),e||mt(rM,{size:14}))}var U1e=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,s=e.isDisabled,o=e.removeProps,l=e.selectProps,u=r.Container,d=r.Label,h=r.Remove;return mt(u,{data:i,innerProps:vt(vt({},Ar(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:l},mt(d,{data:i,innerProps:vt({},Ar(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),mt(h,{data:i,innerProps:vt(vt({},Ar(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},o),selectProps:l}))},H1e=U1e,z1e=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.theme,o=s.spacing,l=s.colors;return vt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},q1e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.innerRef,o=e.innerProps;return mt("div",St({},Ar(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:s,"aria-disabled":r},o),n)},W1e=q1e,G1e=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return vt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},K1e=function(e){var n=e.children,r=e.innerProps;return mt("div",St({},Ar(e,"placeholder",{placeholder:!0}),r),n)},Y1e=K1e,X1e=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,s=i.colors;return vt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Q1e=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return mt("div",St({},Ar(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Z1e=Q1e,J1e={ClearIndicator:m1e,Control:E1e,DropdownIndicator:h1e,DownChevron:aQ,CrossIcon:rM,Group:O1e,GroupHeading:N1e,IndicatorsContainer:l1e,IndicatorSeparator:v1e,Input:j1e,LoadingIndicator:b1e,Menu:K_e,MenuList:X_e,MenuPortal:n1e,LoadingMessage:e1e,NoOptionsMessage:J_e,MultiValue:H1e,MultiValueContainer:B1e,MultiValueLabel:$1e,MultiValueRemove:V1e,Option:W1e,Placeholder:Y1e,SelectContainer:i1e,SingleValue:Z1e,ValueContainer:s1e},ewe=function(e){return vt(vt({},J1e),e.components)},lB=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function twe(t,e){return!!(t===e||lB(t)&&lB(e))}function nwe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!twe(t[n],e[n]))return!1;return!0}function rwe(t,e){e===void 0&&(e=nwe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var iwe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},awe=function(e){return mt("span",St({css:iwe},e))},cB=awe,swe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,s=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,s=a===void 0?"":a,o=e.selectValue,l=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,h=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(n==="value"&&o)return"value ".concat(s," focused, ").concat(h(o,r),".");if(n==="menu"&&d){var g=l?" disabled":"",y="".concat(u?" selected":"").concat(g);return"".concat(s).concat(y,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},owe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,s=e.isFocused,o=e.selectValue,l=e.selectProps,u=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,g=l.getOptionLabel,y=l.inputValue,_=l.isMulti,v=l.isOptionDisabled,b=l.isSearchable,E=l.menuIsOpen,N=l.options,C=l.screenReaderStatus,k=l.tabSelectsValue,O=l.isLoading,I=l["aria-label"],A=l["aria-live"],R=T.useMemo(function(){return vt(vt({},swe),h||{})},[h]),D=T.useMemo(function(){var q="";if(n&&R.onChange){var V=n.option,X=n.options,Q=n.removedValue,ie=n.removedValues,W=n.value,ce=function(ye){return Array.isArray(ye)?null:ye},z=Q||V||ce(W),Y=z?g(z):"",K=X||ie||void 0,J=K?K.map(g):[],fe=vt({isDisabled:z&&v(z,o),label:Y,labels:J},n);q=R.onChange(fe)}return q},[n,R,v,o,g]),L=T.useMemo(function(){var q="",V=r||i,X=!!(r&&o&&o.includes(r));if(V&&R.onFocus){var Q={focused:V,label:g(V),isDisabled:v(V,o),isSelected:X,options:a,context:V===r?"menu":"value",selectValue:o,isAppleDevice:d};q=R.onFocus(Q)}return q},[r,i,g,v,R,a,o,d]),j=T.useMemo(function(){var q="";if(E&&N.length&&!O&&R.onFilter){var V=C({count:a.length});q=R.onFilter({inputValue:y,resultsMessage:V})}return q},[a,y,E,R,N,C,O]),B=(n==null?void 0:n.action)==="initial-input-focus",F=T.useMemo(function(){var q="";if(R.guidance){var V=i?"value":E?"menu":"input";q=R.guidance({"aria-label":I,context:V,isDisabled:r&&v(r,o),isMulti:_,isSearchable:b,tabSelectsValue:k,isInitialFocus:B})}return q},[I,r,i,_,v,b,E,R,o,k,B]),re=mt(T.Fragment,null,mt("span",{id:"aria-selection"},D),mt("span",{id:"aria-focused"},L),mt("span",{id:"aria-results"},j),mt("span",{id:"aria-guidance"},F));return mt(T.Fragment,null,mt(cB,{id:u},B&&re),mt(cB,{"aria-live":A,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!B&&re))},lwe=owe,EI=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],cwe=new RegExp("["+EI.map(function(t){return t.letters}).join("")+"]","g"),cQ={};for(var KC=0;KC<EI.length;KC++)for(var YC=EI[KC],XC=0;XC<YC.letters.length;XC++)cQ[YC.letters[XC]]=YC.base;var uQ=function(e){return e.replace(cwe,function(n){return cQ[n]})},uwe=rwe(uQ),uB=function(e){return e.replace(/^\s+|\s+$/g,"")},fwe=function(e){return"".concat(e.label," ").concat(e.value)},dwe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=vt({ignoreCase:!0,ignoreAccents:!0,stringify:fwe,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,s=i.ignoreAccents,o=i.stringify,l=i.trim,u=i.matchFrom,d=l?uB(r):r,h=l?uB(o(n)):o(n);return a&&(d=d.toLowerCase(),h=h.toLowerCase()),s&&(d=uwe(d),h=uQ(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},hwe=["innerRef"];function pwe(t){var e=t.innerRef,n=gc(t,hwe),r=$_e(n,"onExited","in","enter","exit","appear");return mt("input",St({ref:e},r,{css:nM({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var mwe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function gwe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,s=T.useRef(!1),o=T.useRef(!1),l=T.useRef(0),u=T.useRef(null),d=T.useCallback(function(b,E){if(u.current!==null){var N=u.current,C=N.scrollTop,k=N.scrollHeight,O=N.clientHeight,I=u.current,A=E>0,R=k-O-C,D=!1;R>E&&s.current&&(r&&r(b),s.current=!1),A&&o.current&&(a&&a(b),o.current=!1),A&&E>R?(n&&!s.current&&n(b),I.scrollTop=k,D=!0,s.current=!0):!A&&-E>C&&(i&&!o.current&&i(b),I.scrollTop=0,D=!0,o.current=!0),D&&mwe(b)}},[n,r,i,a]),h=T.useCallback(function(b){d(b,b.deltaY)},[d]),g=T.useCallback(function(b){l.current=b.changedTouches[0].clientY},[]),y=T.useCallback(function(b){var E=l.current-b.changedTouches[0].clientY;d(b,E)},[d]),_=T.useCallback(function(b){if(b){var E=L_e?{passive:!1}:!1;b.addEventListener("wheel",h,E),b.addEventListener("touchstart",g,E),b.addEventListener("touchmove",y,E)}},[y,g,h]),v=T.useCallback(function(b){b&&(b.removeEventListener("wheel",h,!1),b.removeEventListener("touchstart",g,!1),b.removeEventListener("touchmove",y,!1))},[y,g,h]);return T.useEffect(function(){if(e){var b=u.current;return _(b),function(){v(b)}}},[e,_,v]),function(b){u.current=b}}var fB=["boxSizing","height","overflow","paddingRight","position"],dB={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function hB(t){t.cancelable&&t.preventDefault()}function pB(t){t.stopPropagation()}function mB(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function gB(){return"ontouchstart"in window||navigator.maxTouchPoints}var vB=!!(typeof window<"u"&&window.document&&window.document.createElement),Ng=0,tp={capture:!1,passive:!1};function vwe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=T.useRef({}),a=T.useRef(null),s=T.useCallback(function(l){if(vB){var u=document.body,d=u&&u.style;if(r&&fB.forEach(function(_){var v=d&&d[_];i.current[_]=v}),r&&Ng<1){var h=parseInt(i.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,y=window.innerWidth-g+h||0;Object.keys(dB).forEach(function(_){var v=dB[_];d&&(d[_]=v)}),d&&(d.paddingRight="".concat(y,"px"))}u&&gB()&&(u.addEventListener("touchmove",hB,tp),l&&(l.addEventListener("touchstart",mB,tp),l.addEventListener("touchmove",pB,tp))),Ng+=1}},[r]),o=T.useCallback(function(l){if(vB){var u=document.body,d=u&&u.style;Ng=Math.max(Ng-1,0),r&&Ng<1&&fB.forEach(function(h){var g=i.current[h];d&&(d[h]=g)}),u&&gB()&&(u.removeEventListener("touchmove",hB,tp),l&&(l.removeEventListener("touchstart",mB,tp),l.removeEventListener("touchmove",pB,tp)))}},[r]);return T.useEffect(function(){if(e){var l=a.current;return s(l),function(){o(l)}}},[e,s,o]),function(l){a.current=l}}var ywe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},xwe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function bwe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,s=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,u=gwe({isEnabled:i,onBottomArrive:a,onBottomLeave:s,onTopArrive:o,onTopLeave:l}),d=vwe({isEnabled:n}),h=function(y){u(y),d(y)};return mt(T.Fragment,null,n&&mt("div",{onClick:ywe,css:xwe}),e(h))}var _we={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},wwe=function(e){var n=e.name,r=e.onFocus;return mt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:_we,value:"",onChange:function(){}})},Ewe=wwe;function iM(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Swe(){return iM(/^iPhone/i)}function fQ(){return iM(/^Mac/i)}function Twe(){return iM(/^iPad/i)||fQ()&&navigator.maxTouchPoints>1}function Awe(){return Swe()||Twe()}function Cwe(){return fQ()||Awe()}var Nwe=function(e){return e.label},Owe=function(e){return e.label},Pwe=function(e){return e.value},Rwe=function(e){return!!e.isDisabled},Iwe={clearIndicator:p1e,container:r1e,control:_1e,dropdownIndicator:d1e,group:T1e,groupHeading:C1e,indicatorsContainer:o1e,indicatorSeparator:g1e,input:R1e,loadingIndicator:x1e,loadingMessage:Z_e,menu:q_e,menuList:Y_e,menuPortal:t1e,multiValue:M1e,multiValueLabel:L1e,multiValueRemove:F1e,noOptionsMessage:Q_e,option:z1e,placeholder:G1e,singleValue:X1e,valueContainer:a1e},Dwe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},kwe=4,dQ=4,jwe=38,Mwe=dQ*2,Lwe={baseUnit:dQ,controlHeight:jwe,menuGutter:Mwe},QC={borderRadius:kwe,colors:Dwe,spacing:Lwe},Fwe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:sB(),captureMenuScroll:!sB(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:dwe(),formatGroupLabel:Nwe,getOptionLabel:Owe,getOptionValue:Pwe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Rwe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!j_e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function yB(t,e,n,r){var i=mQ(t,e,n),a=gQ(t,e,n),s=pQ(t,e),o=K1(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:s,value:o,index:r}}function c1(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(s,o){return yB(t,s,e,o)}).filter(function(s){return bB(t,s)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=yB(t,n,e,r);return bB(t,a)?a:void 0}).filter(F_e)}function hQ(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Qj(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function xB(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Qj(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Bwe(t,e){return hQ(c1(t,e))}function bB(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,s=e.label,o=e.value;return(!yQ(t)||!a)&&vQ(t,{label:s,value:o,data:i},r)}function $we(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function Vwe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var ZC=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},pQ=function(e,n){return e.getOptionLabel(n)},K1=function(e,n){return e.getOptionValue(n)};function mQ(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function gQ(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=K1(t,e);return n.some(function(i){return K1(t,i)===r})}function vQ(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var yQ=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Uwe=1,xQ=function(t){Ebe(n,t);var e=Abe(n);function n(r){var i;if(_be(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=Cwe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var d=i.props,h=d.onChange,g=d.name;u.name=g,i.ariaOnChange(l,u),h(l,u)},i.setValue=function(l,u,d){var h=i.props,g=h.closeMenuOnSelect,y=h.isMulti,_=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:_}),g&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:d})},i.selectOption=function(l){var u=i.props,d=u.blurInputOnSelect,h=u.isMulti,g=u.name,y=i.state.selectValue,_=h&&i.isOptionSelected(l,y),v=i.isOptionDisabled(l,y);if(_){var b=i.getOptionValue(l);i.setValue(y.filter(function(E){return i.getOptionValue(E)!==b}),"deselect-option",l)}else if(!v)h?i.setValue([].concat(Qj(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:g});return}d&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),g=d.filter(function(_){return i.getOptionValue(_)!==h}),y=u_(u,g,g[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(u_(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),g=u_(l,h,h[0]||null);d&&i.onChange(g,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return ZC(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return xB(c1(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return P_e.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return pQ(i.props,l)},i.getOptionValue=function(l){return K1(i.props,l)},i.getStyles=function(l,u){var d=i.props.unstyled,h=Iwe[l](u,d);h.boxSizing="border-box";var g=i.props.styles[l];return g?g(h,u):h},i.getClassNames=function(l,u){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return ewe(i.props)},i.buildCategorizedOptions=function(){return c1(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return hQ(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:vt({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,d=u.isMulti,h=u.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&gS(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),g=Math.abs(d.clientY-i.initialTouchY),y=5;i.userIsDragging=h>y||g>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),d=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return yQ(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,d=u.isMulti,h=u.backspaceRemovesValue,g=u.escapeClearsValue,y=u.inputValue,_=u.isClearable,v=u.isDisabled,b=u.menuIsOpen,E=u.onKeyDown,N=u.tabSelectsValue,C=u.openMenuOnFocus,k=i.state,O=k.focusedOption,I=k.focusedValue,A=k.selectValue;if(!v&&!(typeof E=="function"&&(E(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||y)return;i.focusValue("previous");break;case"ArrowRight":if(!d||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(I)i.removeValue(I);else{if(!h)return;d?i.popValue():_&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!b||!N||!O||C&&i.isOptionSelected(O,A))return;i.selectOption(O);break;case"Enter":if(l.keyCode===229)break;if(b){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":b?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):_&&g&&i.clearValue();break;case" ":if(y)return;if(!b){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":b?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":b?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!b)return;i.focusOption("pageup");break;case"PageDown":if(!b)return;i.focusOption("pagedown");break;case"Home":if(!b)return;i.focusOption("first");break;case"End":if(!b)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Uwe),i.state.selectValue=iB(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=s[o],i.state.focusedOptionId=ZC(a,s[o])}return i}return wbe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&aB(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isDisabled,o=a.menuIsOpen,l=this.state.isFocused;(l&&!s&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(aB(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,s=this.state,o=s.selectValue,l=s.isFocused,u=this.buildFocusableOptions(),d=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(o[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,s=a.selectValue,o=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(o);o||(l=-1);var u=s.length-1,d=-1;if(s.length){switch(i){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:s[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,s=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,u=o.indexOf(s);s||(u=-1),i==="up"?l=u>0?u-1:o.length-1:i==="down"?l=(u+1)%o.length:i==="pageup"?(l=u-a,l<0&&(l=0)):i==="pagedown"?(l=u+a,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(QC):vt(vt({},QC),this.props.theme):QC}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,s=this.getStyles,o=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,g=h.isMulti,y=h.isRtl,_=h.options,v=this.hasValue();return{clearValue:i,cx:a,getStyles:s,getClassNames:o,getValue:l,hasValue:v,isMulti:g,isRtl:y,options:_,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,s=i.isMulti;return a===void 0?s:a}},{key:"isOptionDisabled",value:function(i,a){return mQ(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return gQ(this.props,i,a)}},{key:"filterOption",value:function(i,a){return vQ(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:s,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,s=i.isSearchable,o=i.inputId,l=i.inputValue,u=i.tabIndex,d=i.form,h=i.menuIsOpen,g=i.required,y=this.getComponents(),_=y.Input,v=this.state,b=v.inputIsHidden,E=v.ariaSelection,N=this.commonProps,C=o||this.getElementId("input"),k=vt(vt(vt({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(E==null?void 0:E.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?T.createElement(_,St({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:a,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},k)):T.createElement(pwe,St({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:W1,onFocus:this.onInputFocus,disabled:a,tabIndex:u,inputMode:"none",form:d,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),s=a.MultiValue,o=a.MultiValueContainer,l=a.MultiValueLabel,u=a.MultiValueRemove,d=a.SingleValue,h=a.Placeholder,g=this.commonProps,y=this.props,_=y.controlShouldRenderValue,v=y.isDisabled,b=y.isMulti,E=y.inputValue,N=y.placeholder,C=this.state,k=C.selectValue,O=C.focusedValue,I=C.isFocused;if(!this.hasValue()||!_)return E?null:T.createElement(h,St({},g,{key:"placeholder",isDisabled:v,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),N);if(b)return k.map(function(R,D){var L=R===O,j="".concat(i.getOptionLabel(R),"-").concat(i.getOptionValue(R));return T.createElement(s,St({},g,{components:{Container:o,Label:l,Remove:u},isFocused:L,isDisabled:v,key:j,index:D,removeProps:{onClick:function(){return i.removeValue(R)},onTouchEnd:function(){return i.removeValue(R)},onMouseDown:function(F){F.preventDefault()}},data:R}),i.formatOptionLabel(R,"value"))});if(E)return null;var A=k[0];return T.createElement(d,St({},g,{data:A,isDisabled:v}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,u=o.isLoading,d=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(a,St({},s,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,u=o.isLoading,d=this.state.isFocused;if(!a||!u)return null;var h={"aria-hidden":"true"};return T.createElement(a,St({},s,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,s=i.IndicatorSeparator;if(!a||!s)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return T.createElement(s,St({},o,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var s=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(a,St({},s,{innerProps:u,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),s=a.Group,o=a.GroupHeading,l=a.Menu,u=a.MenuList,d=a.MenuPortal,h=a.LoadingMessage,g=a.NoOptionsMessage,y=a.Option,_=this.commonProps,v=this.state.focusedOption,b=this.props,E=b.captureMenuScroll,N=b.inputValue,C=b.isLoading,k=b.loadingMessage,O=b.minMenuHeight,I=b.maxMenuHeight,A=b.menuIsOpen,R=b.menuPlacement,D=b.menuPosition,L=b.menuPortalTarget,j=b.menuShouldBlockScroll,B=b.menuShouldScrollIntoView,F=b.noOptionsMessage,re=b.onMenuScrollToTop,q=b.onMenuScrollToBottom;if(!A)return null;var V=function(Y,K){var J=Y.type,fe=Y.data,pe=Y.isDisabled,ye=Y.isSelected,de=Y.label,he=Y.value,Ce=v===fe,me=pe?void 0:function(){return i.onOptionHover(fe)},Ue=pe?void 0:function(){return i.selectOption(fe)},$e="".concat(i.getElementId("option"),"-").concat(K),Je={id:$e,onClick:Ue,onMouseMove:me,onMouseOver:me,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:ye};return T.createElement(y,St({},_,{innerProps:Je,data:fe,isDisabled:pe,isSelected:ye,key:$e,label:de,type:J,value:he,isFocused:Ce,innerRef:Ce?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Y.data,"menu"))},X;if(this.hasOptions())X=this.getCategorizedOptions().map(function(z){if(z.type==="group"){var Y=z.data,K=z.options,J=z.index,fe="".concat(i.getElementId("group"),"-").concat(J),pe="".concat(fe,"-heading");return T.createElement(s,St({},_,{key:fe,data:Y,options:K,Heading:o,headingProps:{id:pe,data:z.data},label:i.formatGroupLabel(z.data)}),z.options.map(function(ye){return V(ye,"".concat(J,"-").concat(ye.index))}))}else if(z.type==="option")return V(z,"".concat(z.index))});else if(C){var Q=k({inputValue:N});if(Q===null)return null;X=T.createElement(h,_,Q)}else{var ie=F({inputValue:N});if(ie===null)return null;X=T.createElement(g,_,ie)}var W={minMenuHeight:O,maxMenuHeight:I,menuPlacement:R,menuPosition:D,menuShouldScrollIntoView:B},ce=T.createElement(W_e,St({},_,W),function(z){var Y=z.ref,K=z.placerProps,J=K.placement,fe=K.maxHeight;return T.createElement(l,St({},_,W,{innerRef:Y,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:C,placement:J}),T.createElement(bwe,{captureEnabled:E,onTopArrive:re,onBottomArrive:q,lockEnabled:j},function(pe){return T.createElement(u,St({},_,{innerRef:function(de){i.getMenuListRef(de),pe(de)},innerProps:{role:"listbox","aria-multiselectable":_.isMulti,id:i.getElementId("listbox")},isLoading:C,maxHeight:fe,focusedOption:v}),X)}))});return L||D==="fixed"?T.createElement(d,St({},_,{appendTo:L,controlElement:this.controlRef,menuPlacement:R,menuPosition:D}),ce):ce}},{key:"renderFormField",value:function(){var i=this,a=this.props,s=a.delimiter,o=a.isDisabled,l=a.isMulti,u=a.name,d=a.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!o)return T.createElement(Ewe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||o))if(l)if(s){var g=h.map(function(v){return i.getOptionValue(v)}).join(s);return T.createElement("input",{name:u,type:"hidden",value:g})}else{var y=h.length>0?h.map(function(v,b){return T.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:i.getOptionValue(v)})}):T.createElement("input",{name:u,type:"hidden",value:""});return T.createElement("div",null,y)}else{var _=h[0]?this.getOptionValue(h[0]):"";return T.createElement("input",{name:u,type:"hidden",value:_})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,s=a.ariaSelection,o=a.focusedOption,l=a.focusedValue,u=a.isFocused,d=a.selectValue,h=this.getFocusableOptions();return T.createElement(lwe,St({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:o,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,s=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,u=this.props,d=u.className,h=u.id,g=u.isDisabled,y=u.menuIsOpen,_=this.state.isFocused,v=this.commonProps=this.getCommonProps();return T.createElement(o,St({},v,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:_}),this.renderLiveRegion(),T.createElement(a,St({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:_,menuIsOpen:y}),T.createElement(l,St({},v,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(s,St({},v,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var s=a.prevProps,o=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,u=a.ariaSelection,d=a.isFocused,h=a.prevWasFocused,g=a.instancePrefix,y=i.options,_=i.value,v=i.menuIsOpen,b=i.inputValue,E=i.isMulti,N=iB(_),C={};if(s&&(_!==s.value||y!==s.options||v!==s.menuIsOpen||b!==s.inputValue)){var k=v?Bwe(i,N):[],O=v?xB(c1(i,N),"".concat(g,"-option")):[],I=o?$we(a,N):null,A=Vwe(a,k),R=ZC(O,A);C={selectValue:N,focusedOption:A,focusedOptionId:R,focusableOptionsWithIds:O,focusedValue:I,clearFocusValueOnUpdate:!1}}var D=l!=null&&i!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},L=u,j=d&&h;return d&&!j&&(L={value:u_(E,N,N[0]||null),options:N,action:"initial-input-focus"},j=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(L=null),vt(vt(vt({},C),D),{},{prevProps:i,ariaSelection:L,prevWasFocused:j})}}]),n}(T.Component);xQ.defaultProps=Fwe;var Hwe=T.forwardRef(function(t,e){var n=bbe(t);return T.createElement(xQ,St({ref:e},n))}),Wu=Hwe;const _B=[{value:"Andhra Pradesh",label:"Andhra Pradesh"},{value:"Arunachal Pradesh",label:"Arunachal Pradesh"},{value:"Assam",label:"Assam"},{value:"Bihar",label:"Bihar"},{value:"Chhattisgarh",label:"Chhattisgarh"},{value:"Goa",label:"Goa"},{value:"Gujarat",label:"Gujarat"},{value:"Haryana",label:"Haryana"},{value:"Himachal Pradesh",label:"Himachal Pradesh"},{value:"Jharkhand",label:"Jharkhand"},{value:"Karnataka",label:"Karnataka"},{value:"Kerala",label:"Kerala"},{value:"Madhya Pradesh",label:"Madhya Pradesh"},{value:"Maharashtra",label:"Maharashtra"},{value:"Manipur",label:"Manipur"},{value:"Meghalaya",label:"Meghalaya"},{value:"Mizoram",label:"Mizoram"},{value:"Nagaland",label:"Nagaland"},{value:"Odisha",label:"Odisha"},{value:"Punjab",label:"Punjab"},{value:"Rajasthan",label:"Rajasthan"},{value:"Sikkim",label:"Sikkim"},{value:"Tamil Nadu",label:"Tamil Nadu"},{value:"Telangana",label:"Telangana"},{value:"Tripura",label:"Tripura"},{value:"Uttar Pradesh",label:"Uttar Pradesh"},{value:"Uttarakhand",label:"Uttarakhand"},{value:"West Bengal",label:"West Bengal"},{value:"Andaman and Nicobar Islands",label:"Andaman and Nicobar Islands"},{value:"Chandigarh",label:"Chandigarh"},{value:"Dadra and Nagar Haveli and Daman and Diu",label:"Dadra and Nagar Haveli and Daman and Diu"},{value:"Delhi",label:"Delhi"},{value:"Jammu and Kashmir",label:"Jammu and Kashmir"},{value:"Ladakh",label:"Ladakh"},{value:"Lakshadweep",label:"Lakshadweep"},{value:"Puducherry",label:"Puducherry"},{value:"NA-Agent",label:"NA-Agent"}],zwe=({formData:t,setFormData:e})=>p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(j1,{className:"h-5 w-5 text-gray-500"}),p.jsx("h3",{className:"text-lg font-semibold",children:"Clinic Information"})]}),p.jsx(Zd,{}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"State"}),p.jsx(Wu,{options:_B,value:_B.find(n=>n.value===t.state),onChange:n=>e({...t,state:n.value}),placeholder:"Select a state",className:"react-select-container",classNamePrefix:"react-select"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"District"}),p.jsx(Js,{type:"text",required:!0,value:t.district,onChange:n=>e({...t,district:n.target.value})})]}),p.jsxs("div",{className:"md:col-span-2 space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),p.jsx("textarea",{required:!0,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t.address,onChange:n=>e({...t,address:n.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pincode"}),p.jsx(Js,{type:"text",required:!0,pattern:"[0-9]{6}",value:t.pincode,onChange:n=>e({...t,pincode:n.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Clinic Mobile Number"}),p.jsx(Js,{type:"tel",required:!0,pattern:"[0-9]{10}",value:t.clinicMobileNo,onChange:n=>e({...t,clinicMobileNo:n.target.value}),placeholder:"10-digit mobile number"})]}),p.jsx("div",{className:"md:col-span-2",children:p.jsxs(nn,{className:"bg-blue-50 border-blue-200",children:[p.jsx(Dj,{className:"h-4 w-4 text-blue-500 mr-2"}),p.jsx(rn,{className:"text-blue-800",children:"After creating this clinic, you can manage its assignments and hierarchy using the Clinic Management tab."})]})})]})]}),qwe=({currentUserRole:t,currentUser:e})=>{const{formData:n,error:r,success:i,loading:a,handleSubmit:s,setFormData:o,selectedRoleToCreate:l,setSelectedRoleToCreate:u,roleToCreate:d,needsToCreatePharmacistFirst:h,isCreatingPharmacist:g,isCreatingClinic:y,isCreatingDoctor:_,availablePharmacists:v}=lbe(t,e);return p.jsxs(ei,{className:"w-full max-w-4xl mx-auto bg-white shadow-xl",children:[p.jsxs(Kd,{className:"space-y-1 pb-6",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(nm,{className:"h-6 w-6 text-blue-500"}),p.jsxs(Yd,{className:"text-2xl font-bold",children:["Create New"," ",Array.isArray(d)?p.jsxs(im,{value:l,onValueChange:u,children:[p.jsx(sm,{className:"w-[180px] inline-flex ml-2 text-xl",children:p.jsx(am,{placeholder:"Select role"})}),p.jsx(om,{children:d.map(b=>p.jsx(Ya,{value:b,children:b.charAt(0).toUpperCase()+b.slice(1)},b))})]}):l.charAt(0).toUpperCase()+l.slice(1)]})]}),p.jsxs(Xd,{children:["Enter the details to create a new ",l," account in the system"]})]}),h&&p.jsxs(nn,{className:"mx-6 mb-4 bg-amber-50 border-amber-200",children:[p.jsx(Ti,{className:"h-4 w-4 text-amber-700"}),p.jsx(rn,{className:"text-amber-700",children:"You need to create a pharmacist first before you can create clinics. After creating a pharmacist, you can then create clinics (nurse role) which will be automatically assigned to both you and your pharmacist."})]}),t==="ro"&&l==="agent"&&p.jsx(nn,{className:"mx-6 mb-4 bg-blue-50 border-blue-200",children:p.jsx(rn,{className:"text-blue-800",children:"As an RO, you create agents who will create their pharmacists and then clinics."})}),t==="agent"&&y&&v.length>0&&p.jsx(nn,{className:"mx-6 mb-4 bg-blue-50 border-blue-200",children:p.jsx(rn,{className:"text-blue-800",children:"This clinic will be automatically assigned to you, your pharmacist(s), and your doctor hierarchy."})}),p.jsx(xi,{children:p.jsxs("form",{id:"userCreationForm",onSubmit:s,className:"space-y-8",children:[p.jsx(hbe,{formData:n,setFormData:o,isCreatingClinic:y,isCreatingDoctor:_,isCreatingPharmacist:g,currentUserRole:t}),y&&p.jsx(zwe,{formData:n,setFormData:o}),r&&p.jsx(nn,{variant:"destructive",children:p.jsx(rn,{children:r})}),i&&p.jsxs(nn,{className:"bg-green-50 border-green-200",children:[p.jsx(Cu,{className:"h-4 w-4 text-green-700 mr-2"}),p.jsx(rn,{className:"text-green-800",children:i})]})]})}),p.jsxs(Qd,{className:"bg-gray-50 px-6 py-4 flex gap-4",children:[p.jsx(nt,{type:"submit",form:"userCreationForm",disabled:a||h&&!g,className:"flex-1",variant:"default",children:a?p.jsxs("div",{className:"flex items-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):`Create ${l}`}),h&&!g&&p.jsxs(nt,{type:"button",variant:"outline",className:"flex-1",onClick:()=>u("pharmacist"),children:[p.jsx(rge,{className:"mr-2 h-4 w-4"}),"Create Pharmacist First"]})]})]})};function Jd({className:t,...e}){return p.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:p.jsx("table",{"data-slot":"table",className:Lt("w-full caption-bottom text-sm",t),...e})})}function eh({className:t,...e}){return p.jsx("thead",{"data-slot":"table-header",className:Lt("[&_tr]:border-b",t),...e})}function th({className:t,...e}){return p.jsx("tbody",{"data-slot":"table-body",className:Lt("[&_tr:last-child]:border-0",t),...e})}function ma({className:t,...e}){return p.jsx("tr",{"data-slot":"table-row",className:Lt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function un({className:t,...e}){return p.jsx("th",{"data-slot":"table-head",className:Lt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Xt({className:t,...e}){return p.jsx("td",{"data-slot":"table-cell",className:Lt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Wwe(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var f0=t=>{const{present:e,children:n}=t,r=Gwe(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),a=or(r.ref,Kwe(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:a}):null};f0.displayName="Presence";function Gwe(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),a=T.useRef("none"),s=t?"mounted":"unmounted",[o,l]=Wwe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=f_(r.current);a.current=o==="mounted"?u:"none"},[o]),ya(()=>{const u=r.current,d=i.current;if(d!==t){const g=a.current,y=f_(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ya(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=y=>{const v=f_(r.current).includes(y.animationName);if(y.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=y=>{y.target===e&&(a.current=f_(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function f_(t){return(t==null?void 0:t.animationName)||"none"}function Kwe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bQ=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),a=i.find(Xwe);if(a){const s=a.props.children,o=i.map(l=>l===a?T.Children.count(s)>1?T.Children.only(null):T.isValidElement(s)?s.props.children:null:l);return p.jsx(SI,{...r,ref:e,children:T.isValidElement(s)?T.cloneElement(s,void 0,o):null})}return p.jsx(SI,{...r,ref:e,children:n})});bQ.displayName="Slot";var SI=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=Zwe(n),a=Qwe(r,n.props);return n.type!==T.Fragment&&(a.ref=e?sx(e,i):i),T.cloneElement(n,a)}return T.Children.count(n)>1?T.Children.only(null):null});SI.displayName="SlotClone";var Ywe=({children:t})=>p.jsx(p.Fragment,{children:t});function Xwe(t){return T.isValidElement(t)&&t.type===Ywe}function Qwe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Zwe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var aM="Dialog",[_Q,GGe]=mc(aM),[Jwe,go]=_Q(aM),wQ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=T.useRef(null),l=T.useRef(null),[u=!1,d]=Td({prop:r,defaultProp:i,onChange:a});return p.jsx(Jwe,{scope:e,triggerRef:o,contentRef:l,contentId:Nu(),titleId:Nu(),descriptionId:Nu(),open:u,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(h=>!h),[d]),modal:s,children:n})};wQ.displayName=aM;var EQ="DialogTrigger",SQ=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=go(EQ,n),a=or(e,i.triggerRef);return p.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lM(i.open),...r,ref:a,onClick:Ht(t.onClick,i.onOpenToggle)})});SQ.displayName=EQ;var sM="DialogPortal",[eEe,TQ]=_Q(sM,{forceMount:void 0}),AQ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=go(sM,e);return p.jsx(eEe,{scope:e,forceMount:n,children:T.Children.map(r,s=>p.jsx(f0,{present:n||a.open,children:p.jsx(Gj,{asChild:!0,container:i,children:s})}))})};AQ.displayName=sM;var Y1="DialogOverlay",CQ=T.forwardRef((t,e)=>{const n=TQ(Y1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=go(Y1,t.__scopeDialog);return a.modal?p.jsx(f0,{present:r||a.open,children:p.jsx(tEe,{...i,ref:e})}):null});CQ.displayName=Y1;var tEe=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=go(Y1,n);return p.jsx(cS,{as:bQ,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(qt.div,{"data-state":lM(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Nd="DialogContent",NQ=T.forwardRef((t,e)=>{const n=TQ(Nd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=go(Nd,t.__scopeDialog);return p.jsx(f0,{present:r||a.open,children:a.modal?p.jsx(nEe,{...i,ref:e}):p.jsx(rEe,{...i,ref:e})})});NQ.displayName=Nd;var nEe=T.forwardRef((t,e)=>{const n=go(Nd,t.__scopeDialog),r=T.useRef(null),i=or(e,n.contentRef,r);return T.useEffect(()=>{const a=r.current;if(a)return Yj(a)},[]),p.jsx(OQ,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ht(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:Ht(t.onFocusOutside,a=>a.preventDefault())})}),rEe=T.forwardRef((t,e)=>{const n=go(Nd,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return p.jsx(OQ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),OQ=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=go(Nd,n),l=T.useRef(null),u=or(e,l);return TY(),p.jsxs(p.Fragment,{children:[p.jsx(jj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:p.jsx(kj,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":lM(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(iEe,{titleId:o.titleId}),p.jsx(sEe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),oM="DialogTitle",PQ=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=go(oM,n);return p.jsx(qt.h2,{id:i.titleId,...r,ref:e})});PQ.displayName=oM;var RQ="DialogDescription",IQ=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=go(RQ,n);return p.jsx(qt.p,{id:i.descriptionId,...r,ref:e})});IQ.displayName=RQ;var DQ="DialogClose",kQ=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=go(DQ,n);return p.jsx(qt.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,()=>i.onOpenChange(!1))})});kQ.displayName=DQ;function lM(t){return t?"open":"closed"}var jQ="DialogTitleWarning",[KGe,MQ]=ave(jQ,{contentName:Nd,titleName:oM,docsSlug:"dialog"}),iEe=({titleId:t})=>{const e=MQ(jQ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aEe="DialogDescriptionWarning",sEe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MQ(aEe).contentName}}.`;return T.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},oEe=wQ,lEe=SQ,cEe=AQ,uEe=CQ,fEe=NQ,dEe=PQ,hEe=IQ,pEe=kQ;function Rs({...t}){return p.jsx(oEe,{"data-slot":"dialog",...t})}function vS({...t}){return p.jsx(lEe,{"data-slot":"dialog-trigger",...t})}function mEe({...t}){return p.jsx(cEe,{"data-slot":"dialog-portal",...t})}function gEe({className:t,...e}){return p.jsx(uEe,{"data-slot":"dialog-overlay",className:Lt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Is({className:t,children:e,...n}){return p.jsxs(mEe,{"data-slot":"dialog-portal",children:[p.jsx(gEe,{}),p.jsxs(fEe,{"data-slot":"dialog-content",className:Lt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,p.jsxs(pEe,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(od,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Gu({className:t,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:Lt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Gv({className:t,...e}){return p.jsx("div",{"data-slot":"dialog-footer",className:Lt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function ic({className:t,...e}){return p.jsx(dEe,{"data-slot":"dialog-title",className:Lt("text-lg leading-none font-semibold",t),...e})}function Ku({className:t,...e}){return p.jsx(hEe,{"data-slot":"dialog-description",className:Lt("text-muted-foreground text-sm",t),...e})}var vEe="Label",LQ=T.forwardRef((t,e)=>p.jsx(qt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LQ.displayName=vEe;var yEe=LQ;function Dl({className:t,...e}){return p.jsx(yEe,{"data-slot":"label",className:Lt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var cM="Switch",[xEe,YGe]=mc(cM),[bEe,_Ee]=xEe(cM),FQ=T.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[g,y]=T.useState(null),_=or(e,C=>y(C)),v=T.useRef(!1),b=g?d||!!g.closest("form"):!0,[E=!1,N]=Td({prop:i,defaultProp:a,onChange:u});return p.jsxs(bEe,{scope:n,checked:E,disabled:o,children:[p.jsx(qt.button,{type:"button",role:"switch","aria-checked":E,"aria-required":s,"data-state":VQ(E),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:_,onClick:Ht(t.onClick,C=>{N(k=>!k),b&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),b&&p.jsx(wEe,{control:g,bubbles:!v.current,name:r,value:l,checked:E,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});FQ.displayName=cM;var BQ="SwitchThumb",$Q=T.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=_Ee(BQ,n);return p.jsx(qt.span,{"data-state":VQ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});$Q.displayName=BQ;var wEe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=T.useRef(null),s=Kj(n),o=zj(e);return T.useEffect(()=>{const l=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&h){const g=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(g)}},[s,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function VQ(t){return t?"checked":"unchecked"}var EEe=FQ,SEe=$Q;function UQ({className:t,...e}){return p.jsx(EEe,{"data-slot":"switch",className:Lt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(SEe,{"data-slot":"switch-thumb",className:Lt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const TEe=({currentUser:t})=>{const[e,n]=T.useState(!0),[r,i]=T.useState(!1),[a,s]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState([]),[h,g]=T.useState([]),[y,_]=T.useState(!1),[v,b]=T.useState(""),[E,N]=T.useState(!1),[C,k]=T.useState([]),[O,I]=T.useState(!1);T.useEffect(()=>{(async()=>{try{n(!0);const X=kt(dn(st,"users"),tt("role","==","doctor")),ie=(await ur(X)).docs.map(z=>({id:z.id,...z.data()}));d(ie);const W=hn(st,"users",t.uid),ce=await ar(W);if(ce.exists()){const z=ce.data();if(z.doctorHierarchy&&Array.isArray(z.doctorHierarchy)){const Y=await Promise.all(z.doctorHierarchy.map(async(K,J)=>{const fe=hn(st,"users",K),pe=await ar(fe);return pe.exists()?{id:K,position:J+1,...pe.data()}:{id:K,position:J+1,name:"Unknown Doctor",email:"N/A"}}));g(Y)}else g([]);z.assignToAnyDoctor!==void 0&&N(z.assignToAnyDoctor)}}catch(X){console.error("Error fetching data:",X),l("Failed to load doctors. Please try again.")}finally{n(!1)}})()},[t.uid]);const A=V=>{const X=["Primary","Secondary","Tertiary","Quaternary","Quinary"];if(X[V-1])return X[V-1];const Q=V%10,ie=V%100;return Q===1&&ie!==11?`${V}st`:Q===2&&ie!==12?`${V}nd`:Q===3&&ie!==13?`${V}rd`:`${V}th`},R=V=>V.map((X,Q)=>({...X,position:Q+1})),D=()=>{if(!v||h.some(X=>X.id===v)){h.some(X=>X.id===v)&&l("This doctor is already in your hierarchy.");return}const V=u.find(X=>X.id===v);if(V){const X=[...h,{...V,position:h.length+1}];g(R(X)),b(""),_(!1),l("")}},L=V=>{if(V<=0)return;const X=[...h];[X[V-1],X[V]]=[X[V],X[V-1]],g(R(X))},j=V=>{if(V>=h.length-1)return;const X=[...h];[X[V],X[V+1]]=[X[V+1],X[V]],g(R(X))},B=V=>{const X=h.filter(Q=>Q.id!==V);g(R(X))},F=async()=>{try{i(!0),l(""),s("");const V=h.sort((Y,K)=>Y.position-K.position).map(Y=>Y.id),X=hn(st,"users",t.uid),Q=await ar(X);await Ta(X,{...Q.data(),doctorHierarchy:V,assignToAnyDoctor:E},{merge:!1});const ie=kt(dn(st,"users"),tt("role","==","nurse"),tt("createdBy","==",t.uid)),W=await ur(ie),ce=[],z=[];for(const Y of W.docs){const K=Y.data(),J=hn(st,"users",Y.id);if(console.log(K),K.manuallyAddedDoctors)z.push({id:Y.id,...K,clinicRef:J});else{const fe={};h.forEach(ye=>{const de=A(ye.position).toLowerCase();fe[de]=ye.id,fe[`${de}Name`]=ye.name}),fe.assignToAnyDoctor=E;const pe=await ar(J);ce.push(Ta(J,{...pe.data(),assignedDoctors:fe},{merge:!1}))}}ce.length>0&&await Promise.all(ce),z.length>0?(k(z),I(!0),s("Hierarchy saved. Some clinics require confirmation before they are updated.")):s("Doctor hierarchy saved successfully. All your clinics have been updated.")}catch(V){console.error("Error saving hierarchy:",V),l("Failed to save doctor hierarchy. Please try again.")}finally{i(!1)}},re=()=>u.filter(V=>!h.some(X=>X.id===V.id)),q=T.useCallback(()=>{k([])},[]);return p.jsxs(p.Fragment,{children:[p.jsxs(ei,{className:"w-full max-w-4xl mx-auto bg-white shadow-xl",children:[p.jsxs(Kd,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(tm,{className:"h-6 w-6 text-blue-500"}),p.jsx(Yd,{className:"text-2xl font-bold",children:"Doctor Hierarchy Management"})]}),p.jsx(Xd,{children:"Configure the hierarchy of doctors who will be assigned to all your clinics"})]}),p.jsx(xi,{children:e?p.jsx("div",{className:"flex justify-center py-8",children:p.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Assigned Doctors"}),p.jsxs(Rs,{open:y,onOpenChange:_,children:[p.jsx(vS,{asChild:!0,children:p.jsxs(nt,{size:"sm",className:"flex items-center gap-1",children:[p.jsx(a0,{className:"h-4 w-4"}),"Add Doctor"]})}),p.jsxs(Is,{children:[p.jsxs(Gu,{children:[p.jsx(ic,{children:"Add Doctor to Hierarchy"}),p.jsx(Ku,{children:"Select a doctor to add to your hierarchy. They will be assigned to your clinics."})]}),p.jsx("div",{className:"py-4",children:p.jsx(Wu,{onChange:V=>b(V?V.id:""),options:re().map(V=>({value:V.id,label:`${V.name} (${V.email})`,id:V.id})),placeholder:"Select a doctor",isClearable:!0,noOptionsMessage:()=>"No available doctors to add"})}),p.jsxs(Gv,{children:[p.jsx(nt,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),p.jsx(nt,{onClick:D,disabled:!v,children:"Add Doctor"})]})]})]})]}),p.jsx(Zd,{}),h.length===0?p.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-md border border-dashed border-gray-300",children:[p.jsx(s0,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-500",children:"No doctors assigned yet"}),p.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add doctors to create your hierarchy"})]}):p.jsxs(Jd,{children:[p.jsx(eh,{children:p.jsxs(ma,{children:[p.jsx(un,{className:"w-16",children:"Position"}),p.jsx(un,{children:"Doctor Name"}),p.jsx(un,{children:"Email"}),p.jsx(un,{className:"w-32 text-right",children:"Actions"})]})}),p.jsx(th,{children:h.map((V,X)=>p.jsxs(ma,{children:[p.jsx(Xt,{children:p.jsx(Gn,{variant:"outline",className:"font-medium",children:A(V.position)})}),p.jsx(Xt,{className:"font-medium",children:V.name}),p.jsx(Xt,{children:V.email}),p.jsx(Xt,{className:"text-right",children:p.jsxs("div",{className:"flex justify-end gap-1",children:[p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>L(X),disabled:X===0,className:"h-8 w-8",children:p.jsx(ax,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>j(X),disabled:X===h.length-1,className:"h-8 w-8",children:p.jsx(i0,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>B(V.id),className:"h-8 w-8 text-red-500 hover:text-red-700 hover:bg-red-50",children:p.jsx(rS,{className:"h-4 w-4"})})]})})]},V.id))})]}),p.jsxs("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:[p.jsxs("div",{className:"flex-1 space-y-1",children:[p.jsx(Dl,{htmlFor:"assign-to-any-doc",className:"text-base",children:"Fallback Assignment"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"When primary doctors are unavailable, assign cases to any available doctor"})]}),p.jsx(UQ,{id:"assign-to-any-doc",checked:E,onCheckedChange:N})]}),h.length>0&&p.jsx(nn,{className:"bg-blue-50 border-blue-200",children:p.jsxs(rn,{className:"text-blue-800",children:["The order above determines the doctor hierarchy. Primary gets first priority.",E&&p.jsxs("span",{className:"block mt-2 font-medium",children:[p.jsx(Ij,{className:"h-4 w-4 inline mr-1"}),"Fallback to any available doctor is enabled."]})]})}),o&&p.jsxs(nn,{variant:"destructive",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:o})]}),a&&p.jsxs(nn,{className:"bg-green-50 border-green-200",children:[p.jsx(Cu,{className:"h-4 w-4 text-green-700 mr-2"}),p.jsx(rn,{className:"text-green-800",children:a})]})]})}),p.jsx(Qd,{className:"bg-gray-50 px-6 py-4",children:p.jsx(nt,{onClick:F,disabled:r||e||h.length===0,className:"ml-auto flex gap-2 items-center",children:r?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(nS,{className:"h-4 w-4"}),"Save Doctor Hierarchy"]})})})]}),p.jsx(Rs,{open:O,onOpenChange:V=>{V||(q(),I(!1))},children:p.jsxs(Is,{className:"max-w-2xl",children:[p.jsxs(Gu,{children:[p.jsx(ic,{children:"Confirm Hierarchy Override"}),p.jsx(Ku,{children:"Some clinics have manually assigned doctors. Select which clinics should be updated to use this new hierarchy. Unchecked clinics will keep their existing assignments."})]}),p.jsx("div",{className:"py-4 max-h-80 overflow-y-auto",children:p.jsx("div",{className:"space-y-2",children:C.map((V,X)=>p.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50",children:[p.jsx("input",{type:"checkbox",id:`clinic-doc-${X}`,className:"h-4 w-4",checked:V.checked||!1,onChange:Q=>{const ie=[...C];ie[X].checked=Q.target.checked,k(ie)}}),p.jsx("label",{htmlFor:`clinic-doc-${X}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:V.name||"Unnamed Clinic"})]},V.id))})}),p.jsxs(Gv,{children:[p.jsx(nt,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),p.jsx(nt,{onClick:async()=>{try{const V=C.filter(Q=>Q.checked);if(V.length===0){I(!1);return}const X=V.map(Q=>{const ie={};h.forEach(ce=>{const z=A(ce.position).toLowerCase();ie[z]=ce.id,ie[`${z}Name`]=ce.name}),ie.assignToAnyDoctor=E;const W=Q.data;return Ta(Q.clinicRef,{...W.data(),assignedDoctors:ie},{merge:!1})});await Promise.all(X),I(!1),q(),s("Selected clinics have been successfully updated with the new hierarchy.")}catch(V){console.error("Error updating clinics:",V),l("Failed to update clinics. Please try again.")}},children:"Update Selected Clinics"})]})]})})]})},AEe=({currentUser:t})=>{const[e,n]=T.useState(!0),[r,i]=T.useState(!1),[a,s]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState([]),[h,g]=T.useState([]),[y,_]=T.useState(!1),[v,b]=T.useState(""),[E,N]=T.useState(!1),[C,k]=T.useState([]),[O,I]=T.useState([]),[A,R]=T.useState(!1);T.useEffect(()=>{(async()=>{try{n(!0);const W=kt(dn(st,"users"),tt("role","==","pharmacist")),ce=await ur(W),z=[];ce.forEach(J=>{z.push({id:J.id,name:J.data().name,email:J.data().email,...J.data()})}),d(z);const Y=hn(st,"users",t.uid),K=await ar(Y);if(K.exists()){const J=K.data();if(J.pharmacistHierarchy&&Array.isArray(J.pharmacistHierarchy)){const fe=await Promise.all(J.pharmacistHierarchy.map(async(pe,ye)=>{const de=hn(st,"users",pe),he=await ar(de);return he.exists()?{id:pe,position:ye+1,name:he.data().name,email:he.data().email}:{id:pe,position:ye+1,name:"Unknown Pharmacist",email:"N/A"}}));g(fe)}else g([]);J.assignToAnyPharmacist!==void 0&&N(J.assignToAnyPharmacist)}}catch(W){console.error("Error fetching data:",W),l("Failed to load pharmacists. Please try again.")}finally{n(!1)}})()},[t.uid]);const D=ie=>["Primary","Secondary","Tertiary","Quaternary","Quinary"][ie-1]||`${ie}${L(ie)}`,L=ie=>{const W=ie%10,ce=ie%100;return W===1&&ce!==11?"st":W===2&&ce!==12?"nd":W===3&&ce!==13?"rd":"th"},j=()=>{if(!v)return;if(h.some(W=>W.id===v)){l("This pharmacist is already in your hierarchy.");return}const ie=u.find(W=>W.id===v);if(ie){const W=h.length+1;g([...h,{id:ie.id,position:W,name:ie.name,email:ie.email}]),b(""),_(!1)}},B=ie=>{if(ie<=0)return;const W=[...h];[W[ie-1],W[ie]]=[W[ie],W[ie-1]],W.forEach((ce,z)=>{ce.position=z+1}),g(W)},F=ie=>{if(ie>=h.length-1)return;const W=[...h];[W[ie],W[ie+1]]=[W[ie+1],W[ie]],W.forEach((ce,z)=>{ce.position=z+1}),g(W)},re=ie=>{const W=h.filter(ce=>ce.id!==ie);W.forEach((ce,z)=>{ce.position=z+1}),g(W)},q=async()=>{try{i(!0),l(""),s("");const ie=h.sort((fe,pe)=>fe.position-pe.position).map(fe=>fe.id),W=hn(st,"users",t.uid),ce=await ar(W);await Ta(W,{...ce.data(),pharmacistHierarchy:ie,assignToAnyPharmacist:E},{merge:!1});const z=kt(dn(st,"users"),tt("role","==","nurse"),tt("createdBy","==",t.uid)),Y=await ur(z),K=[],J=[];for(const fe of Y.docs){const pe=fe.data();if(pe.manuallyAddedPharmacists)J.push({id:fe.id,name:pe.name,...pe});else{const ye={};h.forEach(Ce=>{const me=D(Ce.position).toLowerCase();ye[me]=Ce.id,ye[`${me}Name`]=Ce.name}),ye.assignToAnyPharmacist=E;const de=hn(st,"users",fe.id),he=await ar(de);K.push(Ta(de,{...he.data(),assignedPharmacists:ye},{merge:!1}))}}K.length>0&&await Promise.all(K),J.length>0?(k(J),R(!0),s("Hierarchy saved. Some clinics require confirmation before they are updated.")):s("Pharmacist hierarchy saved successfully. All your clinics have been updated.")}catch(ie){console.error("Error saving hierarchy:",ie),l("Failed to save pharmacist hierarchy. Please try again.")}finally{i(!1)}},V=()=>u.filter(ie=>!h.some(W=>W.id===ie.id)),X=T.useCallback(()=>{k([]),R(!1)},[]),Q=async()=>{try{i(!0),l("");const ie=C.filter(W=>W.checked).map(async W=>{const ce={};h.forEach(K=>{const J=D(K.position).toLowerCase();ce[J]=K.id,ce[`${J}Name`]=K.name}),ce.assignToAnyPharmacist=E;const z=hn(st,"users",W.id),Y=await ar(z);if(!Y.exists())throw new Error(`Clinic document with ID ${W.id} does not exist`);return Ta(z,{...Y.data(),assignedPharmacists:ce},{merge:!1})});await Promise.all(ie),k([]),R(!1),s("Pharmacist hierarchy saved successfully. All selected clinics have been updated.")}catch(ie){console.error("Error updating clinics:",ie),l(`Failed to update clinics: ${ie.message}. Please try again.`)}finally{i(!1)}};return p.jsxs("div",{children:[p.jsxs(ei,{className:"w-full max-w-4xl mx-auto bg-white shadow-xl",children:[p.jsxs(Kd,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ed,{className:"h-6 w-6 text-green-500"}),p.jsx(Yd,{className:"text-2xl font-bold",children:"Pharmacist Hierarchy Management"})]}),p.jsx(Xd,{children:"Configure the hierarchy of pharmacists who will be assigned to all your clinics"})]}),p.jsx(xi,{children:e?p.jsx("div",{className:"flex justify-center py-8",children:p.jsxs("svg",{className:"animate-spin h-8 w-8 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Assigned Pharmacists"}),p.jsxs(Rs,{open:y,onOpenChange:_,children:[p.jsx(vS,{asChild:!0,children:p.jsxs(nt,{size:"sm",className:"flex items-center gap-1",children:[p.jsx(a0,{className:"h-4 w-4"}),"Add Pharmacist"]})}),p.jsxs(Is,{children:[p.jsxs(Gu,{children:[p.jsx(ic,{children:"Add Pharmacist to Hierarchy"}),p.jsx(Ku,{children:"Select a pharmacist to add to your hierarchy. They will be assigned to all your clinics."})]}),p.jsx("div",{className:"py-4",children:p.jsx(Wu,{onChange:ie=>b(ie?ie.id:""),options:V().map(ie=>({value:ie.id,label:`${ie.name} (${ie.email})`,id:ie.id})),placeholder:"Select a pharmacist",isClearable:!0,noOptionsMessage:()=>"No available pharmacists to add"})}),p.jsxs(Gv,{children:[p.jsx(nt,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),p.jsx(nt,{onClick:j,disabled:!v,children:"Add Pharmacist"})]})]})]})]}),p.jsx(Zd,{}),h.length===0?p.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-md border border-dashed border-gray-300",children:[p.jsx(s0,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-500",children:"No pharmacists assigned yet"}),p.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add pharmacists to create your hierarchy"})]}):p.jsxs(Jd,{children:[p.jsx(eh,{children:p.jsxs(ma,{children:[p.jsx(un,{className:"w-16",children:"Position"}),p.jsx(un,{children:"Pharmacist Name"}),p.jsx(un,{children:"Email"}),p.jsx(un,{className:"w-32 text-right",children:"Actions"})]})}),p.jsx(th,{children:h.sort((ie,W)=>ie.position-W.position).map((ie,W)=>p.jsxs(ma,{children:[p.jsx(Xt,{children:p.jsx(Gn,{variant:"outline",className:"font-medium",children:D(ie.position)})}),p.jsx(Xt,{className:"font-medium",children:ie.name}),p.jsx(Xt,{children:ie.email}),p.jsx(Xt,{className:"text-right",children:p.jsxs("div",{className:"flex justify-end gap-1",children:[p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>B(W),disabled:W===0,className:"h-8 w-8",children:p.jsx(ax,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>F(W),disabled:W===h.length-1,className:"h-8 w-8",children:p.jsx(i0,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>re(ie.id),className:"h-8 w-8 text-red-500 hover:text-red-700 hover:bg-red-50",children:p.jsx(rS,{className:"h-4 w-4"})})]})})]},ie.id))})]}),p.jsxs("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:[p.jsxs("div",{className:"flex-1 space-y-1",children:[p.jsx(Dl,{htmlFor:"assign-to-any",className:"text-base",children:"Fallback Assignment"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"When primary pharmacists are unavailable, assign cases to any available pharmacist"})]}),p.jsx(UQ,{id:"assign-to-any",checked:E,onCheckedChange:N})]}),h.length>0&&p.jsx(nn,{className:"bg-blue-50 border-blue-200",children:p.jsxs(rn,{className:"text-blue-800",children:["The order above determines the pharmacist hierarchy. Primary pharmacists get first priority, followed by Secondary, etc.",E&&p.jsxs("span",{className:"block mt-2 font-medium",children:[p.jsx(Ij,{className:"h-4 w-4 inline mr-1"}),"Cases will be assigned to any available pharmacist when hierarchy pharmacists are unavailable."]})]})}),o&&p.jsxs(nn,{variant:"destructive",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:o})]}),a&&p.jsxs(nn,{className:"bg-green-50 border-green-200",children:[p.jsx(Cu,{className:"h-4 w-4 text-green-700 mr-2"}),p.jsx(rn,{className:"text-green-800",children:a})]})]})}),p.jsx(Qd,{className:"bg-gray-50 px-6 py-4",children:p.jsx(nt,{onClick:q,disabled:r||e||h.length===0,className:"ml-auto flex gap-2 items-center",children:r?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(nS,{className:"h-4 w-4"}),"Save Pharmacist Hierarchy"]})})})]}),p.jsx(Rs,{open:A,onOpenChange:ie=>{ie||X()},children:p.jsxs(Is,{className:"max-w-5xl w-[90vw] p-4 overflow-hidden","aria-describedby":"case-detail-description",children:[p.jsxs(Gu,{children:[p.jsx(ic,{children:"Confirm Clinic Updates"}),p.jsx(Ku,{children:"The following clinics have manually assigned pharmacists. Select the ones you wish to override with the new hierarchy."})]}),p.jsx("div",{children:p.jsx("div",{className:"space-y-2",children:C.map((ie,W)=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",id:`clinic-${W}`,className:"h-4 w-4",checked:ie.checked||!1,onChange:ce=>{const z=[...C];z[W].checked=ce.target.checked,k(z)}}),p.jsx("label",{htmlFor:`clinic-${W}`,className:"text-sm",children:ie.name||"Unnamed Clinic"})]},ie.id))})}),p.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[p.jsx(nt,{variant:"outline",onClick:X,children:"Cancel"}),p.jsx(nt,{onClick:Q,disabled:r,children:r?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Clinics"})]})]})})]})};var JC="rovingFocusGroup.onEntryFocus",CEe={bubbles:!1,cancelable:!0},yS="RovingFocusGroup",[TI,HQ,NEe]=_Y(yS),[OEe,xS]=mc(yS,[NEe]),[PEe,REe]=OEe(yS),zQ=T.forwardRef((t,e)=>p.jsx(TI.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(TI.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(IEe,{...t,ref:e})})}));zQ.displayName=yS;var IEe=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,g=T.useRef(null),y=or(e,g),_=iS(a),[v=null,b]=Td({prop:s,defaultProp:o,onChange:l}),[E,N]=T.useState(!1),C=Zo(u),k=HQ(n),O=T.useRef(!1),[I,A]=T.useState(0);return T.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(JC,C),()=>R.removeEventListener(JC,C)},[C]),p.jsx(PEe,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:v,onItemFocus:T.useCallback(R=>b(R),[b]),onItemShiftTab:T.useCallback(()=>N(!0),[]),onFocusableItemAdd:T.useCallback(()=>A(R=>R+1),[]),onFocusableItemRemove:T.useCallback(()=>A(R=>R-1),[]),children:p.jsx(qt.div,{tabIndex:E||I===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:Ht(t.onMouseDown,()=>{O.current=!0}),onFocus:Ht(t.onFocus,R=>{const D=!O.current;if(R.target===R.currentTarget&&D&&!E){const L=new CustomEvent(JC,CEe);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const j=k().filter(V=>V.focusable),B=j.find(V=>V.active),F=j.find(V=>V.id===v),q=[B,F,...j].filter(Boolean).map(V=>V.ref.current);GQ(q,d)}}O.current=!1}),onBlur:Ht(t.onBlur,()=>N(!1))})})}),qQ="RovingFocusGroupItem",WQ=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=Nu(),l=a||o,u=REe(qQ,n),d=u.currentTabStopId===l,h=HQ(n),{onFocusableItemAdd:g,onFocusableItemRemove:y}=u;return T.useEffect(()=>{if(r)return g(),()=>y()},[r,g,y]),p.jsx(TI.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:p.jsx(qt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Ht(t.onMouseDown,_=>{r?u.onItemFocus(l):_.preventDefault()}),onFocus:Ht(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Ht(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=jEe(_,u.orientation,u.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=h().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const N=E.indexOf(_.currentTarget);E=u.loop?MEe(E,N+1):E.slice(N+1)}setTimeout(()=>GQ(E))}})})})});WQ.displayName=qQ;var DEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kEe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function jEe(t,e,n){const r=kEe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DEe[r]}function GQ(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function MEe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KQ=zQ,YQ=WQ,uM="Tabs",[LEe,XGe]=mc(uM,[xS]),XQ=xS(),[FEe,fM]=LEe(uM),QQ=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=iS(o),[h,g]=Td({prop:r,onChange:i,defaultProp:a});return p.jsx(FEe,{scope:n,baseId:Nu(),value:h,onValueChange:g,orientation:s,dir:d,activationMode:l,children:p.jsx(qt.div,{dir:d,"data-orientation":s,...u,ref:e})})});QQ.displayName=uM;var ZQ="TabsList",JQ=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=fM(ZQ,n),s=XQ(n);return p.jsx(KQ,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:p.jsx(qt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});JQ.displayName=ZQ;var eZ="TabsTrigger",tZ=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=fM(eZ,n),o=XQ(n),l=iZ(s.baseId,r),u=aZ(s.baseId,r),d=r===s.value;return p.jsx(YQ,{asChild:!0,...o,focusable:!i,active:d,children:p.jsx(qt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:Ht(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:Ht(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:Ht(t.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!i&&h&&s.onValueChange(r)})})})});tZ.displayName=eZ;var nZ="TabsContent",rZ=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=fM(nZ,n),l=iZ(o.baseId,r),u=aZ(o.baseId,r),d=r===o.value,h=T.useRef(d);return T.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),p.jsx(f0,{present:i||d,children:({present:g})=>p.jsx(qt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:g&&a})})});rZ.displayName=nZ;function iZ(t,e){return`${t}-trigger-${e}`}function aZ(t,e){return`${t}-content-${e}`}var BEe=QQ,$Ee=JQ,VEe=tZ,UEe=rZ;function dM({className:t,...e}){return p.jsx(BEe,{"data-slot":"tabs",className:Lt("flex flex-col gap-2",t),...e})}function hM({className:t,...e}){return p.jsx($Ee,{"data-slot":"tabs-list",className:Lt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function Bo({className:t,...e}){return p.jsx(VEe,{"data-slot":"tabs-trigger",className:Lt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function $o({className:t,...e}){return p.jsx(UEe,{"data-slot":"tabs-content",className:Lt("flex-1 outline-none",t),...e})}const HEe=({currentUser:t,selectedClinic:e})=>{const[n,r]=T.useState(!0),[i,a]=T.useState(!1),[s,o]=T.useState(""),[l,u]=T.useState(""),[d,h]=T.useState([]),[g,y]=T.useState([]),[_,v]=T.useState(!1),[b,E]=T.useState(""),[N,C]=T.useState(""),[k,O]=T.useState(!1);T.useEffect(()=>{(async()=>{var V,X;try{r(!0);const Q=kt(dn(st,"users"),tt("role","==","pharmacist")),ie=await ur(Q),W=[];ie.forEach(K=>{W.push({id:K.id,name:K.data().name,email:K.data().email,...K.data()})}),h(W);const ce=kt(dn(st,"users"),tt("clinicCode","==",e.clinicCode)),z=await ur(ce),Y=(V=z.docs[0])==null?void 0:V.data();if(Y&&Y.assignedPharmacists){C(z.docs[0].id);const K=Object.keys(Y.assignedPharmacists).some(J=>!J.includes("Name")&&!J.includes("assignToAnyPharmacist")&&Y.assignedPharmacists[J]);if(O(K),K){const fe=(await Promise.all(Array.from({length:5},(pe,ye)=>{var me;const de=ye+1,he=I(de).toLowerCase(),Ce=(me=Y.assignedPharmacists)==null?void 0:me[he];return Ce?ar(hn(st,"users",Ce)).then(Ue=>({id:Ce,position:de,name:Ue.exists()?Ue.data().name:"Unknown Pharmacist",email:Ue.exists()?Ue.data().email:"Unknown Email"})).catch(Ue=>(console.error(`Error fetching pharmacist at position ${de}`,Ue),{id:Ce,position:de,name:"Error Fetching",email:"Error Fetching"})):Promise.resolve(null)}))).filter(pe=>pe!==null);y(fe)}}else C(((X=z.docs[0])==null?void 0:X.id)||""),O(!1)}catch(Q){console.error("Error fetching data:",Q),u("Failed to load pharmacists. Please try again.")}finally{r(!1)}})()},[t.uid,e]);const I=q=>["Primary","Secondary","Tertiary","Quaternary","Quinary"][q-1]||`${q}${A(q)}`,A=q=>{const V=q%10,X=q%100;return V===1&&X!==11?"st":V===2&&X!==12?"nd":V===3&&X!==13?"rd":"th"},R=()=>{if(!b)return;if(g.some(V=>V.id===b)){u("This pharmacist is already in your hierarchy.");return}const q=d.find(V=>V.id===b);if(q){const V=g.length+1;y([...g,{id:q.id,position:V,name:q.name,email:q.email}]),E(""),v(!1)}},D=q=>{if(q<=0)return;const V=[...g];[V[q-1],V[q]]=[V[q],V[q-1]],V.forEach((X,Q)=>{X.position=Q+1}),y(V)},L=q=>{if(q>=g.length-1)return;const V=[...g];[V[q],V[q+1]]=[V[q+1],V[q]],V.forEach((X,Q)=>{X.position=Q+1}),y(V)},j=q=>{const V=g.filter(X=>X.id!==q);V.forEach((X,Q)=>{X.position=Q+1}),y(V)},B=async()=>{var q;try{a(!0),u(""),o("");const V=hn(st,"users",N),Q=(await ar(V)).data(),W=g.reduce((z,Y)=>{const K=I(Y.position).toLowerCase();return z[K]=Y.id,z[`${K}Name`]=Y.name,z},{}),ce=(q=Q.assignedPharmacists)==null?void 0:q.assignToAnyPharmacist;ce!==void 0?W.assignToAnyPharmacist=ce:W.assignToAnyPharmacist=!1,Q.assignedPharmacists=W,Q.manuallyAddedPharmacists=!0,await Ta(V,Q,{merge:!1});for(const z of g){const Y=hn(st,"users",z.id);await Ta(Y,{[`assignedClinics.${N}`]:!0},{merge:!0})}o("Pharmacist hierarchy updated successfully.")}catch(V){console.error("Error saving hierarchy:",V),u("Failed to save pharmacist hierarchy. Please try again.")}finally{a(!1)}},F=()=>d.filter(q=>!g.some(V=>V.id===q.id)),re=()=>p.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[p.jsx(nm,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pharmacist Hierarchy Found"}),p.jsx("p",{className:"text-gray-500 mb-4 max-w-md mx-auto",children:"This clinic doesn't have a pharmacist hierarchy set up yet. Please create a hierarchy first before you can edit pharmacist assignments."}),p.jsxs(nn,{className:"bg-blue-50 border-blue-200 max-w-md mx-auto",children:[p.jsx(Ti,{className:"h-4 w-4 text-blue-600"}),p.jsx(rn,{className:"text-blue-800",children:"You can only edit existing hierarchies here. To create a new hierarchy, please use the hierarchy creation feature."})]})]});return p.jsxs(ei,{className:"w-full max-w-4xl mx-auto bg-white shadow-xl",children:[p.jsxs(Kd,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ed,{className:"h-6 w-6 text-purple-500"}),p.jsx(Yd,{className:"text-2xl font-bold",children:k?"Edit Pharmacist Hierarchy":"Pharmacist Hierarchy"})]}),p.jsx(Xd,{children:k?`Edit the pharmacist hierarchy for ${e.name} : ${e.clinicCode}`:`View pharmacist hierarchy status for ${e.name} : ${e.clinicCode}`})]}),p.jsx(xi,{children:n?p.jsx("div",{className:"flex justify-center py-8",children:p.jsxs("svg",{className:"animate-spin h-8 w-8 text-purple-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):k?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Assigned Pharmacists"}),p.jsxs(Rs,{open:_,onOpenChange:v,children:[p.jsx(vS,{asChild:!0,children:p.jsxs(nt,{size:"sm",className:"flex items-center gap-1",children:[p.jsx(a0,{className:"h-4 w-4"}),"Add Pharmacist"]})}),p.jsxs(Is,{children:[p.jsxs(Gu,{children:[p.jsx(ic,{children:"Add Pharmacist to Hierarchy"}),p.jsx(Ku,{children:"Select a pharmacist to add to the existing hierarchy for this clinic."})]}),p.jsx("div",{className:"py-4",children:p.jsx(Wu,{value:F().find(q=>q.id===b)||null,onChange:q=>E(q?q.id:""),options:F().map(q=>({value:q.id,label:`${q.name} (${q.email})`,id:q.id})),placeholder:"Select a pharmacist",isClearable:!0,noOptionsMessage:()=>"No available pharmacists to add"})}),p.jsxs(Gv,{children:[p.jsx(nt,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),p.jsx(nt,{onClick:R,disabled:!b||b==="no-pharmacists",children:"Add Pharmacist"})]})]})]})]}),p.jsx(Zd,{}),g.length===0?p.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-md border border-dashed border-gray-300",children:[p.jsx(s0,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-500",children:"No pharmacists currently assigned"}),p.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add pharmacists to update the hierarchy"})]}):p.jsxs(Jd,{children:[p.jsx(eh,{children:p.jsxs(ma,{children:[p.jsx(un,{className:"w-16",children:"Position"}),p.jsx(un,{children:"Pharmacist Name"}),p.jsx(un,{children:"Email"}),p.jsx(un,{className:"w-32 text-right",children:"Actions"})]})}),p.jsx(th,{children:g.sort((q,V)=>q.position-V.position).map((q,V)=>p.jsxs(ma,{children:[p.jsx(Xt,{children:p.jsx(Gn,{variant:"outline",className:"font-medium",children:I(q.position)})}),p.jsx(Xt,{className:"font-medium",children:q.name}),p.jsx(Xt,{children:q.email}),p.jsx(Xt,{className:"text-right",children:p.jsxs("div",{className:"flex justify-end gap-1",children:[p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>D(V),disabled:V===0,className:"h-8 w-8",title:"Move up in hierarchy",children:p.jsx(ax,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>L(V),disabled:V===g.length-1,className:"h-8 w-8",title:"Move down in hierarchy",children:p.jsx(i0,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>j(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 hover:bg-red-50",title:"Remove from hierarchy",children:p.jsx(rS,{className:"h-4 w-4"})})]})})]},q.id))})]}),g.length>0&&p.jsx(nn,{className:"bg-blue-50 border-blue-200",children:p.jsx(rn,{className:"text-blue-800",children:"The order above determines the pharmacist hierarchy. Primary pharmacists get first priority, followed by Secondary, etc."})}),l&&p.jsxs(nn,{variant:"destructive",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:l})]}),s&&p.jsxs(nn,{className:"bg-green-50 border-green-200",children:[p.jsx(Cu,{className:"h-4 w-4 text-green-700 mr-2"}),p.jsx(rn,{className:"text-green-800",children:s})]})]}):p.jsx(re,{})}),k&&p.jsx(Qd,{className:"bg-gray-50 px-6 py-4",children:p.jsx(nt,{onClick:B,disabled:i||n,className:"ml-auto flex gap-2 items-center",children:i?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving Changes..."]}):p.jsxs(p.Fragment,{children:[p.jsx(nS,{className:"h-4 w-4"}),"Save Changes"]})})})]})},zEe=({currentUser:t,selectedClinic:e})=>{const[n,r]=T.useState(!0),[i,a]=T.useState(!1),[s,o]=T.useState(""),[l,u]=T.useState(""),[d,h]=T.useState([]),[g,y]=T.useState([]),[_,v]=T.useState(!1),[b,E]=T.useState(""),[N,C]=T.useState(""),[k,O]=T.useState(!1);T.useEffect(()=>{(async()=>{var V,X;try{r(!0);const Q=kt(dn(st,"users"),tt("role","==","doctor")),ie=await ur(Q),W=[];ie.forEach(K=>{W.push({id:K.id,name:K.data().name,email:K.data().email,...K.data()})}),h(W);const ce=kt(dn(st,"users"),tt("clinicCode","==",e.clinicCode)),z=await ur(ce),Y=(V=z.docs[0])==null?void 0:V.data();if(Y&&Y.assignedDoctors){C(z.docs[0].id);const K=Object.keys(Y.assignedDoctors).some(J=>!J.includes("Name")&&Y.assignedDoctors[J]);if(O(K),K){const fe=(await Promise.all(Array.from({length:5},(pe,ye)=>{var me;const de=ye+1,he=I(de).toLowerCase(),Ce=(me=Y.assignedDoctors)==null?void 0:me[he];return Ce?ar(hn(st,"users",Ce)).then(Ue=>({id:Ce,position:de,name:Ue.exists()?Ue.data().name:"Unknown Doctor",email:Ue.exists()?Ue.data().email:"Unknown Email"})).catch(Ue=>(console.error(`Error fetching doctor at position ${de}`,Ue),{id:Ce,position:de,name:"Error Fetching",email:"Error Fetching"})):Promise.resolve(null)}))).filter(pe=>pe!==null);y(fe)}}else C(((X=z.docs[0])==null?void 0:X.id)||""),O(!1)}catch(Q){console.error("Error fetching data:",Q),u("Failed to load doctors. Please try again.")}finally{r(!1)}})()},[t.uid,e]);const I=q=>["Primary","Secondary","Tertiary","Quaternary","Quinary"][q-1]||`${q}${A(q)}`,A=q=>{const V=q%10,X=q%100;return V===1&&X!==11?"st":V===2&&X!==12?"nd":V===3&&X!==13?"rd":"th"},R=()=>{if(!b)return;if(g.some(V=>V.id===b)){u("This doctor is already in your hierarchy.");return}const q=d.find(V=>V.id===b);if(q){const V=g.length+1;y([...g,{id:q.id,position:V,name:q.name,email:q.email}]),E(""),v(!1)}},D=q=>{if(q<=0)return;const V=[...g];[V[q-1],V[q]]=[V[q],V[q-1]],V.forEach((X,Q)=>{X.position=Q+1}),y(V)},L=q=>{if(q>=g.length-1)return;const V=[...g];[V[q],V[q+1]]=[V[q+1],V[q]],V.forEach((X,Q)=>{X.position=Q+1}),y(V)},j=q=>{const V=g.filter(X=>X.id!==q);V.forEach((X,Q)=>{X.position=Q+1}),y(V)},B=async()=>{var q;try{a(!0),u(""),o("");const V=hn(st,"users",N),Q=(await ar(V)).data(),W={...g.reduce((z,Y)=>{const K=I(Y.position).toLowerCase();return z[K]=Y.id,z[`${K}Name`]=Y.name,z},{})};((q=Q.assignedDoctors)==null?void 0:q.assignToAnyDoctor)!==void 0&&(W.assignToAnyDoctor=Q.assignedDoctors.assignToAnyDoctor);const ce={...Q,assignedDoctors:W,manuallyAddedDoctors:!0};await Ta(V,ce,{merge:!1});for(const z of g){const Y=hn(st,"users",z.id);await Ta(Y,{[`assignedClinics.${N}`]:!0},{merge:!0})}o("Doctor hierarchy updated successfully.")}catch(V){console.error("Error saving hierarchy:",V),u("Failed to save doctor hierarchy. Please try again.")}finally{a(!1)}},F=()=>d.filter(q=>!g.some(V=>V.id===q.id)),re=()=>p.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[p.jsx(nm,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Doctor Hierarchy Found"}),p.jsx("p",{className:"text-gray-500 mb-4 max-w-md mx-auto",children:"This clinic doesn't have a doctor hierarchy set up yet. Please create a hierarchy first before you can edit doctor assignments."}),p.jsxs(nn,{className:"bg-blue-50 border-blue-200 max-w-md mx-auto",children:[p.jsx(Ti,{className:"h-4 w-4 text-blue-600"}),p.jsx(rn,{className:"text-blue-800",children:"You can only edit existing hierarchies here. To create a new hierarchy, please use the hierarchy creation feature."})]})]});return p.jsxs(ei,{className:"w-full max-w-4xl mx-auto bg-white shadow-xl",children:[p.jsxs(Kd,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(fge,{className:"h-6 w-6 text-purple-500"}),p.jsx(Yd,{className:"text-2xl font-bold",children:k?"Edit Doctor Hierarchy":"Doctor Hierarchy"})]}),p.jsx(Xd,{children:k?`Edit the doctor hierarchy for ${e.name} : ${e.clinicCode}`:`View doctor hierarchy status for ${e.name} : ${e.clinicCode}`})]}),p.jsx(xi,{children:n?p.jsx("div",{className:"flex justify-center py-8",children:p.jsxs("svg",{className:"animate-spin h-8 w-8 text-purple-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):k?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Assigned Doctors"}),p.jsxs(Rs,{open:_,onOpenChange:v,children:[p.jsx(vS,{asChild:!0,children:p.jsxs(nt,{size:"sm",className:"flex items-center gap-1",children:[p.jsx(a0,{className:"h-4 w-4"}),"Add Doctor"]})}),p.jsxs(Is,{children:[p.jsxs(Gu,{children:[p.jsx(ic,{children:"Add Doctor to Hierarchy"}),p.jsx(Ku,{children:"Select a doctor to add to the existing hierarchy for this clinic."})]}),p.jsx("div",{className:"py-4",children:p.jsx(Wu,{onChange:q=>E(q?q.id:""),options:F().map(q=>({value:q.id,label:`${q.name} (${q.email})`,id:q.id})),placeholder:"Select a doctor",isClearable:!0,noOptionsMessage:()=>"No available doctors to add"})}),p.jsxs(Gv,{children:[p.jsx(nt,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),p.jsx(nt,{onClick:R,disabled:!b||b==="no-doctors",children:"Add Doctor"})]})]})]})]}),p.jsx(Zd,{}),g.length===0?p.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-md border border-dashed border-gray-300",children:[p.jsx(s0,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-500",children:"No doctors currently assigned"}),p.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add doctors to update the hierarchy"})]}):p.jsxs(Jd,{children:[p.jsx(eh,{children:p.jsxs(ma,{children:[p.jsx(un,{className:"w-16",children:"Position"}),p.jsx(un,{children:"Doctor Name"}),p.jsx(un,{children:"Email"}),p.jsx(un,{className:"w-32 text-right",children:"Actions"})]})}),p.jsx(th,{children:g.sort((q,V)=>q.position-V.position).map((q,V)=>p.jsxs(ma,{children:[p.jsx(Xt,{children:p.jsx(Gn,{variant:"outline",className:"font-medium",children:I(q.position)})}),p.jsx(Xt,{className:"font-medium",children:q.name}),p.jsx(Xt,{children:q.email}),p.jsx(Xt,{className:"text-right",children:p.jsxs("div",{className:"flex justify-end gap-1",children:[p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>D(V),disabled:V===0,className:"h-8 w-8",title:"Move up in hierarchy",children:p.jsx(ax,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>L(V),disabled:V===g.length-1,className:"h-8 w-8",title:"Move down in hierarchy",children:p.jsx(i0,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>j(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 hover:bg-red-50",title:"Remove from hierarchy",children:p.jsx(rS,{className:"h-4 w-4"})})]})})]},q.id))})]}),g.length>0&&p.jsx(nn,{className:"bg-blue-50 border-blue-200",children:p.jsx(rn,{className:"text-blue-800",children:"The order above determines the doctor hierarchy. Primary doctors get first priority, followed by Secondary, etc."})}),l&&p.jsxs(nn,{variant:"destructive",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:l})]}),s&&p.jsxs(nn,{className:"bg-green-50 border-green-200",children:[p.jsx(Cu,{className:"h-4 w-4 text-green-700 mr-2"}),p.jsx(rn,{className:"text-green-800",children:s})]})]}):p.jsx(re,{})}),k&&p.jsx(Qd,{className:"bg-gray-50 px-6 py-4",children:p.jsx(nt,{onClick:B,disabled:i||n,className:"ml-auto flex gap-2 items-center",children:i?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving Changes..."]}):p.jsxs(p.Fragment,{children:[p.jsx(nS,{className:"h-4 w-4"}),"Save Changes"]})})})]})},qEe=({currentUser:t,userRole:e})=>{const[n,r]=T.useState(!0),[i,a]=T.useState(""),[s,o]=T.useState(""),[l,u]=T.useState([]),[d,h]=T.useState(""),[g,y]=T.useState([]),[_,v]=T.useState(null),[b,E]=T.useState(null),[N,C]=T.useState("all"),[k,O]=T.useState(1),[I]=T.useState(10);T.useEffect(()=>{e==="teamLeader"&&(async()=>{try{r(!0);const q=kt(dn(st,"users"),tt("role","==","nurse")),V=await ur(q),X=[];V.forEach(Q=>{const ie={id:Q.id,name:Q.data().name,clinicCode:Q.data().clinicCode||"N/A",email:Q.data().email||"N/A",state:Q.data().state||"N/A",district:Q.data().district||"N/A",address:Q.data().address||"N/A",createdBy:Q.data().createdBy||"",partnerName:Q.data().partnerName||"N/A",deactivated:Q.data().deactivated||!1,assignedPharmacists:Q.data().assignedPharmacists||{},assignedDoctors:Q.data().assignedDoctors||{},createdAt:Q.data().createdAt?new Date(Q.data().createdAt.seconds*1e3).toLocaleDateString():"N/A",...Q.data()};ie.deactivated||X.push(ie)}),X.sort((Q,ie)=>Q.name.localeCompare(ie.name)),u(X),y(X)}catch(q){console.error("Error fetching clinics:",q),o("Failed to load clinics. Please try again.")}finally{r(!1)}})()},[e]),T.useEffect(()=>{let re=[...l];if(N==="with_pharmacist"?re=re.filter(q=>q.assignedPharmacists&&(q.assignedPharmacists.primary||Object.keys(q.assignedPharmacists).length>0)):N==="without_pharmacist"?re=re.filter(q=>!q.assignedPharmacists||!q.assignedPharmacists.primary&&Object.keys(q.assignedPharmacists).length===0):N==="with_doctor"?re=re.filter(q=>q.assignedDoctors&&(q.assignedDoctors.primary||Object.keys(q.assignedDoctors).length>0)):N==="without_doctor"&&(re=re.filter(q=>!q.assignedDoctors||!q.assignedDoctors.primary&&Object.keys(q.assignedDoctors).length===0)),d.trim()!==""){const q=d.toLowerCase();re=re.filter(V=>V.name&&V.name.toLowerCase().includes(q)||V.clinicCode&&V.clinicCode.toLowerCase().includes(q)||V.state&&V.state.toLowerCase().includes(q)||V.district&&V.district.toLowerCase().includes(q)||V.address&&V.address.toLowerCase().includes(q)||V.partnerName&&V.partnerName.toLowerCase().includes(q))}y(re),O(1)},[d,l,N]);const A=async()=>{try{const re=kt(dn(st,"users"),tt("role","==","nurse")),q=await ur(re),V=[];q.forEach(X=>{const Q={id:X.id,name:X.data().name,clinicCode:X.data().clinicCode||"N/A",email:X.data().email||"N/A",state:X.data().state||"N/A",district:X.data().district||"N/A",address:X.data().address||"N/A",createdBy:X.data().createdBy||"",partnerName:X.data().partnerName||"N/A",deactivated:X.data().deactivated||!1,assignedPharmacists:X.data().assignedPharmacists||{},createdAt:X.data().createdAt?new Date(X.data().createdAt.seconds*1e3).toLocaleDateString():"N/A",...X.data()};Q.deactivated||V.push(Q)}),V.sort((X,Q)=>X.name.localeCompare(Q.name)),u(V)}catch(re){console.error("Error refreshing clinic data:",re)}},R=Math.ceil(g.length/I),D=(k-1)*I,L=D+I,j=g.slice(D,L),B=()=>{O(re=>Math.min(re+1,R))},F=()=>{O(re=>Math.max(re-1,1))};return e!=="teamLeader"?null:p.jsxs(ei,{className:"w-full max-w-8xl mx-auto bg-white shadow-xl",children:[p.jsxs(Kd,{className:"border-b bg-grey-50",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(j1,{className:"h-6 w-6 text-purple-600"}),p.jsx(Yd,{className:"text-2xl font-bold text-grey-700",children:"Clinic Pharmacist & Doctor Hierarchy Management"})]}),p.jsx(Xd,{className:"text-grey-700/70",children:"Manage pharmacist and doctor hierarchies for all clinics in the system. You can view and update the assigned pharmacists and doctors for each clinic."})]}),p.jsx(xi,{children:n?p.jsx("div",{className:"flex justify-center py-8",children:p.jsxs("svg",{className:"animate-spin h-8 w-8 text-purple-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(Js,{type:"text",placeholder:"Search clinics by name, code, location, partner...",value:d,onChange:re=>h(re.target.value),className:"pl-10 w-full"}),p.jsx(nI,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),p.jsxs(im,{value:N,onValueChange:C,children:[p.jsx(sm,{className:"w-full md:w-[250px]",children:p.jsx(am,{placeholder:"Filter clinics"})}),p.jsxs(om,{children:[p.jsx(Ya,{value:"all",children:"All Clinics"}),p.jsx(Ya,{value:"with_pharmacist",children:"With Pharmacist Assigned"}),p.jsx(Ya,{value:"without_pharmacist",children:"Without Pharmacist"}),p.jsx(Ya,{value:"with_doctor",children:"With Doctor Assigned"}),p.jsx(Ya,{value:"without_doctor",children:"Without Doctor"})]})]})]}),p.jsx(Zd,{}),p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("h4",{className:"text-sm font-medium text-gray-500",children:["Total Clinics: ",g.length]})}),g.length>0&&p.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",D+1,"-",Math.min(L,g.length)," of ",g.length]})]}),g.length===0?p.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-md border border-dashed border-gray-300",children:[p.jsx(j1,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-500",children:"No clinics found"}),p.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search criteria"})]}):p.jsx("div",{className:"border rounded-md overflow-hidden",children:p.jsxs(Jd,{children:[p.jsx(eh,{className:"bg-gray-50",children:p.jsxs(ma,{children:[p.jsx(un,{className:"w-[25%]",children:"Nurse Name"}),p.jsx(un,{className:"w-[10%]",children:"Clinic Code"}),p.jsx(un,{className:"w-[25%]",children:"Location"}),p.jsx(un,{className:"w-[15%]",children:"Partner"}),p.jsx(un,{className:"w-[10%]",children:"Doctor Status"}),p.jsx(un,{className:"w-[10%]",children:"Pharma. Status"}),p.jsx(un,{className:"w-[5%] text-center",children:"Actions"})]})}),p.jsxs(th,{children:[j.map(re=>{const q=re.assignedPharmacists&&(re.assignedPharmacists.primary||Object.keys(re.assignedPharmacists).length>0),V=re.assignedDoctors&&(re.assignedDoctors.primary||Object.keys(re.assignedDoctors).length>0);return p.jsxs(ma,{children:[p.jsx(Xt,{className:"font-medium",children:re.name}),p.jsx(Xt,{children:p.jsx(Gn,{variant:"outline",className:"font-medium",children:re.clinicCode})}),p.jsxs(Xt,{children:[re.district,", ",re.state]}),p.jsx(Xt,{children:re.partnerName}),p.jsx(Xt,{children:V?p.jsxs(Gn,{className:"bg-green-100 text-green-800 border-green-200",children:[p.jsx(Cu,{className:"h-3 w-3 mr-1"}),"Assigned"]}):p.jsxs(Gn,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:[p.jsx(Ti,{className:"h-3 w-3 mr-1"}),"No Doctor"]})}),p.jsx(Xt,{children:q?p.jsxs(Gn,{className:"bg-green-100 text-green-800 border-green-200",children:[p.jsx(Cu,{className:"h-3 w-3 mr-1"}),"Assigned"]}):p.jsxs(Gn,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:[p.jsx(Ti,{className:"h-3 w-3 mr-1"}),"No Pharma."]})}),p.jsxs(Xt,{className:"text-right",children:[p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>v(re),className:"h-8 w-8 text-blue-500 hover:text-blue-700 hover:bg-blue-50",title:"Manage Pharmacist Hierarchy",children:p.jsx(Mge,{className:"h-4 w-4"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>E(re),className:"h-8 w-8 text-blue-500 hover:text-blue-700 hover:bg-blue-50",title:"Manage Doctor Hierarchy",children:p.jsx(H0e,{className:"h-4 w-4"})})]})]},re.id)}),j.length===0&&g.length>0&&p.jsx(ma,{children:p.jsx(Xt,{colSpan:6,className:"text-center py-6 text-gray-500",children:"No clinics on this page"})})]})]})}),g.length>I&&p.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[p.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",k," of ",R]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs(nt,{variant:"outline",size:"sm",onClick:F,disabled:k===1,className:"flex items-center gap-1",children:[p.jsx(L1,{className:"h-4 w-4"}),"Previous"]}),p.jsxs(nt,{variant:"outline",size:"sm",onClick:B,disabled:k===R,className:"flex items-center gap-1",children:["Next",p.jsx(F1,{className:"h-4 w-4"})]})]})]}),s&&p.jsxs(nn,{variant:"destructive",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:s})]}),i&&p.jsxs(nn,{className:"bg-green-50 border-green-200",children:[p.jsx(Cu,{className:"h-4 w-4 text-green-700 mr-2"}),p.jsx(rn,{className:"text-green-800",children:i})]})]})}),p.jsx(Qd,{className:"bg-gray-50 px-6 py-4 border-t",children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsx("div",{className:"text-sm text-gray-500",children:p.jsxs("span",{children:["Managing ",p.jsx("strong",{children:l.length})," clinic",l.length!==1?"s":""," in the system",g.length>I&&p.jsxs("span",{children:["  Page ",k," of ",R]})]})}),p.jsx("div",{className:"text-sm text-gray-500",children:"Click the settings icon to manage pharmacist hierarchies"})]})}),_&&p.jsx(Rs,{open:!!_,onOpenChange:re=>{re||(v(null),A())},children:p.jsxs(Is,{className:"!max-w-4xl !w-[90vw] p-0 overflow-hidden",children:[p.jsxs(Gu,{className:"sr-only",children:[p.jsxs(ic,{children:["Manage Pharmacist Hierarchy for ",_.name]}),p.jsx(Ku,{children:"Update pharmacist assignments and hierarchy for this clinic"})]}),p.jsx(HEe,{currentUser:t,selectedClinic:_,userRole:e,onUpdate:A})]})}),b&&p.jsx(Rs,{open:!!b,onOpenChange:re=>{re||(E(null),A())},children:p.jsxs(Is,{className:"!max-w-4xl !w-[90vw] p-0 overflow-hidden",children:[p.jsxs(Gu,{className:"sr-only",children:[p.jsxs(ic,{children:["Manage Doctor Hierarchy for ",b.name]}),p.jsx(Ku,{children:"Update doctor assignments and hierarchy for this clinic"})]}),p.jsx(zEe,{currentUser:t,selectedClinic:b,userRole:e,onUpdate:A})]})})]})},WEe=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(""),[i,a]=T.useState(!0),[s,o]=T.useState(""),[l,u]=T.useState("create");return T.useEffect(()=>{const g=Mu().onAuthStateChanged(async y=>{if(y){e(y);try{const _=hn(st,"users",y.uid),v=await ar(_);if(v.exists()){const b=v.data();r(b.role)}else o("User data not found")}catch(_){console.error("Error fetching user data:",_),o("Failed to load user data")}finally{a(!1)}}else e(null),r(""),a(!1)});return()=>g()},[]),i?p.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:"Loading..."}):s?p.jsx(nn,{variant:"destructive",className:"max-w-2xl mx-auto my-8",children:p.jsx(rn,{children:s})}):t?["superAdmin","zonalHead","teamLeader","drManager","ro","pharmacist"].includes(n)?p.jsxs("div",{className:"container mx-auto p-4",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[p.jsx(nm,{className:"h-6 w-6 text-blue-500"}),p.jsx("h1",{className:"text-2xl font-bold",children:"User Management"})]}),p.jsxs(dM,{value:l,onValueChange:u,className:"w-full",children:[p.jsxs(hM,{className:"mb-6",children:[p.jsxs(Bo,{value:"create",children:[p.jsx(nm,{className:"h-4 w-4 mr-2"}),"Create User"]}),n==="pharmacist"&&p.jsxs(Bo,{value:"doctorHierarchy",children:[p.jsx(tm,{className:"h-4 w-4 mr-2"}),"Doctor Hierarchy"]}),n==="pharmacist"&&p.jsxs(Bo,{value:"pharmacistHierarchy",children:[p.jsx(Ed,{className:"h-4 w-4 mr-2"}),"Pharmacist Hierarchy"]}),n==="teamLeader"&&p.jsxs(Bo,{value:"clinicHierarchy",children:[p.jsx(j1,{className:"h-4 w-4 mr-2"}),"Clinic Management"]})]}),p.jsx($o,{value:"create",className:"pt-4",children:p.jsx(qwe,{currentUserRole:n,currentUser:t})}),n==="pharmacist"&&p.jsx($o,{value:"doctorHierarchy",className:"pt-4",children:p.jsx(TEe,{currentUser:t})}),n==="pharmacist"&&p.jsx($o,{value:"pharmacistHierarchy",className:"pt-4",children:p.jsx(AEe,{currentUser:t})}),n==="teamLeader"&&p.jsx($o,{value:"clinicHierarchy",className:"pt-4",children:p.jsx(qEe,{currentUser:t,userRole:n})})]})]}):p.jsx(nn,{className:"max-w-2xl mx-auto my-8",children:p.jsx(rn,{children:"You don't have permission to create users"})}):p.jsx(nn,{className:"max-w-2xl mx-auto my-8",children:p.jsx(rn,{children:"Please log in to access this page"})})},GEe="modulepreload",KEe=function(t){return"/"+t},wB={},ux=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=KEe(l),l in wB)return;wB[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":GEe,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},YEe=ae.lazy(()=>ux(()=>import("./NurseCaseManagement-Ugog1rpC.js"),__vite__mapDeps([0,1,2]))),XEe=ae.lazy(()=>ux(()=>import("./DocManagement-DEZRyCYP.js"),__vite__mapDeps([3,1,2,4]))),QEe=ae.lazy(()=>ux(()=>import("./Pharmasist-Vd_kFeGD.js"),__vite__mapDeps([5,1,2,4]))),d_=()=>p.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),ZEe=({currentUser:t})=>{const[e,n]=T.useState(!0),[r,i]=T.useState(""),[a,s]=T.useState("");if(T.useEffect(()=>{(async()=>{if(t)try{const d=hn(st,"users",t.uid),h=await ar(d);if(h.exists()){const g=h.data();i(g.role)}else s("User data not found. Please contact support.")}catch(d){console.error("Error fetching user data:",d),s("Failed to load user data. Please try again later.")}finally{n(!1)}else n(!1)})()},[t]),e)return p.jsx(d_,{});if(a)return p.jsxs(nn,{variant:"destructive",className:"max-w-2xl mx-auto my-8",children:[p.jsx(Ti,{className:"h-4 w-4"}),p.jsx(rn,{children:a})]});if(!t)return p.jsx(nn,{className:"max-w-2xl mx-auto my-8 bg-blue-50 text-blue-800 border-blue-200",children:p.jsx(rn,{children:"Please log in to access this page"})});const o=["nurse","doctor","pharmacist"].includes(r),l=["drManager","ro","teamLeader","zonalHead","superAdmin"].includes(r);return!o&&!l?p.jsxs(nn,{className:"max-w-2xl mx-auto my-8 bg-amber-50 text-amber-800 border-amber-200",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:"You don't have permission to access case management"})]}):l?p.jsxs(nn,{className:"max-w-2xl mx-auto my-8 bg-blue-50 text-blue-800 border-blue-200",children:[p.jsx(eve,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:"Management users should use the management dashboard instead of direct case management. Please contact your system administrator if you need access to case-level details."})]}):p.jsxs("div",{className:"container mx-auto p-4",children:[r==="nurse"&&p.jsx(T.Suspense,{fallback:p.jsx(d_,{}),children:p.jsx(YEe,{currentUser:t})}),r==="doctor"&&p.jsx(T.Suspense,{fallback:p.jsx(d_,{}),children:p.jsx(XEe,{currentUser:t})}),r==="pharmacist"&&p.jsx(T.Suspense,{fallback:p.jsx(d_,{}),children:p.jsx(QEe,{currentUser:t})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var X1={};X1.version="0.18.5";var sZ=1252,JEe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],oZ=function(t){JEe.indexOf(t)!=-1&&(sZ=t)};function eSe(){oZ(1252)}var Kv=function(t){oZ(t)};function tSe(){Kv(1200),eSe()}var h_=function(e){return String.fromCharCode(e)},EB=function(e){return String.fromCharCode(e)},SB,gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Yv(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0,u=0;u<t.length;)n=t.charCodeAt(u++),a=n>>2,r=t.charCodeAt(u++),s=(n&3)<<4|r>>4,i=t.charCodeAt(u++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=gu.charAt(a)+gu.charAt(s)+gu.charAt(o)+gu.charAt(l);return e}function ac(t){var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)a=gu.indexOf(t.charAt(u++)),s=gu.indexOf(t.charAt(u++)),n=a<<2|s>>4,e+=String.fromCharCode(n),o=gu.indexOf(t.charAt(u++)),r=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=gu.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Tn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),vc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Od(t){return Tn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function TB(t){return Tn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Xs=function(e){return Tn?vc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function bS(t){if(typeof ArrayBuffer>"u")return Xs(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function fx(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function nSe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Fi=Tn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:vc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function rSe(t){for(var e=[],n=0,r=t.length+250,i=Od(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|o>>6&15|(s&3)<<4,i[n++]=128|o&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Od(65535),r=65530)}return e.push(i.slice(0,n)),Fi(e)}var ov=/\u0000/g,p_=/[\u0001-\u0006]/g;function Mp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function eo(t,e){var n=""+t;return n.length>=e?n:Er("0",e-n.length)+n}function pM(t,e){var n=""+t;return n.length>=e?n:Er(" ",e-n.length)+n}function Q1(t,e){var n=""+t;return n.length>=e?n:n+Er(" ",e-n.length)}function iSe(t,e){var n=""+Math.round(t);return n.length>=e?n:Er("0",e-n.length)+n}function aSe(t,e){var n=""+t;return n.length>=e?n:Er("0",e-n.length)+n}var AB=Math.pow(2,32);function np(t,e){if(t>AB||t<-AB)return iSe(t,e);var n=Math.round(t);return aSe(n,e)}function Z1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var CB=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],e2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sSe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Cr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},NB={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},oSe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function J1(t,e,n){for(var r=t<0?-1:1,i=t*r,a=0,s=1,o=0,l=1,u=0,d=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*s+a,d=h*u+l,!(i-h<5e-8));)i=1/(i-h),a=s,s=o,l=u,u=d;if(d>e&&(u>e?(d=l,o=a):(d=u,o=s)),!n)return[0,r*o,d];var g=Math.floor(r*o/d);return[g,r*o-g*d,d]}function m_(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),a=0,s=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=pSe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var lZ=new Date(1899,11,31,0,0,0),lSe=lZ.getTime(),cSe=new Date(1900,2,1,0,0,0);function cZ(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=cSe&&(n+=24*60*60*1e3),(n-(lSe+(t.getTimezoneOffset()-lZ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function mM(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uSe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fSe(t){var e=t<0?12:11,n=mM(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function dSe(t){var e=mM(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function hSe(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=fSe(t):e===10?n=t.toFixed(10).substr(0,12):n=dSe(t),mM(uSe(n.toUpperCase()))}function AI(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):hSe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Yu(14,cZ(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function pSe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function mSe(t,e,n,r){var i="",a=0,s=0,o=n.y,l,u=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,u=e.length;break;case 3:return e2[n.m-1][1];case 5:return e2[n.m-1][0];default:return e2[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,u=e.length;break;case 3:return CB[n.q][0];default:return CB[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?eo(n.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=eo(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?eo(l,u):"";return d}function vu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var uZ=/%/g;function gSe(t,e,n){var r=e.replace(uZ,""),i=e.length-r.length;return ql(t,r,n*Math.pow(10,2*i))+Er("%",i)}function vSe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ql(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function fZ(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+fZ(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var dZ=/# (\?+)( ?)\/( ?)(\d+)/;function ySe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,o=r;return n+(a===0?"":""+a)+" "+(s===0?Er(" ",t[1].length+1+t[4].length):pM(s,t[1].length)+t[2]+"/"+t[3]+eo(o,t[4].length))}function xSe(t,e,n){return n+(e===0?"":""+e)+Er(" ",t[1].length+2+t[4].length)}var hZ=/^#*0*\.([0#]+)/,pZ=/\).*[0#]/,mZ=/\(###\) ###\\?-####/;function la(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function OB(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function PB(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function bSe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function _Se(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Es(t,e,n){if(t.charCodeAt(0)===40&&!e.match(pZ)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Es("n",r,n):"("+Es("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return vSe(t,e,n);if(e.indexOf("%")!==-1)return gSe(t,e,n);if(e.indexOf("E")!==-1)return fZ(e,n);if(e.charCodeAt(0)===36)return"$"+Es(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+np(l,e.length);if(e.match(/^[#?]+$/))return i=np(n,0),i==="0"&&(i=""),i.length>e.length?i:la(e.substr(0,e.length-i.length))+i;if(a=e.match(dZ))return ySe(a,l,u);if(e.match(/^#+0+$/))return u+np(l,e.length-e.indexOf("0"));if(a=e.match(hZ))return i=OB(n,a[1].length).replace(/^([^\.]+)$/,"$1."+la(a[1])).replace(/\.$/,"."+la(a[1])).replace(/\.(\d*)$/,function(_,v){return"."+v+Er("0",la(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+OB(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+vu(np(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Es(t,e,-n):vu(""+(Math.floor(n)+bSe(n,a[1].length)))+"."+eo(PB(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Es(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp(Es(t,e.replace(/[\\-]/g,""),n)),s=0,Mp(Mp(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(e.match(mZ))return i=Es(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=J1(l,Math.pow(10,s)-1,!1),i=""+u,d=ql("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=Q1(o[2],s),d.length<a[4].length&&(d=la(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=J1(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?pM(o[1],s)+a[2]+"/"+a[3]+Q1(o[2],s):Er(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=np(n,0),e.length<=i.length?i:la(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=e.indexOf(".")-s,g=e.length-i.length-h;return la(e.substr(0,h)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=PB(n,a[1].length),n<0?"-"+Es(t,e,-n):vu(_Se(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?eo(0,3-_.length):"")+_})+"."+eo(s,a[1].length);switch(e){case"###,##0.00":return Es(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var y=vu(np(l,0));return y!=="0"?u+y:"";case"###,###.00":return Es(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Es(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function wSe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ql(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function ESe(t,e,n){var r=e.replace(uZ,""),i=e.length-r.length;return ql(t,r,n*Math.pow(10,2*i))+Er("%",i)}function gZ(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+gZ(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Io(t,e,n){if(t.charCodeAt(0)===40&&!e.match(pZ)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Io("n",r,n):"("+Io("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return wSe(t,e,n);if(e.indexOf("%")!==-1)return ESe(t,e,n);if(e.indexOf("E")!==-1)return gZ(e,n);if(e.charCodeAt(0)===36)return"$"+Io(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+eo(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:la(e.substr(0,e.length-i.length))+i;if(a=e.match(dZ))return xSe(a,l,u);if(e.match(/^#+0+$/))return u+eo(l,e.length-e.indexOf("0"));if(a=e.match(hZ))return i=(""+n).replace(/^([^\.]+)$/,"$1."+la(a[1])).replace(/\.$/,"."+la(a[1])),i=i.replace(/\.(\d*)$/,function(_,v){return"."+v+Er("0",la(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+vu(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Io(t,e,-n):vu(""+n)+"."+Er("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Io(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp(Io(t,e.replace(/[\\-]/g,""),n)),s=0,Mp(Mp(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(e.match(mZ))return i=Io(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=J1(l,Math.pow(10,s)-1,!1),i=""+u,d=ql("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=Q1(o[2],s),d.length<a[4].length&&(d=la(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=J1(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?pM(o[1],s)+a[2]+"/"+a[3]+Q1(o[2],s):Er(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:la(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=e.indexOf(".")-s,g=e.length-i.length-h;return la(e.substr(0,h)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Io(t,e,-n):vu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?eo(0,3-_.length):"")+_})+"."+eo(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=vu(""+l);return y!=="0"?u+y:"";default:if(e.match(/\.[0#?]*$/))return Io(t,e.slice(0,e.lastIndexOf(".")),n)+la(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ql(t,e,n){return(n|0)===n?Io(t,e,n):Es(t,e,n)}function SSe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var vZ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function yZ(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":Z1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(vZ))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function TSe(t,e,n,r){for(var i=[],a="",s=0,o="",l="t",u,d,h,g="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!Z1(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(h=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++s;break;case"\\":var y=t.charAt(++s),_=y==="("||y===")"?y:"t";i[i.length]={t:_,v:y},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=m_(e,n,t.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=m_(e,n),u==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(u==null&&(u=m_(e,n)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",g="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",s+=5,g="h"):t.substr(s,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",s+=5,g="h"):(v.t="t",++s),u==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(vZ)){if(u==null&&(u=m_(e,n),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",yZ(t)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var b=0,E=0,N;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=g,l="h",b<1&&(b=1);break;case"s":(N=i[s].v.match(/\.0+$/))&&(E=Math.max(E,N[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[s].v.match(/[Hh]/)&&(b=1),b<2&&i[s].v.match(/[Mm]/)&&(b=2),b<3&&i[s].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var C="",k;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=mSe(i[s].t.charCodeAt(0),i[s].v,u,E),i[s].t="t";break;case"n":case"?":for(k=s+1;i[k]!=null&&((o=i[k].t)==="?"||o==="D"||(o===" "||o==="t")&&i[k+1]!=null&&(i[k+1].t==="?"||i[k+1].t==="t"&&i[k+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[k].v==="/"||i[k].v===" "&&i[k+1]!=null&&i[k+1].t=="?"));)i[s].v+=i[k].v,i[k]={v:"",t:";"},++k;C+=i[s].v,s=k-1;break;case"G":i[s].t="t",i[s].v=AI(e,n);break}var O="",I,A;if(C.length>0){C.charCodeAt(0)==40?(I=e<0&&C.charCodeAt(0)===45?-e:e,A=ql("n",C,I)):(I=e<0&&r>1?-e:e,A=ql("n",C,I),I<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),k=A.length-1;var R=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){R=s;break}var D=i.length;if(R===i.length&&A.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(k>=i[s].v.length-1?(k-=i[s].v.length,i[s].v=A.substr(k+1,i[s].v.length)):k<0?i[s].v="":(i[s].v=A.substr(0,k+1),k=-1),i[s].t="t",D=s);k>=0&&D<i.length&&(i[D].v=A.substr(0,k+1)+i[D].v)}else if(R!==i.length&&A.indexOf("E")===-1){for(k=A.indexOf(".")-1,s=R;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(d=i[s].v.indexOf(".")>-1&&s===R?i[s].v.indexOf(".")-1:i[s].v.length-1,O=i[s].v.substr(d+1);d>=0;--d)k>=0&&(i[s].v.charAt(d)==="0"||i[s].v.charAt(d)==="#")&&(O=A.charAt(k--)+O);i[s].v=O,i[s].t="t",D=s}for(k>=0&&D<i.length&&(i[D].v=A.substr(0,k+1)+i[D].v),k=A.indexOf(".")+1,s=R;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==R)){for(d=i[s].v.indexOf(".")>-1&&s===R?i[s].v.indexOf(".")+1:0,O=i[s].v.substr(0,d);d<i[s].v.length;++d)k<A.length&&(O+=A.charAt(k++));i[s].v=O,i[s].t="t",D=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(I=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=ql(i[s].t,i[s].v,I),i[s].t="t");var L="";for(s=0;s!==i.length;++s)i[s]!=null&&(L+=i[s].v);return L}var RB=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function IB(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function ASe(t,e){var n=SSe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(RB),o=n[1].match(RB);return IB(e,s)?[r,n[0]]:IB(e,o)?[r,n[1]]:[r,n[s!=null&&o!=null?2:1]]}return[r,a]}function Yu(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Cr)[t],r==null&&(r=n.table&&n.table[NB[t]]||Cr[NB[t]]),r==null&&(r=oSe[t]||"General");break}if(Z1(r,0))return AI(e,n);e instanceof Date&&(e=cZ(e,n.date1904));var i=ASe(r,e);if(Z1(i[1]))return AI(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return TSe(i[1],e,n,i[0])}function xZ(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Cr[n]==null){e<0&&(e=n);continue}if(Cr[n]==t){e=n;break}}e<0&&(e=391)}return Cr[e]=t,e}function _S(t){for(var e=0;e!=392;++e)t[e]!==void 0&&xZ(t[e],e)}function wS(){Cr=sSe()}var bZ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function CSe(t){var e=typeof t=="number"?Cr[t]:t;return e=e.replace(bZ,"(\\d+)"),new RegExp("^"+e+"$")}function NSe(t,e,n){var r=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(bZ)||[]).forEach(function(h,g){var y=parseInt(n[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=y;break;case"d":a=y;break;case"h":s=y;break;case"s":l=y;break;case"m":s>=0?o=y:i=y;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:r==-1&&i==-1&&a==-1?d:u+"T"+d}var OSe=function(){var t={};t.version="1.2.0";function e(){for(var A=0,R=new Array(256),D=0;D!=256;++D)A=D,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,R[D]=A;return typeof Int32Array<"u"?new Int32Array(R):R}var n=e();function r(A){var R=0,D=0,L=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)j[L]=A[L];for(L=0;L!=256;++L)for(D=A[L],R=256+L;R<4096;R+=256)D=j[R]=D>>>8^A[D&255];var B=[];for(L=1;L!=16;++L)B[L-1]=typeof Int32Array<"u"?j.subarray(L*256,L*256+256):j.slice(L*256,L*256+256);return B}var i=r(n),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],d=i[5],h=i[6],g=i[7],y=i[8],_=i[9],v=i[10],b=i[11],E=i[12],N=i[13],C=i[14];function k(A,R){for(var D=R^-1,L=0,j=A.length;L<j;)D=D>>>8^n[(D^A.charCodeAt(L++))&255];return~D}function O(A,R){for(var D=R^-1,L=A.length-15,j=0;j<L;)D=C[A[j++]^D&255]^N[A[j++]^D>>8&255]^E[A[j++]^D>>16&255]^b[A[j++]^D>>>24]^v[A[j++]]^_[A[j++]]^y[A[j++]]^g[A[j++]]^h[A[j++]]^d[A[j++]]^u[A[j++]]^l[A[j++]]^o[A[j++]]^s[A[j++]]^a[A[j++]]^n[A[j++]];for(L+=15;j<L;)D=D>>>8^n[(D^A[j++])&255];return~D}function I(A,R){for(var D=R^-1,L=0,j=A.length,B=0,F=0;L<j;)B=A.charCodeAt(L++),B<128?D=D>>>8^n[(D^B)&255]:B<2048?(D=D>>>8^n[(D^(192|B>>6&31))&255],D=D>>>8^n[(D^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,F=A.charCodeAt(L++)&1023,D=D>>>8^n[(D^(240|B>>8&7))&255],D=D>>>8^n[(D^(128|B>>2&63))&255],D=D>>>8^n[(D^(128|F>>6&15|(B&3)<<4))&255],D=D>>>8^n[(D^(128|F&63))&255]):(D=D>>>8^n[(D^(224|B>>12&15))&255],D=D>>>8^n[(D^(128|B>>6&63))&255],D=D>>>8^n[(D^(128|B&63))&255]);return~D}return t.table=n,t.bstr=k,t.buf=O,t.str=I,t}(),Bn=function(){var e={};e.version="1.2.1";function n(G,se){for(var ee=G.split("/"),ne=se.split("/"),oe=0,le=0,Ee=Math.min(ee.length,ne.length);oe<Ee;++oe){if(le=ee[oe].length-ne[oe].length)return le;if(ee[oe]!=ne[oe])return ee[oe]<ne[oe]?-1:1}return ee.length-ne.length}function r(G){if(G.charAt(G.length-1)=="/")return G.slice(0,-1).indexOf("/")===-1?G:r(G.slice(0,-1));var se=G.lastIndexOf("/");return se===-1?G:G.slice(0,se+1)}function i(G){if(G.charAt(G.length-1)=="/")return i(G.slice(0,-1));var se=G.lastIndexOf("/");return se===-1?G:G.slice(se+1)}function a(G,se){typeof se=="string"&&(se=new Date(se));var ee=se.getHours();ee=ee<<6|se.getMinutes(),ee=ee<<5|se.getSeconds()>>>1,G.write_shift(2,ee);var ne=se.getFullYear()-1980;ne=ne<<4|se.getMonth()+1,ne=ne<<5|se.getDate(),G.write_shift(2,ne)}function s(G){var se=G.read_shift(2)&65535,ee=G.read_shift(2)&65535,ne=new Date,oe=ee&31;ee>>>=5;var le=ee&15;ee>>>=4,ne.setMilliseconds(0),ne.setFullYear(ee+1980),ne.setMonth(le-1),ne.setDate(oe);var Ee=se&31;se>>>=5;var Oe=se&63;return se>>>=6,ne.setHours(se),ne.setMinutes(Oe),ne.setSeconds(Ee<<1),ne}function o(G){za(G,0);for(var se={},ee=0;G.l<=G.length-4;){var ne=G.read_shift(2),oe=G.read_shift(2),le=G.l+oe,Ee={};switch(ne){case 21589:ee=G.read_shift(1),ee&1&&(Ee.mtime=G.read_shift(4)),oe>5&&(ee&2&&(Ee.atime=G.read_shift(4)),ee&4&&(Ee.ctime=G.read_shift(4))),Ee.mtime&&(Ee.mt=new Date(Ee.mtime*1e3));break}G.l=le,se[ne]=Ee}return se}var l;function u(){return l||(l={})}function d(G,se){if(G[0]==80&&G[1]==75)return et(G,se);if((G[0]|32)==109&&(G[1]|32)==105)return hr(G,se);if(G.length<512)throw new Error("CFB file size "+G.length+" < 512");var ee=3,ne=512,oe=0,le=0,Ee=0,Oe=0,_e=0,Se=[],Te=G.slice(0,512);za(Te,0);var Be=h(Te);switch(ee=Be[0],ee){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(Be[1]==0)return et(G,se);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}ne!==512&&(Te=G.slice(0,ne),za(Te,28));var Ge=G.slice(0,ne);g(Te,ee);var rt=Te.read_shift(4,"i");if(ee===3&&rt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+rt);Te.l+=4,Ee=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Oe=Te.read_shift(4,"i"),oe=Te.read_shift(4,"i"),_e=Te.read_shift(4,"i"),le=Te.read_shift(4,"i");for(var He=-1,ze=0;ze<109&&(He=Te.read_shift(4,"i"),!(He<0));++ze)Se[ze]=He;var Tt=y(G,ne);b(_e,le,Tt,ne,Se);var An=N(Tt,Ee,Se,ne);An[Ee].name="!Directory",oe>0&&Oe!==F&&(An[Oe].name="!MiniFAT"),An[Se[0]].name="!FAT",An.fat_addrs=Se,An.ssz=ne;var Gt={},wn=[],Wr=[],ll=[];C(Ee,An,Tt,wn,oe,Gt,Wr,Oe),_(Wr,ll,wn),wn.shift();var Ls={FileIndex:Wr,FullPaths:ll};return se&&se.raw&&(Ls.raw={header:Ge,sectors:Tt}),Ls}function h(G){if(G[G.l]==80&&G[G.l+1]==75)return[0,0];G.chk(re,"Header Signature: "),G.l+=16;var se=G.read_shift(2,"u");return[G.read_shift(2,"u"),se]}function g(G,se){var ee=9;switch(G.l+=2,ee=G.read_shift(2)){case 9:if(se!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(se!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}G.chk("0600","Mini Sector Shift: "),G.chk("000000000000","Reserved: ")}function y(G,se){for(var ee=Math.ceil(G.length/se)-1,ne=[],oe=1;oe<ee;++oe)ne[oe-1]=G.slice(oe*se,(oe+1)*se);return ne[ee-1]=G.slice(ee*se),ne}function _(G,se,ee){for(var ne=0,oe=0,le=0,Ee=0,Oe=0,_e=ee.length,Se=[],Te=[];ne<_e;++ne)Se[ne]=Te[ne]=ne,se[ne]=ee[ne];for(;Oe<Te.length;++Oe)ne=Te[Oe],oe=G[ne].L,le=G[ne].R,Ee=G[ne].C,Se[ne]===ne&&(oe!==-1&&Se[oe]!==oe&&(Se[ne]=Se[oe]),le!==-1&&Se[le]!==le&&(Se[ne]=Se[le])),Ee!==-1&&(Se[Ee]=ne),oe!==-1&&ne!=Se[ne]&&(Se[oe]=Se[ne],Te.lastIndexOf(oe)<Oe&&Te.push(oe)),le!==-1&&ne!=Se[ne]&&(Se[le]=Se[ne],Te.lastIndexOf(le)<Oe&&Te.push(le));for(ne=1;ne<_e;++ne)Se[ne]===ne&&(le!==-1&&Se[le]!==le?Se[ne]=Se[le]:oe!==-1&&Se[oe]!==oe&&(Se[ne]=Se[oe]));for(ne=1;ne<_e;++ne)if(G[ne].type!==0){if(Oe=ne,Oe!=Se[Oe])do Oe=Se[Oe],se[ne]=se[Oe]+"/"+se[ne];while(Oe!==0&&Se[Oe]!==-1&&Oe!=Se[Oe]);Se[ne]=-1}for(se[0]+="/",ne=1;ne<_e;++ne)G[ne].type!==2&&(se[ne]+="/")}function v(G,se,ee){for(var ne=G.start,oe=G.size,le=[],Ee=ne;ee&&oe>0&&Ee>=0;)le.push(se.slice(Ee*B,Ee*B+B)),oe-=B,Ee=rd(ee,Ee*4);return le.length===0?Pe(0):Fi(le).slice(0,G.size)}function b(G,se,ee,ne,oe){var le=F;if(G===F){if(se!==0)throw new Error("DIFAT chain shorter than expected")}else if(G!==-1){var Ee=ee[G],Oe=(ne>>>2)-1;if(!Ee)return;for(var _e=0;_e<Oe&&(le=rd(Ee,_e*4))!==F;++_e)oe.push(le);b(rd(Ee,ne-4),se-1,ee,ne,oe)}}function E(G,se,ee,ne,oe){var le=[],Ee=[];oe||(oe=[]);var Oe=ne-1,_e=0,Se=0;for(_e=se;_e>=0;){oe[_e]=!0,le[le.length]=_e,Ee.push(G[_e]);var Te=ee[Math.floor(_e*4/ne)];if(Se=_e*4&Oe,ne<4+Se)throw new Error("FAT boundary crossed: "+_e+" 4 "+ne);if(!G[Te])break;_e=rd(G[Te],Se)}return{nodes:le,data:$B([Ee])}}function N(G,se,ee,ne){var oe=G.length,le=[],Ee=[],Oe=[],_e=[],Se=ne-1,Te=0,Be=0,Ge=0,rt=0;for(Te=0;Te<oe;++Te)if(Oe=[],Ge=Te+se,Ge>=oe&&(Ge-=oe),!Ee[Ge]){_e=[];var He=[];for(Be=Ge;Be>=0;){He[Be]=!0,Ee[Be]=!0,Oe[Oe.length]=Be,_e.push(G[Be]);var ze=ee[Math.floor(Be*4/ne)];if(rt=Be*4&Se,ne<4+rt)throw new Error("FAT boundary crossed: "+Be+" 4 "+ne);if(!G[ze]||(Be=rd(G[ze],rt),He[Be]))break}le[Ge]={nodes:Oe,data:$B([_e])}}return le}function C(G,se,ee,ne,oe,le,Ee,Oe){for(var _e=0,Se=ne.length?2:0,Te=se[G].data,Be=0,Ge=0,rt;Be<Te.length;Be+=128){var He=Te.slice(Be,Be+128);za(He,64),Ge=He.read_shift(2),rt=bM(He,0,Ge-Se),ne.push(rt);var ze={name:rt,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},Tt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);Tt!==0&&(ze.ct=k(He,He.l-8));var An=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);An!==0&&(ze.mt=k(He,He.l-8)),ze.start=He.read_shift(4,"i"),ze.size=He.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=F,ze.name=""),ze.type===5?(_e=ze.start,oe>0&&_e!==F&&(se[_e].name="!StreamData")):ze.size>=4096?(ze.storage="fat",se[ze.start]===void 0&&(se[ze.start]=E(ee,ze.start,se.fat_addrs,se.ssz)),se[ze.start].name=ze.name,ze.content=se[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:_e!==F&&ze.start!==F&&se[_e]&&(ze.content=v(ze,se[_e].data,(se[Oe]||{}).data))),ze.content&&za(ze.content,0),le[rt]=ze,Ee.push(ze)}}function k(G,se){return new Date((Ga(G,se+4)/1e7*Math.pow(2,32)+Ga(G,se)/1e7-11644473600)*1e3)}function O(G,se){return u(),d(l.readFileSync(G),se)}function I(G,se){var ee=se&&se.type;switch(ee||Tn&&Buffer.isBuffer(G)&&(ee="buffer"),ee||"base64"){case"file":return O(G,se);case"base64":return d(Xs(ac(G)),se);case"binary":return d(Xs(G),se)}return d(G,se)}function A(G,se){var ee=se||{},ne=ee.root||"Root Entry";if(G.FullPaths||(G.FullPaths=[]),G.FileIndex||(G.FileIndex=[]),G.FullPaths.length!==G.FileIndex.length)throw new Error("inconsistent CFB structure");G.FullPaths.length===0&&(G.FullPaths[0]=ne+"/",G.FileIndex[0]={name:ne,type:5}),ee.CLSID&&(G.FileIndex[0].clsid=ee.CLSID),R(G)}function R(G){var se="Sh33tJ5";if(!Bn.find(G,"/"+se)){var ee=Pe(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,G.FileIndex.push({name:se,type:2,content:ee,size:4,L:69,R:69,C:69}),G.FullPaths.push(G.FullPaths[0]+se),D(G)}}function D(G,se){A(G);for(var ee=!1,ne=!1,oe=G.FullPaths.length-1;oe>=0;--oe){var le=G.FileIndex[oe];switch(le.type){case 0:ne?ee=!0:(G.FileIndex.pop(),G.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(le.R*le.L*le.C)&&(ee=!0),le.R>-1&&le.L>-1&&le.R==le.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!se)){var Ee=new Date(1987,1,19),Oe=0,_e=Object.create?Object.create(null):{},Se=[];for(oe=0;oe<G.FullPaths.length;++oe)_e[G.FullPaths[oe]]=!0,G.FileIndex[oe].type!==0&&Se.push([G.FullPaths[oe],G.FileIndex[oe]]);for(oe=0;oe<Se.length;++oe){var Te=r(Se[oe][0]);ne=_e[Te],ne||(Se.push([Te,{name:i(Te).replace("/",""),type:1,clsid:V,ct:Ee,mt:Ee,content:null}]),_e[Te]=!0)}for(Se.sort(function(rt,He){return n(rt[0],He[0])}),G.FullPaths=[],G.FileIndex=[],oe=0;oe<Se.length;++oe)G.FullPaths[oe]=Se[oe][0],G.FileIndex[oe]=Se[oe][1];for(oe=0;oe<Se.length;++oe){var Be=G.FileIndex[oe],Ge=G.FullPaths[oe];if(Be.name=i(Ge).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||V,oe===0)Be.C=Se.length>1?1:-1,Be.size=0,Be.type=5;else if(Ge.slice(-1)=="/"){for(Oe=oe+1;Oe<Se.length&&r(G.FullPaths[Oe])!=Ge;++Oe);for(Be.C=Oe>=Se.length?-1:Oe,Oe=oe+1;Oe<Se.length&&r(G.FullPaths[Oe])!=r(Ge);++Oe);Be.R=Oe>=Se.length?-1:Oe,Be.type=1}else r(G.FullPaths[oe+1]||"")==r(Ge)&&(Be.R=oe+1),Be.type=2}}}function L(G,se){var ee=se||{};if(ee.fileType=="mad")return pn(G,ee);switch(D(G),ee.fileType){case"zip":return It(G,ee)}var ne=function(rt){for(var He=0,ze=0,Tt=0;Tt<rt.FileIndex.length;++Tt){var An=rt.FileIndex[Tt];if(An.content){var Gt=An.content.length;Gt>0&&(Gt<4096?He+=Gt+63>>6:ze+=Gt+511>>9)}}for(var wn=rt.FullPaths.length+3>>2,Wr=He+7>>3,ll=He+127>>7,Ls=Wr+ze+wn+ll,ka=Ls+127>>7,Nc=ka<=109?0:Math.ceil((ka-109)/127);Ls+ka+Nc+127>>7>ka;)Nc=++ka<=109?0:Math.ceil((ka-109)/127);var li=[1,Nc,ka,ll,wn,ze,He,0];return rt.FileIndex[0].size=He<<6,li[7]=(rt.FileIndex[0].start=li[0]+li[1]+li[2]+li[3]+li[4]+li[5])+(li[6]+7>>3),li}(G),oe=Pe(ne[7]<<9),le=0,Ee=0;{for(le=0;le<8;++le)oe.write_shift(1,q[le]);for(le=0;le<8;++le)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),le=0;le<3;++le)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,ne[2]),oe.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:F),oe.write_shift(4,ne[3]),oe.write_shift(-4,ne[1]?ne[0]-1:F),oe.write_shift(4,ne[1]),le=0;le<109;++le)oe.write_shift(-4,le<ne[2]?ne[1]+le:-1)}if(ne[1])for(Ee=0;Ee<ne[1];++Ee){for(;le<236+Ee*127;++le)oe.write_shift(-4,le<ne[2]?ne[1]+le:-1);oe.write_shift(-4,Ee===ne[1]-1?F:Ee+1)}var Oe=function(rt){for(Ee+=rt;le<Ee-1;++le)oe.write_shift(-4,le+1);rt&&(++le,oe.write_shift(-4,F))};for(Ee=le=0,Ee+=ne[1];le<Ee;++le)oe.write_shift(-4,X.DIFSECT);for(Ee+=ne[2];le<Ee;++le)oe.write_shift(-4,X.FATSECT);Oe(ne[3]),Oe(ne[4]);for(var _e=0,Se=0,Te=G.FileIndex[0];_e<G.FileIndex.length;++_e)Te=G.FileIndex[_e],Te.content&&(Se=Te.content.length,!(Se<4096)&&(Te.start=Ee,Oe(Se+511>>9)));for(Oe(ne[6]+7>>3);oe.l&511;)oe.write_shift(-4,X.ENDOFCHAIN);for(Ee=le=0,_e=0;_e<G.FileIndex.length;++_e)Te=G.FileIndex[_e],Te.content&&(Se=Te.content.length,!(!Se||Se>=4096)&&(Te.start=Ee,Oe(Se+63>>6)));for(;oe.l&511;)oe.write_shift(-4,X.ENDOFCHAIN);for(le=0;le<ne[4]<<2;++le){var Be=G.FullPaths[le];if(!Be||Be.length===0){for(_e=0;_e<17;++_e)oe.write_shift(4,0);for(_e=0;_e<3;++_e)oe.write_shift(4,-1);for(_e=0;_e<12;++_e)oe.write_shift(4,0);continue}Te=G.FileIndex[le],le===0&&(Te.start=Te.size?Te.start-1:F);var Ge=le===0&&ee.root||Te.name;if(Se=2*(Ge.length+1),oe.write_shift(64,Ge,"utf16le"),oe.write_shift(2,Se),oe.write_shift(1,Te.type),oe.write_shift(1,Te.color),oe.write_shift(-4,Te.L),oe.write_shift(-4,Te.R),oe.write_shift(-4,Te.C),Te.clsid)oe.write_shift(16,Te.clsid,"hex");else for(_e=0;_e<4;++_e)oe.write_shift(4,0);oe.write_shift(4,Te.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Te.start),oe.write_shift(4,Te.size),oe.write_shift(4,0)}for(le=1;le<G.FileIndex.length;++le)if(Te=G.FileIndex[le],Te.size>=4096)if(oe.l=Te.start+1<<9,Tn&&Buffer.isBuffer(Te.content))Te.content.copy(oe,oe.l,0,Te.size),oe.l+=Te.size+511&-512;else{for(_e=0;_e<Te.size;++_e)oe.write_shift(1,Te.content[_e]);for(;_e&511;++_e)oe.write_shift(1,0)}for(le=1;le<G.FileIndex.length;++le)if(Te=G.FileIndex[le],Te.size>0&&Te.size<4096)if(Tn&&Buffer.isBuffer(Te.content))Te.content.copy(oe,oe.l,0,Te.size),oe.l+=Te.size+63&-64;else{for(_e=0;_e<Te.size;++_e)oe.write_shift(1,Te.content[_e]);for(;_e&63;++_e)oe.write_shift(1,0)}if(Tn)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}function j(G,se){var ee=G.FullPaths.map(function(_e){return _e.toUpperCase()}),ne=ee.map(function(_e){var Se=_e.split("/");return Se[Se.length-(_e.slice(-1)=="/"?2:1)]}),oe=!1;se.charCodeAt(0)===47?(oe=!0,se=ee[0].slice(0,-1)+se):oe=se.indexOf("/")!==-1;var le=se.toUpperCase(),Ee=oe===!0?ee.indexOf(le):ne.indexOf(le);if(Ee!==-1)return G.FileIndex[Ee];var Oe=!le.match(p_);for(le=le.replace(ov,""),Oe&&(le=le.replace(p_,"!")),Ee=0;Ee<ee.length;++Ee)if((Oe?ee[Ee].replace(p_,"!"):ee[Ee]).replace(ov,"")==le||(Oe?ne[Ee].replace(p_,"!"):ne[Ee]).replace(ov,"")==le)return G.FileIndex[Ee];return null}var B=64,F=-2,re="d0cf11e0a1b11ae1",q=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(G,se,ee){u();var ne=L(G,ee);l.writeFileSync(se,ne)}function ie(G){for(var se=new Array(G.length),ee=0;ee<G.length;++ee)se[ee]=String.fromCharCode(G[ee]);return se.join("")}function W(G,se){var ee=L(G,se);switch(se&&se.type||"buffer"){case"file":return u(),l.writeFileSync(se.filename,ee),ee;case"binary":return typeof ee=="string"?ee:ie(ee);case"base64":return Yv(typeof ee=="string"?ee:ie(ee));case"buffer":if(Tn)return Buffer.isBuffer(ee)?ee:vc(ee);case"array":return typeof ee=="string"?Xs(ee):ee}return ee}var ce;function z(G){try{var se=G.InflateRaw,ee=new se;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)ce=G;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function Y(G,se){if(!ce)return xo(G,se);var ee=ce.InflateRaw,ne=new ee,oe=ne._processChunk(G.slice(G.l),ne._finishFlushFlag);return G.l+=ne.bytesRead,oe}function K(G){return ce?ce.deflateRawSync(G):Ia(G)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(G){var se=(G<<1|G<<11)&139536|(G<<5|G<<15)&558144;return(se>>16|se>>8|se)&255}for(var de=typeof Uint8Array<"u",he=de?new Uint8Array(256):[],Ce=0;Ce<256;++Ce)he[Ce]=ye(Ce);function me(G,se){var ee=he[G&255];return se<=8?ee>>>8-se:(ee=ee<<8|he[G>>8&255],se<=16?ee>>>16-se:(ee=ee<<8|he[G>>16&255],ee>>>24-se))}function Ue(G,se){var ee=se&7,ne=se>>>3;return(G[ne]|(ee<=6?0:G[ne+1]<<8))>>>ee&3}function $e(G,se){var ee=se&7,ne=se>>>3;return(G[ne]|(ee<=5?0:G[ne+1]<<8))>>>ee&7}function Je(G,se){var ee=se&7,ne=se>>>3;return(G[ne]|(ee<=4?0:G[ne+1]<<8))>>>ee&15}function it(G,se){var ee=se&7,ne=se>>>3;return(G[ne]|(ee<=3?0:G[ne+1]<<8))>>>ee&31}function Fe(G,se){var ee=se&7,ne=se>>>3;return(G[ne]|(ee<=1?0:G[ne+1]<<8))>>>ee&127}function Rt(G,se,ee){var ne=se&7,oe=se>>>3,le=(1<<ee)-1,Ee=G[oe]>>>ne;return ee<8-ne||(Ee|=G[oe+1]<<8-ne,ee<16-ne)||(Ee|=G[oe+2]<<16-ne,ee<24-ne)||(Ee|=G[oe+3]<<24-ne),Ee&le}function Ft(G,se,ee){var ne=se&7,oe=se>>>3;return ne<=5?G[oe]|=(ee&7)<<ne:(G[oe]|=ee<<ne&255,G[oe+1]=(ee&7)>>8-ne),se+3}function nr(G,se,ee){var ne=se&7,oe=se>>>3;return ee=(ee&1)<<ne,G[oe]|=ee,se+1}function cr(G,se,ee){var ne=se&7,oe=se>>>3;return ee<<=ne,G[oe]|=ee&255,ee>>>=8,G[oe+1]=ee,se+8}function zi(G,se,ee){var ne=se&7,oe=se>>>3;return ee<<=ne,G[oe]|=ee&255,ee>>>=8,G[oe+1]=ee&255,G[oe+2]=ee>>>8,se+16}function vr(G,se){var ee=G.length,ne=2*ee>se?2*ee:se+5,oe=0;if(ee>=se)return G;if(Tn){var le=TB(ne);if(G.copy)G.copy(le);else for(;oe<G.length;++oe)le[oe]=G[oe];return le}else if(de){var Ee=new Uint8Array(ne);if(Ee.set)Ee.set(G);else for(;oe<ee;++oe)Ee[oe]=G[oe];return Ee}return G.length=ne,G}function Wt(G){for(var se=new Array(G),ee=0;ee<G;++ee)se[ee]=0;return se}function Ci(G,se,ee){var ne=1,oe=0,le=0,Ee=0,Oe=0,_e=G.length,Se=de?new Uint16Array(32):Wt(32);for(le=0;le<32;++le)Se[le]=0;for(le=_e;le<ee;++le)G[le]=0;_e=G.length;var Te=de?new Uint16Array(_e):Wt(_e);for(le=0;le<_e;++le)Se[oe=G[le]]++,ne<oe&&(ne=oe),Te[le]=0;for(Se[0]=0,le=1;le<=ne;++le)Se[le+16]=Oe=Oe+Se[le-1]<<1;for(le=0;le<_e;++le)Oe=G[le],Oe!=0&&(Te[le]=Se[Oe+16]++);var Be=0;for(le=0;le<_e;++le)if(Be=G[le],Be!=0)for(Oe=me(Te[le],ne)>>ne-Be,Ee=(1<<ne+4-Be)-1;Ee>=0;--Ee)se[Oe|Ee<<Be]=Be&15|le<<4;return ne}var Hn=de?new Uint16Array(512):Wt(512),Mn=de?new Uint16Array(32):Wt(32);if(!de){for(var Ir=0;Ir<512;++Ir)Hn[Ir]=0;for(Ir=0;Ir<32;++Ir)Mn[Ir]=0}(function(){for(var G=[],se=0;se<32;se++)G.push(5);Ci(G,Mn,32);var ee=[];for(se=0;se<=143;se++)ee.push(8);for(;se<=255;se++)ee.push(9);for(;se<=279;se++)ee.push(7);for(;se<=287;se++)ee.push(8);Ci(ee,Hn,288)})();var Tc=function(){for(var se=de?new Uint8Array(32768):[],ee=0,ne=0;ee<pe.length-1;++ee)for(;ne<pe[ee+1];++ne)se[ne]=ee;for(;ne<32768;++ne)se[ne]=29;var oe=de?new Uint8Array(259):[];for(ee=0,ne=0;ee<fe.length-1;++ee)for(;ne<fe[ee+1];++ne)oe[ne]=ee;function le(Oe,_e){for(var Se=0;Se<Oe.length;){var Te=Math.min(65535,Oe.length-Se),Be=Se+Te==Oe.length;for(_e.write_shift(1,+Be),_e.write_shift(2,Te),_e.write_shift(2,~Te&65535);Te-- >0;)_e[_e.l++]=Oe[Se++]}return _e.l}function Ee(Oe,_e){for(var Se=0,Te=0,Be=de?new Uint16Array(32768):[];Te<Oe.length;){var Ge=Math.min(65535,Oe.length-Te);if(Ge<10){for(Se=Ft(_e,Se,+(Te+Ge==Oe.length)),Se&7&&(Se+=8-(Se&7)),_e.l=Se/8|0,_e.write_shift(2,Ge),_e.write_shift(2,~Ge&65535);Ge-- >0;)_e[_e.l++]=Oe[Te++];Se=_e.l*8;continue}Se=Ft(_e,Se,+(Te+Ge==Oe.length)+2);for(var rt=0;Ge-- >0;){var He=Oe[Te];rt=(rt<<5^He)&32767;var ze=-1,Tt=0;if((ze=Be[rt])&&(ze|=Te&-32768,ze>Te&&(ze-=32768),ze<Te))for(;Oe[ze+Tt]==Oe[Te+Tt]&&Tt<250;)++Tt;if(Tt>2){He=oe[Tt],He<=22?Se=cr(_e,Se,he[He+1]>>1)-1:(cr(_e,Se,3),Se+=5,cr(_e,Se,he[He-23]>>5),Se+=3);var An=He<8?0:He-4>>2;An>0&&(zi(_e,Se,Tt-fe[He]),Se+=An),He=se[Te-ze],Se=cr(_e,Se,he[He]>>3),Se-=3;var Gt=He<4?0:He-2>>1;Gt>0&&(zi(_e,Se,Te-ze-pe[He]),Se+=Gt);for(var wn=0;wn<Tt;++wn)Be[rt]=Te&32767,rt=(rt<<5^Oe[Te])&32767,++Te;Ge-=Tt-1}else He<=143?He=He+48:Se=nr(_e,Se,1),Se=cr(_e,Se,he[He]),Be[rt]=Te&32767,++Te}Se=cr(_e,Se,0)-1}return _e.l=(Se+7)/8|0,_e.l}return function(_e,Se){return _e.length<8?le(_e,Se):Ee(_e,Se)}}();function Ia(G){var se=Pe(50+Math.floor(G.length*1.1)),ee=Tc(G,se);return se.slice(0,ee)}var Nr=de?new Uint16Array(32768):Wt(32768),is=de?new Uint16Array(32768):Wt(32768),Da=de?new Uint16Array(128):Wt(128),Or=1,yo=1;function xa(G,se){var ee=it(G,se)+257;se+=5;var ne=it(G,se)+1;se+=5;var oe=Je(G,se)+4;se+=4;for(var le=0,Ee=de?new Uint8Array(19):Wt(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,Se=de?new Uint8Array(8):Wt(8),Te=de?new Uint8Array(8):Wt(8),Be=Ee.length,Ge=0;Ge<oe;++Ge)Ee[J[Ge]]=le=$e(G,se),_e<le&&(_e=le),Se[le]++,se+=3;var rt=0;for(Se[0]=0,Ge=1;Ge<=_e;++Ge)Te[Ge]=rt=rt+Se[Ge-1]<<1;for(Ge=0;Ge<Be;++Ge)(rt=Ee[Ge])!=0&&(Oe[Ge]=Te[rt]++);var He=0;for(Ge=0;Ge<Be;++Ge)if(He=Ee[Ge],He!=0){rt=he[Oe[Ge]]>>8-He;for(var ze=(1<<7-He)-1;ze>=0;--ze)Da[rt|ze<<He]=He&7|Ge<<3}var Tt=[];for(_e=1;Tt.length<ee+ne;)switch(rt=Da[Fe(G,se)],se+=rt&7,rt>>>=3){case 16:for(le=3+Ue(G,se),se+=2,rt=Tt[Tt.length-1];le-- >0;)Tt.push(rt);break;case 17:for(le=3+$e(G,se),se+=3;le-- >0;)Tt.push(0);break;case 18:for(le=11+Fe(G,se),se+=7;le-- >0;)Tt.push(0);break;default:Tt.push(rt),_e<rt&&(_e=rt);break}var An=Tt.slice(0,ee),Gt=Tt.slice(ee);for(Ge=ee;Ge<286;++Ge)An[Ge]=0;for(Ge=ne;Ge<30;++Ge)Gt[Ge]=0;return Or=Ci(An,Nr,286),yo=Ci(Gt,is,30),se}function qr(G,se){if(G[0]==3&&!(G[1]&3))return[Od(se),2];for(var ee=0,ne=0,oe=TB(se||1<<18),le=0,Ee=oe.length>>>0,Oe=0,_e=0;(ne&1)==0;){if(ne=$e(G,ee),ee+=3,ne>>>1)ne>>1==1?(Oe=9,_e=5):(ee=xa(G,ee),Oe=Or,_e=yo);else{ee&7&&(ee+=8-(ee&7));var Se=G[ee>>>3]|G[(ee>>>3)+1]<<8;if(ee+=32,Se>0)for(!se&&Ee<le+Se&&(oe=vr(oe,le+Se),Ee=oe.length);Se-- >0;)oe[le++]=G[ee>>>3],ee+=8;continue}for(;;){!se&&Ee<le+32767&&(oe=vr(oe,le+32767),Ee=oe.length);var Te=Rt(G,ee,Oe),Be=ne>>>1==1?Hn[Te]:Nr[Te];if(ee+=Be&15,Be>>>=4,(Be>>>8&255)===0)oe[le++]=Be;else{if(Be==256)break;Be-=257;var Ge=Be<8?0:Be-4>>2;Ge>5&&(Ge=0);var rt=le+fe[Be];Ge>0&&(rt+=Rt(G,ee,Ge),ee+=Ge),Te=Rt(G,ee,_e),Be=ne>>>1==1?Mn[Te]:is[Te],ee+=Be&15,Be>>>=4;var He=Be<4?0:Be-2>>1,ze=pe[Be];for(He>0&&(ze+=Rt(G,ee,He),ee+=He),!se&&Ee<rt&&(oe=vr(oe,rt+100),Ee=oe.length);le<rt;)oe[le]=oe[le-ze],++le}}}return se?[oe,ee+7>>>3]:[oe.slice(0,le),ee+7>>>3]}function xo(G,se){var ee=G.slice(G.l||0),ne=qr(ee,se);return G.l+=ne[1],ne[0]}function ol(G,se){if(G)typeof console<"u"&&console.error(se);else throw new Error(se)}function et(G,se){var ee=G;za(ee,0);var ne=[],oe=[],le={FileIndex:ne,FullPaths:oe};A(le,{root:se.root});for(var Ee=ee.length-4;(ee[Ee]!=80||ee[Ee+1]!=75||ee[Ee+2]!=5||ee[Ee+3]!=6)&&Ee>=0;)--Ee;ee.l=Ee+4,ee.l+=4;var Oe=ee.read_shift(2);ee.l+=6;var _e=ee.read_shift(4);for(ee.l=_e,Ee=0;Ee<Oe;++Ee){ee.l+=20;var Se=ee.read_shift(4),Te=ee.read_shift(4),Be=ee.read_shift(2),Ge=ee.read_shift(2),rt=ee.read_shift(2);ee.l+=8;var He=ee.read_shift(4),ze=o(ee.slice(ee.l+Be,ee.l+Be+Ge));ee.l+=Be+Ge+rt;var Tt=ee.l;ee.l=He+4,qe(ee,Se,Te,le,ze),ee.l=Tt}return le}function qe(G,se,ee,ne,oe){G.l+=2;var le=G.read_shift(2),Ee=G.read_shift(2),Oe=s(G);if(le&8257)throw new Error("Unsupported ZIP encryption");for(var _e=G.read_shift(4),Se=G.read_shift(4),Te=G.read_shift(4),Be=G.read_shift(2),Ge=G.read_shift(2),rt="",He=0;He<Be;++He)rt+=String.fromCharCode(G[G.l++]);if(Ge){var ze=o(G.slice(G.l,G.l+Ge));(ze[21589]||{}).mt&&(Oe=ze[21589].mt),((oe||{})[21589]||{}).mt&&(Oe=oe[21589].mt)}G.l+=Ge;var Tt=G.slice(G.l,G.l+Se);switch(Ee){case 8:Tt=Y(G,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ee)}var An=!1;le&8&&(_e=G.read_shift(4),_e==134695760&&(_e=G.read_shift(4),An=!0),Se=G.read_shift(4),Te=G.read_shift(4)),Se!=se&&ol(An,"Bad compressed size: "+se+" != "+Se),Te!=ee&&ol(An,"Bad uncompressed size: "+ee+" != "+Te),ba(ne,rt,Tt,{unsafe:!0,mt:Oe})}function It(G,se){var ee=se||{},ne=[],oe=[],le=Pe(1),Ee=ee.compression?8:0,Oe=0,_e=0,Se=0,Te=0,Be=0,Ge=G.FullPaths[0],rt=Ge,He=G.FileIndex[0],ze=[],Tt=0;for(_e=1;_e<G.FullPaths.length;++_e)if(rt=G.FullPaths[_e].slice(Ge.length),He=G.FileIndex[_e],!(!He.size||!He.content||rt=="Sh33tJ5")){var An=Te,Gt=Pe(rt.length);for(Se=0;Se<rt.length;++Se)Gt.write_shift(1,rt.charCodeAt(Se)&127);Gt=Gt.slice(0,Gt.l),ze[Be]=OSe.buf(He.content,0);var wn=He.content;Ee==8&&(wn=K(wn)),le=Pe(30),le.write_shift(4,67324752),le.write_shift(2,20),le.write_shift(2,Oe),le.write_shift(2,Ee),He.mt?a(le,He.mt):le.write_shift(4,0),le.write_shift(-4,ze[Be]),le.write_shift(4,wn.length),le.write_shift(4,He.content.length),le.write_shift(2,Gt.length),le.write_shift(2,0),Te+=le.length,ne.push(le),Te+=Gt.length,ne.push(Gt),Te+=wn.length,ne.push(wn),le=Pe(46),le.write_shift(4,33639248),le.write_shift(2,0),le.write_shift(2,20),le.write_shift(2,Oe),le.write_shift(2,Ee),le.write_shift(4,0),le.write_shift(-4,ze[Be]),le.write_shift(4,wn.length),le.write_shift(4,He.content.length),le.write_shift(2,Gt.length),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(4,0),le.write_shift(4,An),Tt+=le.l,oe.push(le),Tt+=Gt.length,oe.push(Gt),++Be}return le=Pe(22),le.write_shift(4,101010256),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,Be),le.write_shift(2,Be),le.write_shift(4,Tt),le.write_shift(4,Te),le.write_shift(2,0),Fi([Fi(ne),Fi(oe),le])}var _t={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function _n(G,se){if(G.ctype)return G.ctype;var ee=G.name||"",ne=ee.match(/\.([^\.]+)$/);return ne&&_t[ne[1]]||se&&(ne=(ee=se).match(/[\.\\]([^\.\\])+$/),ne&&_t[ne[1]])?_t[ne[1]]:"application/octet-stream"}function zn(G){for(var se=Yv(G),ee=[],ne=0;ne<se.length;ne+=76)ee.push(se.slice(ne,ne+76));return ee.join(`\r
`)+`\r
`}function oi(G){var se=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var Te=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});se=se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),se.charAt(0)==`
`&&(se="=0D"+se.slice(1)),se=se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],ne=se.split(`\r
`),oe=0;oe<ne.length;++oe){var le=ne[oe];if(le.length==0){ee.push("");continue}for(var Ee=0;Ee<le.length;){var Oe=76,_e=le.slice(Ee,Ee+Oe);_e.charAt(Oe-1)=="="?Oe--:_e.charAt(Oe-2)=="="?Oe-=2:_e.charAt(Oe-3)=="="&&(Oe-=3),_e=le.slice(Ee,Ee+Oe),Ee+=Oe,Ee<le.length&&(_e+="="),ee.push(_e)}}return ee.join(`\r
`)}function yr(G){for(var se=[],ee=0;ee<G.length;++ee){for(var ne=G[ee];ee<=G.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+G[++ee];se.push(ne)}for(var oe=0;oe<se.length;++oe)se[oe]=se[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(le){return String.fromCharCode(parseInt(le.slice(1),16))});return Xs(se.join(`\r
`))}function qn(G,se,ee){for(var ne="",oe="",le="",Ee,Oe=0;Oe<10;++Oe){var _e=se[Oe];if(!_e||_e.match(/^\s*$/))break;var Se=_e.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":ne=Se[2].trim();break;case"content-type":le=Se[2].trim();break;case"content-transfer-encoding":oe=Se[2].trim();break}}switch(++Oe,oe.toLowerCase()){case"base64":Ee=Xs(ac(se.slice(Oe).join("")));break;case"quoted-printable":Ee=yr(se.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Te=ba(G,ne.slice(ee.length),Ee,{unsafe:!0});le&&(Te.ctype=le)}function hr(G,se){if(ie(G.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=se&&se.root||"",ne=(Tn&&Buffer.isBuffer(G)?G.toString("binary"):ie(G)).split(`\r
`),oe=0,le="";for(oe=0;oe<ne.length;++oe)if(le=ne[oe],!!/^Content-Location:/i.test(le)&&(le=le.slice(le.indexOf("file")),ee||(ee=le.slice(0,le.lastIndexOf("/")+1)),le.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),le.slice(0,ee.length)!=ee););var Ee=(ne[1]||"").match(/boundary="(.*?)"/);if(!Ee)throw new Error("MAD cannot find boundary");var Oe="--"+(Ee[1]||""),_e=[],Se=[],Te={FileIndex:_e,FullPaths:Se};A(Te);var Be,Ge=0;for(oe=0;oe<ne.length;++oe){var rt=ne[oe];rt!==Oe&&rt!==Oe+"--"||(Ge++&&qn(Te,ne.slice(Be,oe),ee),Be=oe)}return Te}function pn(G,se){var ee=se||{},ne=ee.boundary||"SheetJS";ne="------="+ne;for(var oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],le=G.FullPaths[0],Ee=le,Oe=G.FileIndex[0],_e=1;_e<G.FullPaths.length;++_e)if(Ee=G.FullPaths[_e].slice(le.length),Oe=G.FileIndex[_e],!(!Oe.size||!Oe.content||Ee=="Sh33tJ5")){Ee=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var Se=Oe.content,Te=Tn&&Buffer.isBuffer(Se)?Se.toString("binary"):ie(Se),Be=0,Ge=Math.min(1024,Te.length),rt=0,He=0;He<=Ge;++He)(rt=Te.charCodeAt(He))>=32&&rt<128&&++Be;var ze=Be>=Ge*4/5;oe.push(ne),oe.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+Ee),oe.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),oe.push("Content-Type: "+_n(Oe,Ee)),oe.push(""),oe.push(ze?oi(Te):zn(Te))}return oe.push(ne+`--\r
`),oe.join(`\r
`)}function Ac(G){var se={};return A(se,G),se}function ba(G,se,ee,ne){var oe=ne&&ne.unsafe;oe||A(G);var le=!oe&&Bn.find(G,se);if(!le){var Ee=G.FullPaths[0];se.slice(0,Ee.length)==Ee?Ee=se:(Ee.slice(-1)!="/"&&(Ee+="/"),Ee=(Ee+se).replace("//","/")),le={name:i(se),type:2},G.FileIndex.push(le),G.FullPaths.push(Ee),oe||Bn.utils.cfb_gc(G)}return le.content=ee,le.size=ee?ee.length:0,ne&&(ne.CLSID&&(le.clsid=ne.CLSID),ne.mt&&(le.mt=ne.mt),ne.ct&&(le.ct=ne.ct)),le}function as(G,se){A(G);var ee=Bn.find(G,se);if(ee){for(var ne=0;ne<G.FileIndex.length;++ne)if(G.FileIndex[ne]==ee)return G.FileIndex.splice(ne,1),G.FullPaths.splice(ne,1),!0}return!1}function Cc(G,se,ee){A(G);var ne=Bn.find(G,se);if(ne){for(var oe=0;oe<G.FileIndex.length;++oe)if(G.FileIndex[oe]==ne)return G.FileIndex[oe].name=i(ee),G.FullPaths[oe]=ee,!0}return!1}function hh(G){D(G,!0)}return e.find=j,e.read=I,e.parse=d,e.write=W,e.writeFile=Q,e.utils={cfb_new:Ac,cfb_add:ba,cfb_del:as,cfb_mov:Cc,cfb_gc:hh,ReadShift:cv,CheckField:FZ,prep_blob:za,bconcat:Fi,use_zlib:z,_deflateRaw:Ia,_inflateRaw:xo,consts:X},e}();function PSe(t){return typeof t=="string"?bS(t):Array.isArray(t)?nSe(t):t}function dx(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=bS(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Qv(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([PSe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=fx(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Hi(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function DB(t,e){for(var n=[],r=Hi(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function gM(t){for(var e=[],n=Hi(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function ES(t){for(var e=[],n=Hi(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function RSe(t){for(var e=[],n=Hi(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var ew=new Date(1899,11,30,0,0,0);function Na(t,e){var n=t.getTime(),r=ew.getTime()+(t.getTimezoneOffset()-ew.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var _Z=new Date,ISe=ew.getTime()+(_Z.getTimezoneOffset()-ew.getTimezoneOffset())*6e4,kB=_Z.getTimezoneOffset();function wZ(t){var e=new Date;return e.setTime(t*24*60*60*1e3+ISe),e.getTimezoneOffset()!==kB&&e.setTime(e.getTime()+(e.getTimezoneOffset()-kB)*6e4),e}var jB=new Date("2017-02-19T19:06:09.000Z"),EZ=isNaN(jB.getFullYear())?new Date("2/19/17"):jB,DSe=EZ.getFullYear()==2017;function ga(t,e){var n=new Date(t);if(DSe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(EZ.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function SS(t,e){if(Tn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Oa(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Oa(t[n]));return e}function Er(t,e){for(var n="";n.length<e;)n+=t;return n}function Wl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var kSe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xv(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&kSe.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function Bt(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Tn?r=vc(n):r=rSe(n),Bn.utils.cfb_add(t,e,r)}Bn.utils.cfb_add(t,e,n)}else t.file(e,n)}function vM(){return Bn.utils.cfb_new()}var zr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,jSe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},yM=gM(jSe),xM=/[&<>'"]/g,MSe=/[\u0000-\u0008\u000b-\u001f]/g;function kn(t){var e=t+"";return e.replace(xM,function(n){return yM[n]}).replace(MSe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function MB(t){return kn(t).replace(/ /g,"_x0020_")}var SZ=/[\u0000-\u001f]/g;function LSe(t){var e=t+"";return e.replace(xM,function(n){return yM[n]}).replace(/\n/g,"<br/>").replace(SZ,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function FSe(t){var e=t+"";return e.replace(xM,function(n){return yM[n]}).replace(SZ,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function BSe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function $Se(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function t2(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function LB(t){var e=Od(2*t.length),n,r,i=1,a=0,s=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function FB(t){return vc(t,"binary").toString("utf8")}var g_="foo bar baz",lv=Tn&&(FB(g_)==t2(g_)&&FB||LB(g_)==t2(g_)&&LB)||t2,Qv=Tn?function(t){return vc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},VSe=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),TZ=/(^\s|\s$|\n)/;function Bi(t,e){return"<"+t+(e.match(TZ)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Zv(t){return Hi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ke(t,e,n){return"<"+t+(n!=null?Zv(n):"")+(e!=null?(e.match(TZ)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function CI(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function USe(t,e){switch(typeof t){case"string":var n=Ke("vt:lpwstr",kn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Ke((t|0)==t?"vt:i4":"vt:r8",kn(String(t)));case"boolean":return Ke("vt:bool",t?"true":"false")}if(t instanceof Date)return Ke("vt:filetime",CI(t));throw new Error("Unable to serialize "+t)}var wi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},d0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Wa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function HSe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function zSe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[n+o]=a&255;t[n+6]=(i&15)<<4|a&15,t[n+7]=i>>4|r}var BB=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,a=t[0][r].length;i<a;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},$B=Tn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:vc(e)})):BB(t)}:BB,VB=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Zg(t,i)));return r.join("").replace(ov,"")},bM=Tn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(ov,""):VB(t,e,n)}:VB,UB=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},AZ=Tn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):UB(t,e,n)}:UB,HB=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(mp(t,i)));return r.join("")},hx=Tn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):HB(e,n,r)}:HB,CZ=function(t,e){var n=Ga(t,e);return n>0?hx(t,e+4,e+4+n-1):""},NZ=CZ,OZ=function(t,e){var n=Ga(t,e);return n>0?hx(t,e+4,e+4+n-1):""},PZ=OZ,RZ=function(t,e){var n=2*Ga(t,e);return n>0?hx(t,e+4,e+4+n-1):""},IZ=RZ,DZ=function(e,n){var r=Ga(e,n);return r>0?bM(e,n+4,n+4+r):""},kZ=DZ,jZ=function(t,e){var n=Ga(t,e);return n>0?hx(t,e+4,e+4+n):""},MZ=jZ,LZ=function(t,e){return HSe(t,e)},tw=LZ,_M=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Tn&&(NZ=function(e,n){if(!Buffer.isBuffer(e))return CZ(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},PZ=function(e,n){if(!Buffer.isBuffer(e))return OZ(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},IZ=function(e,n){if(!Buffer.isBuffer(e))return RZ(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},kZ=function(e,n){if(!Buffer.isBuffer(e))return DZ(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},MZ=function(e,n){if(!Buffer.isBuffer(e))return jZ(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},tw=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):LZ(e,n)},_M=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var mp=function(t,e){return t[e]},Zg=function(t,e){return t[e+1]*256+t[e]},qSe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ga=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},rd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},WSe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function cv(t,e){var n="",r,i,a=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,Tn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(Zg(this,u)),u+=2;t*=2;break;case"utf8":n=hx(this,this.l,this.l+t);break;case"utf16le":t*=2,n=bM(this,this.l,this.l+t);break;case"wstr":return cv.call(this,t,"dbcs");case"lpstr-ansi":n=NZ(this,this.l),t=4+Ga(this,this.l);break;case"lpstr-cp":n=PZ(this,this.l),t=4+Ga(this,this.l);break;case"lpwstr":n=IZ(this,this.l),t=4+2*Ga(this,this.l);break;case"lpp4":t=4+Ga(this,this.l),n=kZ(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ga(this,this.l),n=MZ(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(s=mp(this,this.l+t++))!==0;)a.push(h_(s));n=a.join("");break;case"_wstr":for(t=0,n="";(s=Zg(this,this.l+t))!==0;)a.push(h_(s)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=mp(this,u),this.l=u+1,o=cv.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(h_(Zg(this,u))),u+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=mp(this,u),this.l=u+1,o=cv.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(h_(mp(this,u))),u+=1}n=a.join("");break;default:switch(t){case 1:return r=mp(this,this.l),this.l++,r;case 2:return r=(e==="i"?qSe:Zg)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?rd:WSe)(this,this.l),this.l+=4,r):(i=Ga(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=tw(this,this.l):i=tw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=AZ(this,this.l,t);break}}return this.l+=t,n}var GSe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},KSe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},YSe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function XSe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)YSe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,GSe(this,e,this.l);break;case 8:if(r=8,n==="f"){zSe(this,e,this.l);break}case 16:break;case-4:r=4,KSe(this,e,this.l);break}return this.l+=r,this}function FZ(t,e){var n=AZ(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function za(t,e){t.l=e,t.read_shift=cv,t.chk=FZ,t.write_shift=XSe}function el(t,e){t.l+=e}function Pe(t){var e=Od(t);return za(e,0),e}function Aa(){var t=[],e=Tn?256:2048,n=function(u){var d=Pe(u);return za(d,0),d},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,e)))},s=function(){return i(),Fi(t)},o=function(u){i(),r=u,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function Le(t,e,n,r){var i=+e,a;if(!isNaN(i)){r||(r=HOe[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)s.write_shift(1,(r&127)+128),r>>=7;else{s.write_shift(1,r);break}r>0&&_M(n)&&t.push(n)}}function uv(t,e,n){var r=Oa(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function zB(t,e,n){var r=Oa(t);return r.s=uv(r.s,e.s,n),r.e=uv(r.e,e.s,n),r}function fv(t,e){if(t.cRel&&t.c<0)for(t=Oa(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Oa(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=jn(t);return!t.cRel&&t.cRel!=null&&(n=JSe(n)),!t.rRel&&t.rRel!=null&&(n=QSe(n)),n}function n2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ea(t.s.c)+":"+(t.e.cRel?"":"$")+ea(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Vi(t.s.r)+":"+(t.e.rRel?"":"$")+Vi(t.e.r):fv(t.s,e.biff)+":"+fv(t.e,e.biff)}function wM(t){return parseInt(ZSe(t),10)-1}function Vi(t){return""+(t+1)}function QSe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ZSe(t){return t.replace(/\$(\d+)$/,"$1")}function EM(t){for(var e=eTe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ea(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function JSe(t){return t.replace(/^([A-Z])/,"$$$1")}function eTe(t){return t.replace(/^\$([A-Z])/,"$1")}function tTe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ei(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function jn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function rs(t){var e=t.indexOf(":");return e==-1?{s:Ei(t),e:Ei(t)}:{s:Ei(t.slice(0,e)),e:Ei(t.slice(e+1))}}function Vr(t,e){return typeof e>"u"||typeof e=="number"?Vr(t.s,t.e):(typeof t!="string"&&(t=jn(t)),typeof e!="string"&&(e=jn(e)),t==e?t:t+":"+e)}function lr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=t.length;for(n=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function qB(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Yu(t.z,n?Na(e):e)}catch{}try{return t.w=Yu((t.XF||{}).numFmtId||(n?14:0),n?Na(e):e)}catch{return""+e}}function sc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?px[t.v]||t.v:e==null?qB(t,t.v):qB(t,e))}function nh(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function BZ(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Ei(r.origin):r.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=lr(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[h].length;++g)if(!(typeof e[h][g]>"u")){var y={v:e[h][g]},_=s+h,v=o+g;if(u.s.r>_&&(u.s.r=_),u.s.c>v&&(u.s.c=v),u.e.r<_&&(u.e.r=_),u.e.c<v&&(u.e.c=v),e[h][g]&&typeof e[h][g]=="object"&&!Array.isArray(e[h][g])&&!(e[h][g]instanceof Date))y=e[h][g];else if(Array.isArray(y.v)&&(y.f=e[h][g][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||Cr[14],r.cellDates?(y.t="d",y.w=Yu(y.z,Na(y.v))):(y.t="n",y.v=Na(y.v),y.w=Yu(y.z,y.v))):y.t="s";if(i)a[_]||(a[_]=[]),a[_][v]&&a[_][v].z&&(y.z=a[_][v].z),a[_][v]=y;else{var b=jn({c:v,r:_});a[b]&&a[b].z&&(y.z=a[b].z),a[b]=y}}}return u.s.c<1e7&&(a["!ref"]=Vr(u)),a}function h0(t,e){return BZ(null,t,e)}function nTe(t){return t.read_shift(4,"i")}function io(t,e){return e||(e=Pe(4)),e.write_shift(4,t),e}function ta(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Si(t,e){var n=!1;return e==null&&(n=!0,e=Pe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function rTe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function iTe(t,e){return e||(e=Pe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function SM(t,e){var n=t.l,r=t.read_shift(1),i=ta(t),a=[],s={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(rTe(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=n+e,s}function aTe(t,e){var n=!1;return e==null&&(n=!0,e=Pe(15+4*t.t.length)),e.write_shift(1,0),Si(t.t,e),n?e.slice(0,e.l):e}var sTe=SM;function oTe(t,e){var n=!1;return e==null&&(n=!0,e=Pe(23+4*t.t.length)),e.write_shift(1,1),Si(t.t,e),e.write_shift(4,1),iTe({},e),n?e.slice(0,e.l):e}function js(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function rh(t,e){return e==null&&(e=Pe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function ih(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ah(t,e){return e==null&&(e=Pe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var lTe=ta,$Z=Si;function TM(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function nw(t,e){var n=!1;return e==null&&(n=!0,e=Pe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var cTe=ta,NI=TM,AM=nw;function VZ(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?tw([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):rd(e,0)>>2;return n?i/100:i}function UZ(t,e){e==null&&(e=Pe(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function HZ(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function uTe(t,e){return e||(e=Pe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var sh=HZ,p0=uTe;function m0(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Pd(t,e){return(e||Pe(8)).write_shift(8,t,"f")}function fTe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=bTe[i];u&&(e.rgb=n$(u));break;case 2:e.rgb=n$([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function rw(t,e){if(e||(e=Pe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function dTe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function hTe(t,e){e||(e=Pe(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var zZ=2,Ua=3,v_=11,iw=19,y_=64,pTe=65,mTe=71,gTe=4108,vTe=4126,ki=80,WB={1:{n:"CodePage",t:zZ},2:{n:"Category",t:ki},3:{n:"PresentationFormat",t:ki},4:{n:"ByteCount",t:Ua},5:{n:"LineCount",t:Ua},6:{n:"ParagraphCount",t:Ua},7:{n:"SlideCount",t:Ua},8:{n:"NoteCount",t:Ua},9:{n:"HiddenCount",t:Ua},10:{n:"MultimediaClipCount",t:Ua},11:{n:"ScaleCrop",t:v_},12:{n:"HeadingPairs",t:gTe},13:{n:"TitlesOfParts",t:vTe},14:{n:"Manager",t:ki},15:{n:"Company",t:ki},16:{n:"LinksUpToDate",t:v_},17:{n:"CharacterCount",t:Ua},19:{n:"SharedDoc",t:v_},22:{n:"HyperlinksChanged",t:v_},23:{n:"AppVersion",t:Ua,p:"version"},24:{n:"DigSig",t:pTe},26:{n:"ContentType",t:ki},27:{n:"ContentStatus",t:ki},28:{n:"Language",t:ki},29:{n:"Version",t:ki},255:{},2147483648:{n:"Locale",t:iw},2147483651:{n:"Behavior",t:iw},1919054434:{}},GB={1:{n:"CodePage",t:zZ},2:{n:"Title",t:ki},3:{n:"Subject",t:ki},4:{n:"Author",t:ki},5:{n:"Keywords",t:ki},6:{n:"Comments",t:ki},7:{n:"Template",t:ki},8:{n:"LastAuthor",t:ki},9:{n:"RevNumber",t:ki},10:{n:"EditTime",t:y_},11:{n:"LastPrinted",t:y_},12:{n:"CreatedDate",t:y_},13:{n:"ModifiedDate",t:y_},14:{n:"PageCount",t:Ua},15:{n:"WordCount",t:Ua},16:{n:"CharCount",t:Ua},17:{n:"Thumbnail",t:mTe},18:{n:"Application",t:ki},19:{n:"DocSecurity",t:Ua},255:{},2147483648:{n:"Locale",t:iw},2147483651:{n:"Behavior",t:iw},1919054434:{}};function yTe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var xTe=yTe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bTe=Oa(xTe),px={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_Te={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},x_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function qZ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WZ(t,e){var n=RSe(_Te),r=[],i;r[r.length]=zr,r[r.length]=Ke("Types",null,{xmlns:wi.CT,"xmlns:xsd":wi.xsd,"xmlns:xsi":wi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Ke("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=Ke("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:x_[l][e.bookType]||x_[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(u){r[r.length]=Ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:x_[l][e.bookType]||x_[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){r[r.length]=Ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var yn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function GZ(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Lp(t){var e=[zr,Ke("Relationships",null,{xmlns:wi.RELS})];return Hi(t["!id"]).forEach(function(n){e[e.length]=Ke("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Dn(t,e,n,r,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[yn.HLINK,yn.XPATH,yn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function wTe(t){var e=[zr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function KB(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function ETe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function STe(t){var e=[zr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(KB(t[n][0],t[n][1])),e.push(ETe("",t[n][0]));return e.push(KB("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function KZ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+X1.version+"</meta:generator></office:meta></office:document-meta>"}var pd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function r2(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=kn(e),r[r.length]=n?Ke(t,e,n):Bi(t,e))}function YZ(t,e){var n=e||{},r=[zr,Ke("cp:coreProperties",null,{"xmlns:cp":wi.CORE_PROPS,"xmlns:dc":wi.dc,"xmlns:dcterms":wi.dcterms,"xmlns:dcmitype":wi.dcmitype,"xmlns:xsi":wi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&r2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:CI(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&r2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:CI(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=pd.length;++a){var s=pd[a],o=n.Props&&n.Props[s[1]]!=null?n.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&r2(s[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Fp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],XZ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function QZ(t){var e=[],n=Ke;return t||(t={}),t.Application="SheetJS",e[e.length]=zr,e[e.length]=Ke("Properties",null,{xmlns:wi.EXT_PROPS,"xmlns:vt":wi.vt}),Fp.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=kn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+kn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function ZZ(t){var e=[zr,Ke("Properties",null,{xmlns:wi.CUST_PROPS,"xmlns:vt":wi.vt})];if(!t)return e.join("");var n=1;return Hi(t).forEach(function(i){++n,e[e.length]=Ke("property",USe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:kn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var YB={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function TTe(t,e){var n=[];return Hi(YB).map(function(r){for(var i=0;i<pd.length;++i)if(pd[i][1]==r)return pd[i];for(i=0;i<Fp.length;++i)if(Fp[i][1]==r)return Fp[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Bi(YB[r[1]]||r[1],i))}}),Ke("DocumentProperties",n.join(""),{xmlns:Wa.o})}function ATe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Hi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<pd.length;++s)if(a==pd[s][1])return;for(s=0;s<Fp.length;++s)if(a==Fp[s][1])return;for(s=0;s<n.length;++s)if(a==n[s])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(Ke(MB(a),o,{"dt:dt":l}))}}),e&&Hi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Ke(MB(a),s,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Wa.o+'">'+i.join("")+"</"+r+">"}function CTe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var s=Pe(8);return s.write_shift(4,r),s.write_shift(4,i),s}function XB(t,e){var n=Pe(4),r=Pe(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=Pe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=CTe(e);break;case 31:case 80:for(r=Pe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Fi([n,r])}var JZ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function NTe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function QB(t,e,n){var r=Pe(8),i=[],a=[],s=8,o=0,l=Pe(8),u=Pe(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),a.push(l),i.push(u),s+=8+l.length,!e){u=Pe(8),u.write_shift(4,0),i.unshift(u);var d=[Pe(4)];for(d[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=Pe(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Fi(d),a.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(JZ.indexOf(t[o][0])>-1||XZ.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],y=0;if(e){y=+e[t[o][0]];var _=n[y];if(_.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}l=XB(_.t,g)}else{var b=NTe(g);b==-1&&(b=31,g=String(g)),l=XB(b,g)}a.push(l),u=Pe(8),u.write_shift(4,e?y:2+o),i.push(u),s+=8+l.length}var E=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,E),E+=a[o].length;return r.write_shift(4,s),r.write_shift(4,a.length),Fi([r].concat(i).concat(a))}function ZB(t,e,n,r,i,a){var s=Pe(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Bn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var l=QB(t,n,r);if(o.push(l),i){var u=QB(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(u)}return Fi(o)}function OTe(t,e){e||(e=Pe(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function PTe(t,e){return t.read_shift(e)===1}function ca(t,e){return e||(e=Pe(2)),e.write_shift(2,+!!t),e}function eJ(t){return t.read_shift(2,"u")}function Ts(t,e){return e||(e=Pe(2)),e.write_shift(2,t),e}function tJ(t,e,n){return n||(n=Pe(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function nJ(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?t.read_shift(r,i):"";return s}function RTe(t){var e=t.t||"",n=Pe(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=Pe(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Fi(i)}function ITe(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function DTe(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):ITe(t,r,n)}function kTe(t,e,n){if(n.biff>5)return DTe(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function rJ(t,e,n){return n||(n=Pe(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function JB(t,e){e||(e=Pe(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function jTe(t){var e=Pe(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)e.write_shift(4,s[n]);if(a==28)r=r.slice(1),JB(r,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),a&8&&JB(i>-1?r.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Rd(t,e,n,r){return r||(r=Pe(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function MTe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),a=t.read_shift(r,"i"),s=t.read_shift(r,"i");return[i,a,s]}function LTe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function iJ(t,e){return e||(e=Pe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function CM(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Pe(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function FTe(t,e){var n=!e||e.biff==8,r=Pe(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function BTe(t,e){var n=!e||e.biff>=8?2:1,r=Pe(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function $Te(t,e){var n=Pe(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=RTe(t[i]);var a=Fi([n].concat(r));return a.parts=[n.length].concat(r.map(function(s){return s.length})),a}function VTe(){var t=Pe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function UTe(t){var e=Pe(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function HTe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,a=Pe(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function zTe(t,e,n,r){var i=Pe(10);return Rd(t,e,r,i),i.write_shift(4,n),i}function qTe(t,e,n,r,i){var a=!i||i.biff==8,s=Pe(8+ +a+(1+a)*n.length);return Rd(t,e,r,s),s.write_shift(2,n.length),a&&s.write_shift(1,1),s.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),s}function WTe(t,e,n,r){var i=n&&n.biff==5;r||(r=Pe(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function GTe(t,e){var n=e.biff==8||!e.biff?4:2,r=Pe(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function e$(t,e,n,r){var i=n&&n.biff==5;r||(r=Pe(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function KTe(t){var e=Pe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function YTe(t,e,n,r,i,a){var s=Pe(8);return Rd(t,e,r,s),tJ(n,a,s),s}function XTe(t,e,n,r){var i=Pe(14);return Rd(t,e,r,i),Pd(n,i),i}function QTe(t,e,n){if(n.biff<8)return ZTe(t,e,n);for(var r=[],i=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(MTe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function ZTe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=nJ(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function JTe(t){var e=Pe(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)iJ(t[n],e);return e}function eAe(t){var e=Pe(24),n=Ei(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Fi([e,jTe(t[1])])}function tAe(t){var e=t[1].Tooltip,n=Pe(10+2*(e.length+1));n.write_shift(2,2048);var r=Ei(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function nAe(t){return t||(t=Pe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function rAe(t,e,n){if(!n.cellStyles)return el(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function iAe(t,e){var n=Pe(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function aAe(t){for(var e=Pe(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function sAe(t,e,n){var r=Pe(15);return gx(r,t,e),r.write_shift(8,n,"f"),r}function oAe(t,e,n){var r=Pe(9);return gx(r,t,e),r.write_shift(2,n),r}var lAe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=gM({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var u=[],d=Od(1);switch(l.type){case"base64":d=Xs(ac(o));break;case"binary":d=Xs(o);break;case"buffer":case"array":d=o;break}za(d,0);var h=d.read_shift(1),g=!!(h&136),y=!1,_=!1;switch(h){case 2:break;case 3:break;case 48:y=!0,g=!0;break;case 49:y=!0,g=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,b=521;h==2&&(v=d.read_shift(2)),d.l+=3,h!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(b=d.read_shift(2));var E=d.read_shift(2),N=l.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(N=t[d[d.l]]),d.l+=1,d.l+=2),_&&(d.l+=36);for(var C=[],k={},O=Math.min(d.length,h==2?521:b-10-(y?264:0)),I=_?32:11;d.l<O&&d[d.l]!=13;)switch(k={},k.name=SB.utils.decode(N,d.slice(d.l,d.l+I)).replace(/[\u0000\r\n].*$/g,""),d.l+=I,k.type=String.fromCharCode(d.read_shift(1)),h!=2&&!_&&(k.offset=d.read_shift(4)),k.len=d.read_shift(1),h==2&&(k.offset=d.read_shift(2)),k.dec=d.read_shift(1),k.name.length&&C.push(k),h!=2&&(d.l+=_?13:14),k.type){case"B":(!y||k.len!=8)&&l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(d[d.l]!==13&&(d.l=b-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=b;var A=0,R=0;for(u[0]=[],R=0;R!=C.length;++R)u[0][R]=C[R].name;for(;v-- >0;){if(d[d.l]===42){d.l+=E;continue}for(++d.l,u[++A]=[],R=0,R=0;R!=C.length;++R){var D=d.slice(d.l,d.l+C[R].len);d.l+=C[R].len,za(D,0);var L=SB.utils.decode(N,D);switch(C[R].type){case"C":L.trim().length&&(u[A][R]=L.replace(/\s+$/,""));break;case"D":L.length===8?u[A][R]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):u[A][R]=L;break;case"F":u[A][R]=parseFloat(L.trim());break;case"+":case"I":u[A][R]=_?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":u[A][R]=!0;break;case"N":case"F":u[A][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[A][R]="##MEMO##"+(_?parseInt(L.trim(),10):D.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(u[A][R]=+L||0);break;case"@":u[A][R]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[A][R]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[A][R]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][R]=-D.read_shift(-8,"f");break;case"B":if(y&&C[R].len==8){u[A][R]=D.read_shift(8,"f");break}case"G":case"P":D.l+=C[R].len;break;case"0":if(C[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[R].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=C,u}function r(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=h0(n(o,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function i(o,l){try{return nh(r(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&Kv(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Aa(),h=cw(o,{header:1,raw:!0,cellDates:!0}),g=h[0],y=h.slice(1),_=o["!cols"]||[],v=0,b=0,E=0,N=1;for(v=0;v<g.length;++v){if(((_[v]||{}).DBF||{}).name){g[v]=_[v].DBF.name,++E;continue}if(g[v]!=null){if(++E,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(b=0;b<1024;++b)if(g.indexOf(g[v]+"_"+b)==-1){g[v]+="_"+b;break}}}}var C=lr(o["!ref"]),k=[],O=[],I=[];for(v=0;v<=C.e.c-C.s.c;++v){var A="",R="",D=0,L=[];for(b=0;b<y.length;++b)y[b][v]!=null&&L.push(y[b][v]);if(L.length==0||g[v]==null){k[v]="?";continue}for(b=0;b<L.length;++b){switch(typeof L[b]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=L[b]instanceof Date?"D":"C";break;default:R="C"}D=Math.max(D,String(L[b]).length),A=A&&A!=R?"C":R}D>250&&(D=250),R=((_[v]||{}).DBF||{}).type,R=="C"&&_[v].DBF.len>D&&(D=_[v].DBF.len),A=="B"&&R=="N"&&(A="N",I[v]=_[v].DBF.dec,D=_[v].DBF.len),O[v]=A=="C"||R=="N"?D:a[A]||0,N+=O[v],k[v]=A}var j=d.next(32);for(j.write_shift(4,318902576),j.write_shift(4,y.length),j.write_shift(2,296+32*E),j.write_shift(2,N),v=0;v<4;++v)j.write_shift(4,0);for(j.write_shift(4,0|(+e[sZ]||3)<<8),v=0,b=0;v<g.length;++v)if(g[v]!=null){var B=d.next(32),F=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,F,"sbcs"),B.write_shift(1,k[v]=="?"?"C":k[v],"sbcs"),B.write_shift(4,b),B.write_shift(1,O[v]||a[k[v]]||0),B.write_shift(1,I[v]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),b+=O[v]||a[k[v]]||0}var re=d.next(264);for(re.write_shift(4,13),v=0;v<65;++v)re.write_shift(4,0);for(v=0;v<y.length;++v){var q=d.next(N);for(q.write_shift(1,0),b=0;b<g.length;++b)if(g[b]!=null)switch(k[b]){case"L":q.write_shift(1,y[v][b]==null?63:y[v][b]?84:70);break;case"B":q.write_shift(8,y[v][b]||0,"f");break;case"N":var V="0";for(typeof y[v][b]=="number"&&(V=y[v][b].toFixed(I[b]||0)),E=0;E<O[b]-V.length;++E)q.write_shift(1,32);q.write_shift(1,V,"sbcs");break;case"D":y[v][b]?(q.write_shift(4,("0000"+y[v][b].getFullYear()).slice(-4),"sbcs"),q.write_shift(2,("00"+(y[v][b].getMonth()+1)).slice(-2),"sbcs"),q.write_shift(2,("00"+y[v][b].getDate()).slice(-2),"sbcs")):q.write_shift(8,"00000000","sbcs");break;case"C":var X=String(y[v][b]!=null?y[v][b]:"").slice(0,O[b]);for(q.write_shift(1,X,"sbcs"),E=0;E<O[b]-X.length;++E)q.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}}(),cAe=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,y){var _=t[y];return typeof _=="number"?EB(_):_},r=function(g,y,_){var v=y.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return v==59?g:EB(v)};t["|"]=254;function i(g,y){switch(y.type){case"base64":return a(ac(g),y);case"binary":return a(g,y);case"buffer":return a(Tn&&Buffer.isBuffer(g)?g.toString("binary"):fx(g),y);case"array":return a(SS(g),y)}throw new Error("Unrecognized type "+y.type)}function a(g,y){var _=g.split(/[\n\r]+/),v=-1,b=-1,E=0,N=0,C=[],k=[],O=null,I={},A=[],R=[],D=[],L=0,j;for(+y.codepage>=0&&Kv(+y.codepage);E!==_.length;++E){L=0;var B=_[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),F=B.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),re=F[0],q;if(B.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&k.push(B.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,X=!1,Q=!1,ie=!1,W=-1,ce=-1;for(N=1;N<F.length;++N)switch(F[N].charAt(0)){case"A":break;case"X":b=parseInt(F[N].slice(1))-1,X=!0;break;case"Y":for(v=parseInt(F[N].slice(1))-1,X||(b=0),j=C.length;j<=v;++j)C[j]=[];break;case"K":q=F[N].slice(1),q.charAt(0)==='"'?q=q.slice(1,q.length-1):q==="TRUE"?q=!0:q==="FALSE"?q=!1:isNaN(Wl(q))?isNaN(Xv(q).getDate())||(q=ga(q)):(q=Wl(q),O!==null&&yZ(O)&&(q=wZ(q))),V=!0;break;case"E":ie=!0;var z=oCe(F[N].slice(1),{r:v,c:b});C[v][b]=[C[v][b],z];break;case"S":Q=!0,C[v][b]=[C[v][b],"S5S"];break;case"G":break;case"R":W=parseInt(F[N].slice(1))-1;break;case"C":ce=parseInt(F[N].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+B)}if(V&&(C[v][b]&&C[v][b].length==2?C[v][b][0]=q:C[v][b]=q,O=null),Q){if(ie)throw new Error("SYLK shared formula cannot have own formula");var Y=W>-1&&C[W][ce];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");C[v][b][1]=lCe(Y[1],{r:v-W,c:b-ce})}break;case"F":var K=0;for(N=1;N<F.length;++N)switch(F[N].charAt(0)){case"X":b=parseInt(F[N].slice(1))-1,++K;break;case"Y":for(v=parseInt(F[N].slice(1))-1,j=C.length;j<=v;++j)C[j]=[];break;case"M":L=parseInt(F[N].slice(1))/20;break;case"F":break;case"G":break;case"P":O=k[parseInt(F[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=F[N].slice(1).split(" "),j=parseInt(D[0],10);j<=parseInt(D[1],10);++j)L=parseInt(D[2],10),R[j-1]=L===0?{hidden:!0}:{wch:L},NM(R[j-1]);break;case"C":b=parseInt(F[N].slice(1))-1,R[b]||(R[b]={});break;case"R":v=parseInt(F[N].slice(1))-1,A[v]||(A[v]={}),L>0?(A[v].hpt=L,A[v].hpx=cJ(L)):L===0&&(A[v].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+B)}K<1&&(O=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+B)}}return A.length>0&&(I["!rows"]=A),R.length>0&&(I["!cols"]=R),y&&y.sheetRows&&(C=C.slice(0,y.sheetRows)),[C,I]}function s(g,y){var _=i(g,y),v=_[0],b=_[1],E=h0(v,y);return Hi(b).forEach(function(N){E[N]=b[N]}),E}function o(g,y){return nh(s(g,y),y)}function l(g,y,_,v){var b="C;Y"+(_+1)+";X"+(v+1)+";K";switch(g.t){case"n":b+=g.v||0,g.f&&!g.F&&(b+=";E"+PM(g.f,{r:_,c:v}));break;case"b":b+=g.v?"TRUE":"FALSE";break;case"e":b+=g.w||g.v;break;case"d":b+='"'+(g.w||g.v)+'"';break;case"s":b+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function u(g,y){y.forEach(function(_,v){var b="F;W"+(v+1)+" "+(v+1)+" ";_.hidden?b+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=aw(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=sw(_.wpx)),typeof _.wch=="number"&&(b+=Math.round(_.wch))),b.charAt(b.length-1)!=" "&&g.push(b)})}function d(g,y){y.forEach(function(_,v){var b="F;";_.hidden?b+="M0;":_.hpt?b+="M"+20*_.hpt+";":_.hpx&&(b+="M"+20*ow(_.hpx)+";"),b.length>2&&g.push(b+"R"+(v+1))})}function h(g,y){var _=["ID;PWXL;N;E"],v=[],b=lr(g["!ref"]),E,N=Array.isArray(g),C=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),g["!cols"]&&u(_,g["!cols"]),g["!rows"]&&d(_,g["!rows"]),_.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var k=b.s.r;k<=b.e.r;++k)for(var O=b.s.c;O<=b.e.c;++O){var I=jn({r:k,c:O});E=N?(g[k]||[])[O]:g[I],!(!E||E.v==null&&(!E.f||E.F))&&v.push(l(E,g,k,O))}return _.join(C)+C+v.join(C)+C+"E"+C}return{to_workbook:o,to_sheet:s,from_sheet:h}}(),uAe=function(){function t(a,s){switch(s.type){case"base64":return e(ac(a),s);case"binary":return e(a,s);case"buffer":return e(Tn&&Buffer.isBuffer(a)?a.toString("binary"):fx(a),s);case"array":return e(SS(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,u=-1,d=0,h=[];d!==o.length;++d){if(o[d].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var g=o[d].trim().split(","),y=g[0],_=g[1];++d;for(var v=o[d]||"";(v.match(/["]/g)||[]).length&1&&d<o.length-1;)v+=`
`+o[++d];switch(v=v.trim(),+y){case-1:if(v==="BOT"){h[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[l][u]=!0:v==="FALSE"?h[l][u]=!1:isNaN(Wl(_))?isNaN(Xv(_).getDate())?h[l][u]=_:h[l][u]=ga(_):h[l][u]=Wl(_),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function n(a,s){return h0(t(a,s),s)}function r(a,s){return nh(n(a,s),s)}var i=function(){var a=function(l,u,d,h,g){l.push(u),l.push(d+","+h),l.push('"'+g.replace(/"/g,'""')+'"')},s=function(l,u,d,h){l.push(u+","+d),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],d=lr(l["!ref"]),h,g=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var y=d.s.r;y<=d.e.r;++y){s(u,-1,0,"BOT");for(var _=d.s.c;_<=d.e.c;++_){var v=jn({r:y,c:_});if(h=g?(l[y]||[])[_]:l[v],!h){s(u,1,0,"");continue}switch(h.t){case"n":var b=h.w;!b&&h.v!=null&&(b=h.v),b==null?h.f&&!h.F?s(u,1,0,"="+h.f):s(u,1,0,""):s(u,0,b,"V");break;case"b":s(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Yu(h.z||Cr[14],Na(ga(h.v)))),s(u,0,h.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var E=`\r
`,N=u.join(E);return N}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),aJ=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,g){for(var y=h.split(`
`),_=-1,v=-1,b=0,E=[];b!==y.length;++b){var N=y[b].trim().split(":");if(N[0]==="cell"){var C=Ei(N[1]);if(E.length<=C.r)for(_=E.length;_<=C.r;++_)E[_]||(E[_]=[]);switch(_=C.r,v=C.c,N[2]){case"t":E[_][v]=t(N[3]);break;case"v":E[_][v]=+N[3];break;case"vtf":var k=N[N.length-1];case"vtc":switch(N[3]){case"nl":E[_][v]=!!+N[4];break;default:E[_][v]=+N[4];break}N[2]=="vtf"&&(E[_][v]=[E[_][v],k])}}}return g&&g.sheetRows&&(E=E.slice(0,g.sheetRows)),E}function r(h,g){return h0(n(h,g),g)}function i(h,g){return nh(r(h,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var g=[],y=[],_,v="",b=rs(h["!ref"]),E=Array.isArray(h),N=b.s.r;N<=b.e.r;++N)for(var C=b.s.c;C<=b.e.c;++C)if(v=jn({r:N,c:C}),_=E?(h[N]||[])[C]:h[v],!(!_||_.v==null||_.t==="z")){switch(y=["cell",v,"t"],_.t){case"s":case"str":y.push(e(_.v));break;case"n":_.f?(y[2]="vtf",y[3]="n",y[4]=_.v,y[5]=e(_.f)):(y[2]="v",y[3]=_.v);break;case"b":y[2]="vt"+(_.f?"f":"c"),y[3]="nl",y[4]=_.v?"1":"0",y[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var k=Na(ga(_.v));y[2]="vtc",y[3]="nd",y[4]=""+k,y[5]=_.w||Yu(_.z||Cr[14],k);break;case"e":continue}g.push(y.join(":"))}return g.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(h){return[a,s,o,s,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}}(),fAe=function(){function t(d,h,g,y,_){_.raw?h[g][y]=d:d===""||(d==="TRUE"?h[g][y]=!0:d==="FALSE"?h[g][y]=!1:isNaN(Wl(d))?isNaN(Xv(d).getDate())?h[g][y]=d:h[g][y]=ga(d):h[g][y]=Wl(d))}function e(d,h){var g=h||{},y=[];if(!d||d.length===0)return y;for(var _=d.split(/[\r\n]/),v=_.length-1;v>=0&&_[v].length===0;)--v;for(var b=10,E=0,N=0;N<=v;++N)E=_[N].indexOf(" "),E==-1?E=_[N].length:E++,b=Math.max(b,E);for(N=0;N<=v;++N){y[N]=[];var C=0;for(t(_[N].slice(0,b).trim(),y,N,C,g),C=1;C<=(_[N].length-b)/10+1;++C)t(_[N].slice(b+(C-1)*10,b+C*10).trim(),y,N,C,g)}return g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var h={},g=!1,y=0,_=0;y<d.length;++y)(_=d.charCodeAt(y))==34?g=!g:!g&&_ in n&&(h[_]=(h[_]||0)+1);_=[];for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&_.push([h[y],y]);if(!_.length){h=r;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&_.push([h[y],y])}return _.sort(function(v,b){return v[0]-b[0]||r[v[1]]-r[b[1]]}),n[_.pop()[1]]||44}function a(d,h){var g=h||{},y="",_=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(y=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(y=d.charAt(4),d=d.slice(6)):y=i(d.slice(0,1024)):g&&g.FS?y=g.FS:y=i(d.slice(0,1024));var b=0,E=0,N=0,C=0,k=0,O=y.charCodeAt(0),I=!1,A=0,R=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var D=g.dateNF!=null?CSe(g.dateNF):null;function L(){var j=d.slice(C,k),B={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)B.t="z";else if(g.raw)B.t="s",B.v=j;else if(j.trim().length===0)B.t="s",B.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(B.t="s",B.v=j.slice(2,-1).replace(/""/g,'"')):cCe(j)?(B.t="n",B.f=j.slice(1)):(B.t="s",B.v=j);else if(j=="TRUE")B.t="b",B.v=!0;else if(j=="FALSE")B.t="b",B.v=!1;else if(!isNaN(N=Wl(j)))B.t="n",g.cellText!==!1&&(B.w=j),B.v=N;else if(!isNaN(Xv(j).getDate())||D&&j.match(D)){B.z=g.dateNF||Cr[14];var F=0;D&&j.match(D)&&(j=NSe(j,g.dateNF,j.match(D)||[]),F=1),g.cellDates?(B.t="d",B.v=ga(j,F)):(B.t="n",B.v=Na(ga(j,F))),g.cellText!==!1&&(B.w=Yu(B.z,B.v instanceof Date?Na(B.v):B.v)),g.cellNF||delete B.z}else B.t="s",B.v=j;if(B.t=="z"||(g.dense?(_[b]||(_[b]=[]),_[b][E]=B):_[jn({c:E,r:b})]=B),C=k+1,R=d.charCodeAt(C),v.e.c<E&&(v.e.c=E),v.e.r<b&&(v.e.r=b),A==O)++E;else if(E=0,++b,g.sheetRows&&g.sheetRows<=b)return!0}e:for(;k<d.length;++k)switch(A=d.charCodeAt(k)){case 34:R===34&&(I=!I);break;case O:case 10:case 13:if(!I&&L())break e;break}return k-C>0&&L(),_["!ref"]=Vr(v),_}function s(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,h):h0(e(d,h),h)}function o(d,h){var g="",y=h.type=="string"?[0,0,0,0]:EPe(d,h);switch(h.type){case"base64":g=ac(d);break;case"binary":g=d;break;case"buffer":h.codepage==65001?g=d.toString("utf8"):(h.codepage,g=Tn&&Buffer.isBuffer(d)?d.toString("binary"):fx(d));break;case"array":g=SS(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+h.type)}return y[0]==239&&y[1]==187&&y[2]==191?g=lv(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=lv(g):h.type=="binary",g.slice(0,19)=="socialcalc:version:"?aJ.to_sheet(h.type=="string"?g:lv(g),h):s(g,h)}function l(d,h){return nh(o(d,h),h)}function u(d){for(var h=[],g=lr(d["!ref"]),y,_=Array.isArray(d),v=g.s.r;v<=g.e.r;++v){for(var b=[],E=g.s.c;E<=g.e.c;++E){var N=jn({r:v,c:E});if(y=_?(d[v]||[])[E]:d[N],!y||y.v==null){b.push("          ");continue}for(var C=(y.w||(sc(y),y.w)||"").slice(0,10);C.length<10;)C+=" ";b.push(C+(E===0?" ":""))}h.push(b.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),t$=function(){function t(z,Y,K){if(z){za(z,z.l||0);for(var J=K.Enum||W;z.l<z.length;){var fe=z.read_shift(2),pe=J[fe]||J[65535],ye=z.read_shift(2),de=z.l+ye,he=pe.f&&pe.f(z,ye,K);if(z.l=de,Y(he,pe,fe))return}}}function e(z,Y){switch(Y.type){case"base64":return n(Xs(ac(z)),Y);case"binary":return n(Xs(z),Y);case"buffer":case"array":return n(z,Y)}throw"Unsupported type "+Y.type}function n(z,Y){if(!z)return z;var K=Y||{},J=K.dense?[]:{},fe="Sheet1",pe="",ye=0,de={},he=[],Ce=[],me={s:{r:0,c:0},e:{r:0,c:0}},Ue=K.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)K.Enum=W,t(z,function(Fe,Rt,Ft){switch(Ft){case 0:K.vers=Fe,Fe>=4096&&(K.qpro=!0);break;case 6:me=Fe;break;case 204:Fe&&(pe=Fe);break;case 222:pe=Fe;break;case 15:case 51:K.qpro||(Fe[1].v=Fe[1].v.slice(1));case 13:case 14:case 16:Ft==14&&(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=K.dateNF||Cr[14],K.cellDates&&(Fe[1].t="d",Fe[1].v=wZ(Fe[1].v))),K.qpro&&Fe[3]>ye&&(J["!ref"]=Vr(me),de[fe]=J,he.push(fe),J=K.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},ye=Fe[3],fe=pe||"Sheet"+(ye+1),pe="");var nr=K.dense?(J[Fe[0].r]||[])[Fe[0].c]:J[jn(Fe[0])];if(nr){nr.t=Fe[1].t,nr.v=Fe[1].v,Fe[1].z!=null&&(nr.z=Fe[1].z),Fe[1].f!=null&&(nr.f=Fe[1].f);break}K.dense?(J[Fe[0].r]||(J[Fe[0].r]=[]),J[Fe[0].r][Fe[0].c]=Fe[1]):J[jn(Fe[0])]=Fe[1];break}},K);else if(z[2]==26||z[2]==14)K.Enum=ce,z[2]==14&&(K.qpro=!0,z.l=0),t(z,function(Fe,Rt,Ft){switch(Ft){case 204:fe=Fe;break;case 22:Fe[1].v=Fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>ye&&(J["!ref"]=Vr(me),de[fe]=J,he.push(fe),J=K.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},ye=Fe[3],fe="Sheet"+(ye+1)),Ue>0&&Fe[0].r>=Ue)break;K.dense?(J[Fe[0].r]||(J[Fe[0].r]=[]),J[Fe[0].r][Fe[0].c]=Fe[1]):J[jn(Fe[0])]=Fe[1],me.e.c<Fe[0].c&&(me.e.c=Fe[0].c),me.e.r<Fe[0].r&&(me.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(Ce[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:Ce[Fe[0]]=Fe[1],Fe[0]==ye&&(fe=Fe[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(J["!ref"]=Vr(me),de[pe||fe]=J,he.push(pe||fe),!Ce.length)return{SheetNames:he,Sheets:de};for(var $e={},Je=[],it=0;it<Ce.length;++it)de[he[it]]?(Je.push(Ce[it]||he[it]),$e[Ce[it]]=de[Ce[it]]||de[he[it]]):(Je.push(Ce[it]),$e[Ce[it]]={"!ref":"A1"});return{SheetNames:Je,Sheets:$e}}function r(z,Y){var K=Y||{};if(+K.codepage>=0&&Kv(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Aa(),fe=lr(z["!ref"]),pe=Array.isArray(z),ye=[];Xe(J,0,a(1030)),Xe(J,6,l(fe));for(var de=Math.min(fe.e.r,8191),he=fe.s.r;he<=de;++he)for(var Ce=Vi(he),me=fe.s.c;me<=fe.e.c;++me){he===fe.s.r&&(ye[me]=ea(me));var Ue=ye[me]+Ce,$e=pe?(z[he]||[])[me]:z[Ue];if(!(!$e||$e.t=="z"))if($e.t=="n")($e.v|0)==$e.v&&$e.v>=-32768&&$e.v<=32767?Xe(J,13,y(he,me,$e.v)):Xe(J,14,v(he,me,$e.v));else{var Je=sc($e);Xe(J,15,h(he,me,Je.slice(0,239)))}}return Xe(J,1),J.end()}function i(z,Y){var K=Y||{};if(+K.codepage>=0&&Kv(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Aa();Xe(J,0,s(z));for(var fe=0,pe=0;fe<z.SheetNames.length;++fe)(z.Sheets[z.SheetNames[fe]]||{})["!ref"]&&Xe(J,27,ie(z.SheetNames[fe],pe++));var ye=0;for(fe=0;fe<z.SheetNames.length;++fe){var de=z.Sheets[z.SheetNames[fe]];if(!(!de||!de["!ref"])){for(var he=lr(de["!ref"]),Ce=Array.isArray(de),me=[],Ue=Math.min(he.e.r,8191),$e=he.s.r;$e<=Ue;++$e)for(var Je=Vi($e),it=he.s.c;it<=he.e.c;++it){$e===he.s.r&&(me[it]=ea(it));var Fe=me[it]+Je,Rt=Ce?(de[$e]||[])[it]:de[Fe];if(!(!Rt||Rt.t=="z"))if(Rt.t=="n")Xe(J,23,L($e,it,ye,Rt.v));else{var Ft=sc(Rt);Xe(J,22,A($e,it,ye,Ft.slice(0,239)))}}++ye}}return Xe(J,1),J.end()}function a(z){var Y=Pe(2);return Y.write_shift(2,z),Y}function s(z){var Y=Pe(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var K=0,J=0,fe=0,pe=0;pe<z.SheetNames.length;++pe){var ye=z.SheetNames[pe],de=z.Sheets[ye];if(!(!de||!de["!ref"])){++fe;var he=rs(de["!ref"]);K<he.e.r&&(K=he.e.r),J<he.e.c&&(J=he.e.c)}}return K>8191&&(K=8191),Y.write_shift(2,K),Y.write_shift(1,fe),Y.write_shift(1,J),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(z,Y,K){var J={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&K.qpro?(J.s.c=z.read_shift(1),z.l++,J.s.r=z.read_shift(2),J.e.c=z.read_shift(1),z.l++,J.e.r=z.read_shift(2),J):(J.s.c=z.read_shift(2),J.s.r=z.read_shift(2),Y==12&&K.qpro&&(z.l+=2),J.e.c=z.read_shift(2),J.e.r=z.read_shift(2),Y==12&&K.qpro&&(z.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(z){var Y=Pe(8);return Y.write_shift(2,z.s.c),Y.write_shift(2,z.s.r),Y.write_shift(2,z.e.c),Y.write_shift(2,z.e.r),Y}function u(z,Y,K){var J=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(J[0].c=z.read_shift(1),J[3]=z.read_shift(1),J[0].r=z.read_shift(2),z.l+=2):(J[2]=z.read_shift(1),J[0].c=z.read_shift(2),J[0].r=z.read_shift(2)),J}function d(z,Y,K){var J=z.l+Y,fe=u(z,Y,K);if(fe[1].t="s",K.vers==20768){z.l++;var pe=z.read_shift(1);return fe[1].v=z.read_shift(pe,"utf8"),fe}return K.qpro&&z.l++,fe[1].v=z.read_shift(J-z.l,"cstr"),fe}function h(z,Y,K){var J=Pe(7+K.length);J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,z),J.write_shift(1,39);for(var fe=0;fe<J.length;++fe){var pe=K.charCodeAt(fe);J.write_shift(1,pe>=128?95:pe)}return J.write_shift(1,0),J}function g(z,Y,K){var J=u(z,Y,K);return J[1].v=z.read_shift(2,"i"),J}function y(z,Y,K){var J=Pe(7);return J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,z),J.write_shift(2,K,"i"),J}function _(z,Y,K){var J=u(z,Y,K);return J[1].v=z.read_shift(8,"f"),J}function v(z,Y,K){var J=Pe(13);return J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,z),J.write_shift(8,K,"f"),J}function b(z,Y,K){var J=z.l+Y,fe=u(z,Y,K);if(fe[1].v=z.read_shift(8,"f"),K.qpro)z.l=J;else{var pe=z.read_shift(2);k(z.slice(z.l,z.l+pe),fe),z.l+=pe}return fe}function E(z,Y,K){var J=Y&32768;return Y&=-32769,Y=(J?z:0)+(Y>=8192?Y-16384:Y),(J?"":"$")+(K?ea(Y):Vi(Y))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(z,Y){za(z,0);for(var K=[],J=0,fe="",pe="",ye="",de="";z.l<z.length;){var he=z[z.l++];switch(he){case 0:K.push(z.read_shift(8,"f"));break;case 1:pe=E(Y[0].c,z.read_shift(2),!0),fe=E(Y[0].r,z.read_shift(2),!1),K.push(pe+fe);break;case 2:{var Ce=E(Y[0].c,z.read_shift(2),!0),me=E(Y[0].r,z.read_shift(2),!1);pe=E(Y[0].c,z.read_shift(2),!0),fe=E(Y[0].r,z.read_shift(2),!1),K.push(Ce+me+":"+pe+fe)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(z.read_shift(2));break;case 6:{for(var Ue="";he=z[z.l++];)Ue+=String.fromCharCode(he);K.push('"'+Ue.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:de=K.pop(),ye=K.pop(),K.push(["AND","OR"][he-20]+"("+ye+","+de+")");break;default:if(he<32&&C[he])de=K.pop(),ye=K.pop(),K.push(ye+C[he]+de);else if(N[he]){if(J=N[he][1],J==69&&(J=z[z.l++]),J>K.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+K.join("|")+"|");return}var $e=K.slice(-J);K.length-=J,K.push(N[he][0]+"("+$e.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}K.length==1?Y[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function O(z){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=z.read_shift(2),Y[3]=z[z.l++],Y[0].c=z[z.l++],Y}function I(z,Y){var K=O(z);return K[1].t="s",K[1].v=z.read_shift(Y-4,"cstr"),K}function A(z,Y,K,J){var fe=Pe(6+J.length);fe.write_shift(2,z),fe.write_shift(1,K),fe.write_shift(1,Y),fe.write_shift(1,39);for(var pe=0;pe<J.length;++pe){var ye=J.charCodeAt(pe);fe.write_shift(1,ye>=128?95:ye)}return fe.write_shift(1,0),fe}function R(z,Y){var K=O(z);K[1].v=z.read_shift(2);var J=K[1].v>>1;if(K[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return K[1].v=J,K}function D(z,Y){var K=O(z),J=z.read_shift(4),fe=z.read_shift(4),pe=z.read_shift(2);if(pe==65535)return J===0&&fe===3221225472?(K[1].t="e",K[1].v=15):J===0&&fe===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ye=pe&32768;return pe=(pe&32767)-16446,K[1].v=(1-ye*2)*(fe*Math.pow(2,pe+32)+J*Math.pow(2,pe)),K}function L(z,Y,K,J){var fe=Pe(14);if(fe.write_shift(2,z),fe.write_shift(1,K),fe.write_shift(1,Y),J==0)return fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(2,65535),fe;var pe=0,ye=0,de=0,he=0;return J<0&&(pe=1,J=-J),ye=Math.log2(J)|0,J/=Math.pow(2,ye-31),he=J>>>0,(he&2147483648)==0&&(J/=2,++ye,he=J>>>0),J-=he,he|=2147483648,he>>>=0,J*=Math.pow(2,32),de=J>>>0,fe.write_shift(4,de),fe.write_shift(4,he),ye+=16383+(pe?32768:0),fe.write_shift(2,ye),fe}function j(z,Y){var K=D(z);return z.l+=Y-14,K}function B(z,Y){var K=O(z),J=z.read_shift(4);return K[1].v=J>>6,K}function F(z,Y){var K=O(z),J=z.read_shift(8,"f");return K[1].v=J,K}function re(z,Y){var K=F(z);return z.l+=Y-10,K}function q(z,Y){return z[z.l+Y-1]==0?z.read_shift(Y,"cstr"):""}function V(z,Y){var K=z[z.l++];K>Y-1&&(K=Y-1);for(var J="";J.length<K;)J+=String.fromCharCode(z[z.l++]);return J}function X(z,Y,K){if(!(!K.qpro||Y<21)){var J=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var fe=z.read_shift(Y-21,"cstr");return[J,fe]}}function Q(z,Y){for(var K={},J=z.l+Y;z.l<J;){var fe=z.read_shift(2);if(fe==14e3){for(K[fe]=[0,""],K[fe][0]=z.read_shift(2);z[z.l];)K[fe][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return K}function ie(z,Y){var K=Pe(5+z.length);K.write_shift(2,14e3),K.write_shift(2,Y);for(var J=0;J<z.length;++J){var fe=z.charCodeAt(J);K[K.l++]=fe>127?95:fe}return K[K.l++]=0,K}var W={0:{n:"BOF",f:eJ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),dAe=/^\s|\s$|[\t\n\r]/;function sJ(t,e){if(!e.bookSST)return"";var n=[zr];n[n.length]=Ke("sst",null,{xmlns:d0[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(dAe)&&(a+=' xml:space="preserve"'),a+=">"+kn(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function hAe(t){return[t.read_shift(4),t.read_shift(4)]}function pAe(t,e){return e||(e=Pe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var mAe=aTe;function gAe(t){var e=Aa();Le(e,159,pAe(t));for(var n=0;n<t.length;++n)Le(e,19,mAe(t[n]));return Le(e,160),e.end()}function vAe(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function oJ(t){var e=0,n,r=vAe(t),i=r.length+1,a,s,o,l,u;for(n=Od(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var yAe=function(){function t(i,a){switch(a.type){case"base64":return e(ac(i),a);case"binary":return e(i,a);case"buffer":return e(Tn&&Buffer.isBuffer(i)?i.toString("binary"):fx(i),a);case"array":return e(SS(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,h){Array.isArray(o)&&(o[h]=[]);for(var g=/\\\w+\b/g,y=0,_,v=-1;_=g.exec(d);){switch(_[0]){case"\\cell":var b=d.slice(y,g.lastIndex-_[0].length);if(b[0]==" "&&(b=b.slice(1)),++v,b.length){var E={v:b,t:"s"};Array.isArray(o)?o[h][v]=E:o[jn({r:h,c:v})]=E}break}y=g.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=Vr(u),o}function n(i,a){return nh(t(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=lr(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var h=jn({r:u,c:d});o=l?(i[u]||[])[d]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(sc(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function n$(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var xAe=6,Gl=xAe;function aw(t){return Math.floor((t+Math.round(128/Gl)/256)*Gl)}function sw(t){return Math.floor((t-5)/Gl*100+.5)/100}function OI(t){return Math.round((t*Gl+5)/Gl*256)/256}function NM(t){t.width?(t.wpx=aw(t.width),t.wch=sw(t.wpx),t.MDW=Gl):t.wpx?(t.wch=sw(t.wpx),t.width=OI(t.wch),t.MDW=Gl):typeof t.wch=="number"&&(t.width=OI(t.wch),t.wpx=aw(t.width),t.MDW=Gl),t.customWidth&&delete t.customWidth}var bAe=96,lJ=bAe;function ow(t){return t*96/lJ}function cJ(t){return t*lJ/96}function _Ae(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Ke("numFmt",null,{numFmtId:r,formatCode:kn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ke("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function wAe(t){var e=[];return e[e.length]=Ke("cellXfs",null),t.forEach(function(n){e[e.length]=Ke("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ke("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function uJ(t,e){var n=[zr,Ke("styleSheet",null,{xmlns:d0[0],"xmlns:vt":wi.vt})],r;return t.SSF&&(r=_Ae(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=wAe(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function EAe(t,e){var n=t.read_shift(2),r=ta(t);return[n,r]}function SAe(t,e,n){n||(n=Pe(6+4*e.length)),n.write_shift(2,t),Si(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function TAe(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=dTe(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(r.underline=s);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=fTe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ta(t),r}function AAe(t,e){e||(e=Pe(25+4*32)),e.write_shift(2,t.sz*20),hTe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),rw(t.color,e);var r=0;return r=2,e.write_shift(1,r),Si(t.name,e),e.length>e.l?e.slice(0,e.l):e}var CAe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],i2,NAe=el;function r$(t,e){e||(e=Pe(4*3+8*7+16*1)),i2||(i2=gM(CAe));var n=i2[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(rw({auto:1},e),rw({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function OAe(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function fJ(t,e,n){n||(n=Pe(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Og(t,e){return e||(e=Pe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var PAe=el;function RAe(t,e){return e||(e=Pe(51)),e.write_shift(1,0),Og(null,e),Og(null,e),Og(null,e),Og(null,e),Og(null,e),e.length>e.l?e.slice(0,e.l):e}function IAe(t,e){return e||(e=Pe(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),nw(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function DAe(t,e,n){var r=Pe(2052);return r.write_shift(4,t),nw(e,r),nw(n,r),r.length>r.l?r.slice(0,r.l):r}function kAe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(Le(t,615,io(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Le(t,44,SAe(i,e[i]))}),Le(t,616))}}function jAe(t){var e=1;Le(t,611,io(e)),Le(t,43,AAe({sz:12,color:{theme:1},name:"Calibri",family:2})),Le(t,612)}function MAe(t){var e=2;Le(t,603,io(e)),Le(t,45,r$({patternType:"none"})),Le(t,45,r$({patternType:"gray125"})),Le(t,604)}function LAe(t){var e=1;Le(t,613,io(e)),Le(t,46,RAe()),Le(t,614)}function FAe(t){var e=1;Le(t,626,io(e)),Le(t,47,fJ({numFmtId:0},65535)),Le(t,627)}function BAe(t,e){Le(t,617,io(e.length)),e.forEach(function(n){Le(t,47,fJ(n,0))}),Le(t,618)}function $Ae(t){var e=1;Le(t,619,io(e)),Le(t,48,IAe({xfId:0,name:"Normal"})),Le(t,620)}function VAe(t){var e=0;Le(t,505,io(e)),Le(t,506)}function UAe(t){var e=0;Le(t,508,DAe(e,"TableStyleMedium9","PivotStyleMedium4")),Le(t,509)}function HAe(t,e){var n=Aa();return Le(n,278),kAe(n,t.SSF),jAe(n),MAe(n),LAe(n),FAe(n),BAe(n,e.cellXfs),$Ae(n),VAe(n),UAe(n),Le(n,279),n.end()}function dJ(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[zr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function zAe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ta(t)}}function qAe(t){var e=Pe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Si(t.name,e),e.slice(0,e.l)}function WAe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function GAe(t){var e=Pe(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function KAe(t,e){var n=Pe(8+2*e.length);return n.write_shift(4,t),Si(e,n),n.slice(0,n.l)}function YAe(t){return t.l+=4,t.read_shift(4)!=0}function XAe(t,e){var n=Pe(8);return n.write_shift(4,t),n.write_shift(4,1),n}function QAe(){var t=Aa();return Le(t,332),Le(t,334,io(1)),Le(t,335,qAe({name:"XLDAPR",version:12e4,flags:3496657072})),Le(t,336),Le(t,339,KAe(1,"XLDAPR")),Le(t,52),Le(t,35,io(514)),Le(t,4096,io(0)),Le(t,4097,Ts(1)),Le(t,36),Le(t,53),Le(t,340),Le(t,337,XAe(1)),Le(t,51,GAe([[1,0]])),Le(t,338),Le(t,333),t.end()}function hJ(){var t=[zr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function ZAe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=jn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var xp=1024;function pJ(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Ke("xml",null,{"xmlns:v":Wa.v,"xmlns:o":Wa.o,"xmlns:x":Wa.x,"xmlns:mv":Wa.mv}).replace(/\/>/,">"),Ke("o:shapelayout",Ke("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ke("v:shapetype",[Ke("v:stroke",null,{joinstyle:"miter"}),Ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];xp<t*1e3;)xp+=1e3;return e.forEach(function(a){var s=Ei(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ke("v:fill",l,o),d={on:"t",obscured:"t"};++xp,i=i.concat(["<v:shape"+Zv({id:"_x0000_s"+xp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ke("v:shadow",null,d),Ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Bi("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Bi("x:AutoFill","False"),Bi("x:Row",String(s.r)),Bi("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function mJ(t){var e=[zr,Ke("comments",null,{xmlns:d0[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var a=kn(i.a);n.indexOf(a)==-1&&(n.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(kn(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Bi("t",kn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(Bi("t",kn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function JAe(t,e,n){var r=[zr,Ke("ThreadedComments",null,{xmlns:wi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),r.push(Ke("threadedComment",Bi("text",s.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function eCe(t){var e=[zr,Ke("personList",null,{xmlns:wi.TCMNT,"xmlns:x":d0[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Ke("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function tCe(t){var e={};e.iauthor=t.read_shift(4);var n=sh(t);return e.rfx=n.s,e.ref=jn(n.s),t.l+=16,e}function nCe(t,e){return e==null&&(e=Pe(36)),e.write_shift(4,t[1].iauthor),p0(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var rCe=ta;function iCe(t){return Si(t.slice(0,54))}function aCe(t){var e=Aa(),n=[];return Le(e,628),Le(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Le(e,632,iCe(i.a)))})}),Le(e,631),Le(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var a={s:Ei(r[0]),e:Ei(r[0])};Le(e,635,nCe([a,i])),i.t&&i.t.length>0&&Le(e,637,oTe(i)),Le(e,636),delete i.iauthor})}),Le(e,634),Le(e,629),e.end()}function sCe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Bn.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var gJ=["xlsb","xlsm","xlam","biff8","xla"],oCe=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=e.c:--d,l?u+=e.r:--u,i+(o?"":"$")+ea(d)+(l?"":"$")+Vi(u)}return function(i,a){return e=a,i.replace(t,n)}}(),OM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,PM=function(){return function(e,n){return e.replace(OM,function(r,i,a,s,o,l){var u=EM(s)-(a?0:n.c),d=wM(l)-(o?0:n.r),h=d==0?"":o?d+1:"["+d+"]",g=u==0?"":a?u+1:"["+u+"]";return i+"R"+h+"C"+g})}}();function lCe(t,e){return t.replace(OM,function(n,r,i,a,s,o){return r+(i=="$"?i+a:ea(EM(a)+e.c))+(s=="$"?s+o:Vi(wM(o)+e.r))})}function cCe(t){return t.length!=1}function Mr(t){t.l+=1}function Xu(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function vJ(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return yJ(t);n.biff==12&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),s=Xu(t),o=Xu(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function yJ(t){var e=Xu(t),n=Xu(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function uCe(t,e,n){if(n.biff<8)return yJ(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),a=Xu(t),s=Xu(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function xJ(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return fCe(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Xu(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function fCe(t){var e=Xu(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function dCe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function hCe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return pCe(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function pCe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function mCe(t,e,n){var r=(t[t.l++]&96)>>5,i=vJ(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function gCe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=vJ(t,a,n);return[r,i,s]}function vCe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function yCe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,i]}function xCe(t,e,n){var r=(t[t.l++]&96)>>5,i=uCe(t,e-1,n);return[r,i]}function bCe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function i$(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function _Ce(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function wCe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function ECe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function SCe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function TCe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function bJ(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function ACe(t){return t.read_shift(2),bJ(t)}function CCe(t){return t.read_shift(2),bJ(t)}function NCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=xJ(t,0,n);return[r,i]}function OCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=hCe(t,0,n);return[r,i]}function PCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=xJ(t,0,n);return[r,i,a]}function RCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[R2e[i],EJ[i],r]}function ICe(t,e,n){var r=t[t.l++],i=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:DCe(t);return[i,(a[0]===0?EJ:P2e)[a[1]]]}function DCe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function kCe(t,e,n){t.l+=n&&n.biff==2?3:4}function jCe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function MCe(t){return t.l++,px[t.read_shift(1)]}function LCe(t){return t.l++,t.read_shift(2)}function FCe(t){return t.l++,t.read_shift(1)!==0}function BCe(t){return t.l++,m0(t)}function $Ce(t,e,n){return t.l++,nJ(t,e-1,n)}function VCe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=PTe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=px[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=m0(t);break;case 2:n[1]=kTe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function UCe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?sh:LTe)(t));return i}function HCe(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=VCe(t,n.biff);return s}function zCe(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function qCe(t,e,n){if(n.biff==5)return WCe(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[r,i,a]}function WCe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function GCe(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function KCe(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function YCe(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function XCe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,i]}var QCe=el,ZCe=el,JCe=el;function mx(t,e,n){return t.l+=2,[dCe(t)]}function RM(t){return t.l+=6,[]}var e2e=mx,t2e=RM,n2e=RM,r2e=mx;function _J(t){return t.l+=2,[eJ(t),t.read_shift(2)&1]}var i2e=mx,a2e=_J,s2e=RM,o2e=mx,l2e=mx,c2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function u2e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=c2e[n>>2&31];return{ixti:e,coltype:n&3,rt:s,idx:r,c:i,C:a}}function f2e(t){return t.l+=2,[t.read_shift(4)]}function d2e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function h2e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function p2e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function m2e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function g2e(t){return t.l+=4,[0,0]}var a$={1:{n:"PtgExp",f:jCe},2:{n:"PtgTbl",f:JCe},3:{n:"PtgAdd",f:Mr},4:{n:"PtgSub",f:Mr},5:{n:"PtgMul",f:Mr},6:{n:"PtgDiv",f:Mr},7:{n:"PtgPower",f:Mr},8:{n:"PtgConcat",f:Mr},9:{n:"PtgLt",f:Mr},10:{n:"PtgLe",f:Mr},11:{n:"PtgEq",f:Mr},12:{n:"PtgGe",f:Mr},13:{n:"PtgGt",f:Mr},14:{n:"PtgNe",f:Mr},15:{n:"PtgIsect",f:Mr},16:{n:"PtgUnion",f:Mr},17:{n:"PtgRange",f:Mr},18:{n:"PtgUplus",f:Mr},19:{n:"PtgUminus",f:Mr},20:{n:"PtgPercent",f:Mr},21:{n:"PtgParen",f:Mr},22:{n:"PtgMissArg",f:Mr},23:{n:"PtgStr",f:$Ce},26:{n:"PtgSheet",f:d2e},27:{n:"PtgEndSheet",f:h2e},28:{n:"PtgErr",f:MCe},29:{n:"PtgBool",f:FCe},30:{n:"PtgInt",f:LCe},31:{n:"PtgNum",f:BCe},32:{n:"PtgArray",f:bCe},33:{n:"PtgFunc",f:RCe},34:{n:"PtgFuncVar",f:ICe},35:{n:"PtgName",f:zCe},36:{n:"PtgRef",f:NCe},37:{n:"PtgArea",f:mCe},38:{n:"PtgMemArea",f:GCe},39:{n:"PtgMemErr",f:QCe},40:{n:"PtgMemNoMem",f:ZCe},41:{n:"PtgMemFunc",f:KCe},42:{n:"PtgRefErr",f:YCe},43:{n:"PtgAreaErr",f:vCe},44:{n:"PtgRefN",f:OCe},45:{n:"PtgAreaN",f:xCe},46:{n:"PtgMemAreaN",f:p2e},47:{n:"PtgMemNoMemN",f:m2e},57:{n:"PtgNameX",f:qCe},58:{n:"PtgRef3d",f:PCe},59:{n:"PtgArea3d",f:gCe},60:{n:"PtgRefErr3d",f:XCe},61:{n:"PtgAreaErr3d",f:yCe},255:{}},v2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},y2e={1:{n:"PtgElfLel",f:_J},2:{n:"PtgElfRw",f:o2e},3:{n:"PtgElfCol",f:e2e},6:{n:"PtgElfRwV",f:l2e},7:{n:"PtgElfColV",f:r2e},10:{n:"PtgElfRadical",f:i2e},11:{n:"PtgElfRadicalS",f:s2e},13:{n:"PtgElfColS",f:t2e},15:{n:"PtgElfColSV",f:n2e},16:{n:"PtgElfRadicalLel",f:a2e},25:{n:"PtgList",f:u2e},29:{n:"PtgSxName",f:f2e},255:{}},x2e={0:{n:"PtgAttrNoop",f:g2e},1:{n:"PtgAttrSemi",f:TCe},2:{n:"PtgAttrIf",f:ECe},4:{n:"PtgAttrChoose",f:_Ce},8:{n:"PtgAttrGoto",f:wCe},16:{n:"PtgAttrSum",f:kCe},32:{n:"PtgAttrBaxcel",f:i$},33:{n:"PtgAttrBaxcel",f:i$},64:{n:"PtgAttrSpace",f:ACe},65:{n:"PtgAttrSpaceSemi",f:CCe},128:{n:"PtgAttrIfError",f:SCe},255:{}};function b2e(t,e,n,r){if(r.biff<8)return el(t,e);for(var i=t.l+e,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=HCe(t,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=UCe(t,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=t.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return e=i-t.l,e!==0&&a.push(el(t,e)),a}function _2e(t,e,n){for(var r=t.l+e,i,a,s=[];r!=t.l;)e=r-t.l,a=t[t.l],i=a$[a]||a$[v2e[a]],(a===24||a===25)&&(i=(a===24?y2e:x2e)[t[t.l+1]]),!i||!i.f?el(t,e):s.push([i.n,i.f(t,e,n)]);return s}function w2e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var E2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function S2e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function wJ(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function s$(t,e,n){var r=wJ(t,e,n);return r=="#REF"?r:S2e(r,n)}function cm(t,e,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,d,h=0,g=0,y,_="";if(!t[0]||!t[0][0])return"";for(var v=-1,b="",E=0,N=t[0].length;E<N;++E){var C=t[0][E];switch(C[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:b=Er(" ",t[0][v][1][1]);break;case 1:b=Er("\r",t[0][v][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}u=u+b,v=-1}o.push(u+E2e[C[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=uv(C[1][1],s,i),o.push(fv(d,a));break;case"PtgRefN":d=n?uv(C[1][1],n,i):C[1][1],o.push(fv(d,a));break;case"PtgRef3d":h=C[1][1],d=uv(C[1][2],s,i),_=s$(r,h,i),o.push(_+"!"+fv(d,a));break;case"PtgFunc":case"PtgFuncVar":var k=C[1][0],O=C[1][1];k||(k=0),k&=127;var I=k==0?[]:o.slice(-k);o.length-=k,O==="User"&&(O=I.shift()),o.push(O+"("+I.join(",")+")");break;case"PtgBool":o.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(C[1]);break;case"PtgNum":o.push(String(C[1]));break;case"PtgStr":o.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(C[1]);break;case"PtgAreaN":y=zB(C[1][1],n?{s:n}:s,i),o.push(n2(y,i));break;case"PtgArea":y=zB(C[1][1],s,i),o.push(n2(y,i));break;case"PtgArea3d":h=C[1][1],y=C[1][2],_=s$(r,h,i),o.push(_+"!"+n2(y,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var A=(r.names||[])[g-1]||(r[0]||[])[g],R=A?A.Name:"SH33TJSNAME"+String(g);R&&R.slice(0,6)=="_xlfn."&&!i.xlfn&&(R=R.slice(6)),o.push(R);break;case"PtgNameX":var D=C[1][1];g=C[1][2];var L;if(i.biff<=5)D<0&&(D=-D),r[D]&&(L=r[D][g]);else{var j="";if(((r[D]||[])[0]||[])[0]==14849||(((r[D]||[])[0]||[])[0]==1025?r[D][g]&&r[D][g].itab>0&&(j=r.SheetNames[r[D][g].itab-1]+"!"):j=r.SheetNames[g-1]+"!"),r[D]&&r[D][g])j+=r[D][g].Name;else if(r[0]&&r[0][g])j+=r[0][g].Name;else{var B=(wJ(r,D,i)||"").split(";;");B[g-1]?j=B[g-1]:j+="SH33TJSERRX"}o.push(j);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var F="(",re=")";if(v>=0){switch(b="",t[0][v][1][0]){case 2:F=Er(" ",t[0][v][1][1])+F;break;case 3:F=Er("\r",t[0][v][1][1])+F;break;case 4:re=Er(" ",t[0][v][1][1])+re;break;case 5:re=Er("\r",t[0][v][1][1])+re;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(F+o.pop()+re);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:C[1][1],r:C[1][0]};var q={c:n.c,r:n.r};if(r.sharedf[jn(d)]){var V=r.sharedf[jn(d)];o.push(cm(V,s,q,r,i))}else{var X=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(cm(u[1],s,q,r,i)),X=!0;break}X||o.push(C[1])}break;case"PtgArray":o.push("{"+w2e(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&Q.indexOf(t[0][E][0])==-1){C=t[0][v];var ie=!0;switch(C[1][0]){case 4:ie=!1;case 0:b=Er(" ",C[1][1]);break;case 5:ie=!1;case 1:b=Er("\r",C[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}o.push((ie?b:"")+o.pop()+(ie?"":b)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function T2e(t){if(t==null){var e=Pe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Pd(t);return Pd(0)}function A2e(t,e,n,r,i){var a=Rd(e,n,i),s=T2e(t.v),o=Pe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Pe(t.bf.length),d=0;d<t.bf.length;++d)u[d]=t.bf[d];var h=Fi([a,s,o,u]);return h}function TS(t,e,n){var r=t.read_shift(4),i=_2e(t,r,n),a=t.read_shift(4),s=a>0?b2e(t,a,i,n):null;return[i,s]}var C2e=TS,AS=TS,N2e=TS,O2e=TS,P2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},EJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},R2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function I2e(t){var e="of:="+t.replace(OM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function D2e(t){return t.replace(/\./,"!")}var dv=typeof Map<"u";function IM(t,e,n){var r=0,i=t.length;if(n){if(dv?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var a=dv?n.get(e):n[e];r<a.length;++r)if(t[a[r]].t===e)return t.Count++,a[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(dv?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function CS(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Gl=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=sw(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=OI(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function SJ(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function uf(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){xZ(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===r)return i;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function k2e(t,e,n){if(t&&t["!ref"]){var r=lr(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function j2e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Vr(t[n])+'"/>';return e+"</mergeCells>"}function M2e(t,e,n,r,i){var a=!1,s={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}a=!0,s.codeName=Qv(kn(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+Ke("outlinePr",null,u)}!a&&!o||(i[i.length]=Ke("sheetPr",o,s))}var L2e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],F2e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function B2e(t){var e={sheet:1};return L2e.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),F2e.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=oJ(t.password).toString(16).toUpperCase()),Ke("sheetProtection",null,e)}function $2e(t){return SJ(t),Ke("pageMargins",null,t)}function V2e(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Ke("col",null,CS(i,r)));return n[n.length]="</cols>",n.join("")}function U2e(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Vr(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=rs(i);s.s.r==s.e.r&&(s.e.r=rs(e["!ref"]).e.r,i=Vr(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Ke("autoFilter",null,{ref:i})}function H2e(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ke("sheetViews",Ke("sheetView",null,i),{})}function z2e(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=px[t.v];break;case"d":r&&r.cellDates?i=ga(t.v,-1).toISOString():(t=Oa(t),t.t="n",i=""+(t.v=Na(ga(t.v)))),typeof t.z>"u"&&(t.z=Cr[14]);break;default:i=t.v;break}var o=Bi("v",kn(i)),l={r:e},u=uf(r.cellXfs,t,r);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Bi("v",""+IM(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Ke("f",kn(t.f),d)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),Ke("c",o,l)}function q2e(t,e,n,r){var i=[],a=[],s=lr(t["!ref"]),o="",l,u="",d=[],h=0,g=0,y=t["!rows"],_=Array.isArray(t),v={r:u},b,E=-1;for(g=s.s.c;g<=s.e.c;++g)d[g]=ea(g);for(h=s.s.r;h<=s.e.r;++h){for(a=[],u=Vi(h),g=s.s.c;g<=s.e.c;++g){l=d[g]+u;var N=_?(t[h]||[])[g]:t[l];N!==void 0&&(o=z2e(N,l,t,e))!=null&&a.push(o)}(a.length>0||y&&y[h])&&(v={r:u},y&&y[h]&&(b=y[h],b.hidden&&(v.hidden=1),E=-1,b.hpx?E=ow(b.hpx):b.hpt&&(E=b.hpt),E>-1&&(v.ht=E,v.customHeight=1),b.level&&(v.outlineLevel=b.level)),i[i.length]=Ke("row",a.join(""),v))}if(y)for(;h<y.length;++h)y&&y[h]&&(v={r:h+1},b=y[h],b.hidden&&(v.hidden=1),E=-1,b.hpx?E=ow(b.hpx):b.hpt&&(E=b.hpt),E>-1&&(v.ht=E,v.customHeight=1),b.level&&(v.outlineLevel=b.level),i[i.length]=Ke("row","",v));return i.join("")}function TJ(t,e,n,r){var i=[zr,Ke("worksheet",null,{xmlns:d0[0],"xmlns:r":wi.r})],a=n.SheetNames[t],s=0,o="",l=n.Sheets[a];l==null&&(l={});var u=l["!ref"]||"A1",d=lr(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Vr(d)}r||(r={}),l["!comments"]=[];var h=[];M2e(l,n,t,e,i),i[i.length]=Ke("dimension",null,{ref:u}),i[i.length]=H2e(l,e,t,n),e.sheetFormat&&(i[i.length]=Ke("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=V2e(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=q2e(l,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=B2e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=U2e(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=j2e(l["!merges"]));var g=-1,y,_=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(y={ref:v[0]},v[1].Target.charAt(0)!="#"&&(_=Dn(r,-1,kn(v[1].Target).replace(/#.*$/,""),yn.HLINK),y["r:id"]="rId"+_),(g=v[1].Target.indexOf("#"))>-1&&(y.location=kn(v[1].Target.slice(g+1))),v[1].Tooltip&&(y.tooltip=kn(v[1].Tooltip)),i[i.length]=Ke("hyperlink",null,y))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=$2e(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Bi("ignoredErrors",Ke("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(_=Dn(r,-1,"../drawings/drawing"+(t+1)+".xml",yn.DRAW),i[i.length]=Ke("drawing",null,{"r:id":"rId"+_}),l["!drawing"]=h),l["!comments"].length>0&&(_=Dn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",yn.VML),i[i.length]=Ke("legacyDrawing",null,{"r:id":"rId"+_}),l["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function W2e(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}function G2e(t,e,n){var r=Pe(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;i.hpx?a=ow(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var u={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var h=-1,g=-1,y=d<<10;y<d+1<<10;++y){u.c=y;var _=Array.isArray(n)?(n[u.r]||[])[u.c]:n[jn(u)];_&&(h<0&&(h=y),g=y)}h<0||(++o,r.write_shift(4,h),r.write_shift(4,g))}var v=r.l;return r.l=l,r.write_shift(4,o),r.l=v,r.length>r.l?r.slice(0,r.l):r}function K2e(t,e,n,r){var i=G2e(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&Le(t,0,i)}var Y2e=sh,X2e=p0;function Q2e(){}function Z2e(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=lTe(t),n}function J2e(t,e,n){n==null&&(n=Pe(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return rw({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),$Z(t,n),n.slice(0,n.l)}function eNe(t){var e=js(t);return[e]}function tNe(t,e,n){return n==null&&(n=Pe(8)),rh(e,n)}function nNe(t){var e=ih(t);return[e]}function rNe(t,e,n){return n==null&&(n=Pe(4)),ah(e,n)}function iNe(t){var e=js(t),n=t.read_shift(1);return[e,n,"b"]}function aNe(t,e,n){return n==null&&(n=Pe(9)),rh(e,n),n.write_shift(1,t.v?1:0),n}function sNe(t){var e=ih(t),n=t.read_shift(1);return[e,n,"b"]}function oNe(t,e,n){return n==null&&(n=Pe(5)),ah(e,n),n.write_shift(1,t.v?1:0),n}function lNe(t){var e=js(t),n=t.read_shift(1);return[e,n,"e"]}function cNe(t,e,n){return n==null&&(n=Pe(9)),rh(e,n),n.write_shift(1,t.v),n}function uNe(t){var e=ih(t),n=t.read_shift(1);return[e,n,"e"]}function fNe(t,e,n){return n==null&&(n=Pe(8)),ah(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function dNe(t){var e=js(t),n=t.read_shift(4);return[e,n,"s"]}function hNe(t,e,n){return n==null&&(n=Pe(12)),rh(e,n),n.write_shift(4,e.v),n}function pNe(t){var e=ih(t),n=t.read_shift(4);return[e,n,"s"]}function mNe(t,e,n){return n==null&&(n=Pe(8)),ah(e,n),n.write_shift(4,e.v),n}function gNe(t){var e=js(t),n=m0(t);return[e,n,"n"]}function vNe(t,e,n){return n==null&&(n=Pe(16)),rh(e,n),Pd(t.v,n),n}function yNe(t){var e=ih(t),n=m0(t);return[e,n,"n"]}function xNe(t,e,n){return n==null&&(n=Pe(12)),ah(e,n),Pd(t.v,n),n}function bNe(t){var e=js(t),n=VZ(t);return[e,n,"n"]}function _Ne(t,e,n){return n==null&&(n=Pe(12)),rh(e,n),UZ(t.v,n),n}function wNe(t){var e=ih(t),n=VZ(t);return[e,n,"n"]}function ENe(t,e,n){return n==null&&(n=Pe(8)),ah(e,n),UZ(t.v,n),n}function SNe(t){var e=js(t),n=SM(t);return[e,n,"is"]}function TNe(t){var e=js(t),n=ta(t);return[e,n,"str"]}function ANe(t,e,n){return n==null&&(n=Pe(12+4*t.v.length)),rh(e,n),Si(t.v,n),n.length>n.l?n.slice(0,n.l):n}function CNe(t){var e=ih(t),n=ta(t);return[e,n,"str"]}function NNe(t,e,n){return n==null&&(n=Pe(8+4*t.v.length)),ah(e,n),Si(t.v,n),n.length>n.l?n.slice(0,n.l):n}function ONe(t,e,n){var r=t.l+e,i=js(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(n.cellFormula){t.l+=2;var o=AS(t,r-t.l,n);s[3]=cm(o,null,i,n.supbooks,n)}else t.l=r;return s}function PNe(t,e,n){var r=t.l+e,i=js(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(n.cellFormula){t.l+=2;var o=AS(t,r-t.l,n);s[3]=cm(o,null,i,n.supbooks,n)}else t.l=r;return s}function RNe(t,e,n){var r=t.l+e,i=js(t);i.r=n["!row"];var a=m0(t),s=[i,a,"n"];if(n.cellFormula){t.l+=2;var o=AS(t,r-t.l,n);s[3]=cm(o,null,i,n.supbooks,n)}else t.l=r;return s}function INe(t,e,n){var r=t.l+e,i=js(t);i.r=n["!row"];var a=ta(t),s=[i,a,"str"];if(n.cellFormula){t.l+=2;var o=AS(t,r-t.l,n);s[3]=cm(o,null,i,n.supbooks,n)}else t.l=r;return s}var DNe=sh,kNe=p0;function jNe(t,e){return e==null&&(e=Pe(4)),e.write_shift(4,t),e}function MNe(t,e){var n=t.l+e,r=sh(t),i=TM(t),a=ta(t),s=ta(t),o=ta(t);t.l=n;var l={rfx:r,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function LNe(t,e){var n=Pe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));p0({s:Ei(t[0]),e:Ei(t[0])},n),AM("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Si(i||"",n),Si(t[1].Tooltip||"",n),Si("",n),n.slice(0,n.l)}function FNe(){}function BNe(t,e,n){var r=t.l+e,i=HZ(t),a=t.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var o=C2e(t,r-t.l,n);s[1]=o}else t.l=r;return s}function $Ne(t,e,n){var r=t.l+e,i=sh(t),a=[i];if(n.cellFormula){var s=O2e(t,r-t.l,n);a[1]=s,t.l=r}else t.l=r;return a}function VNe(t,e,n){n==null&&(n=Pe(18));var r=CS(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var AJ=["left","right","top","bottom","header","footer"];function UNe(t){var e={};return AJ.forEach(function(n){e[n]=m0(t)}),e}function HNe(t,e){return e==null&&(e=Pe(6*8)),SJ(t),AJ.forEach(function(n){Pd(t[n],e)}),e}function zNe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function qNe(t,e,n){n==null&&(n=Pe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function WNe(t){var e=Pe(24);return e.write_shift(4,4),e.write_shift(4,1),p0(t,e),e}function GNe(t,e){return e==null&&(e=Pe(16*4+2)),e.write_shift(2,t.password?oJ(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function KNe(){}function YNe(){}function XNe(t,e,n,r,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Oa(e),e.z=e.z||Cr[14],e.v=Na(ga(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=uf(i.cellXfs,e,i),e.l&&a["!links"].push([jn(l),e.l]),e.c&&a["!comments"].push([jn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=IM(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,s?Le(t,18,mNe(e,l)):Le(t,7,hNe(e,l))):(l.t="str",s?Le(t,17,NNe(e,l)):Le(t,6,ANe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Le(t,13,ENe(e,l)):Le(t,2,_Ne(e,l)):s?Le(t,16,xNe(e,l)):Le(t,5,vNe(e,l)),!0;case"b":return l.t="b",s?Le(t,15,oNe(e,l)):Le(t,4,aNe(e,l)),!0;case"e":return l.t="e",s?Le(t,14,fNe(e,l)):Le(t,3,cNe(e,l)),!0}return s?Le(t,12,rNe(e,l)):Le(t,1,tNe(e,l)),!0}function QNe(t,e,n,r){var i=lr(e["!ref"]||"A1"),a,s="",o=[];Le(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=u;++d){s=Vi(d),K2e(t,e,i,d);var h=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(o[g]=ea(g)),a=o[g]+s;var y=l?(e[d]||[])[g]:e[a];if(!y){h=!1;continue}h=XNe(t,y,d,g,r,e,h)}}Le(t,146)}function ZNe(t,e){!e||!e["!merges"]||(Le(t,177,jNe(e["!merges"].length)),e["!merges"].forEach(function(n){Le(t,176,kNe(n))}),Le(t,178))}function JNe(t,e){!e||!e["!cols"]||(Le(t,390),e["!cols"].forEach(function(n,r){n&&Le(t,60,VNe(r,n))}),Le(t,391))}function eOe(t,e){!e||!e["!ref"]||(Le(t,648),Le(t,649,WNe(lr(e["!ref"]))),Le(t,650))}function tOe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=Dn(n,-1,r[1].Target.replace(/#.*$/,""),yn.HLINK);Le(t,494,LNe(r,i))}}),delete e["!links"]}function nOe(t,e,n,r){if(e["!comments"].length>0){var i=Dn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",yn.VML);Le(t,551,AM("rId"+i)),e["!legacy"]=i}}function rOe(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Vr(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=rs(a);o.s.r==o.e.r&&(o.e.r=rs(e["!ref"]).e.r,a=Vr(o));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Le(t,161,p0(lr(a))),Le(t,162)}}function iOe(t,e,n){Le(t,133),Le(t,137,qNe(e,n)),Le(t,138),Le(t,134)}function aOe(t,e){e["!protect"]&&Le(t,535,GNe(e["!protect"]))}function sOe(t,e,n,r){var i=Aa(),a=n.SheetNames[t],s=n.Sheets[a]||{},o=a;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=lr(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Le(i,129),(n.vbaraw||s["!outline"])&&Le(i,147,J2e(o,s["!outline"])),Le(i,148,X2e(l)),iOe(i,s,n.Workbook),JNe(i,s),QNe(i,s,t,e),aOe(i,s),rOe(i,s,n,t),ZNe(i,s),tOe(i,s,r),s["!margins"]&&Le(i,476,HNe(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&eOe(i,s),nOe(i,s,t,r),Le(i,130),i.end()}function oOe(t,e){t.l+=10;var n=ta(t);return{name:n}}var lOe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function cOe(t){return!t.Workbook||!t.Workbook.WBProps?"false":$Se(t.Workbook.WBProps.date1904)?"true":"false"}var uOe="][*?/\\".split("");function CJ(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return uOe.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function fOe(t,e,n){t.forEach(function(r,i){CJ(r);for(var a=0;a<i;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var s=e&&e[i]&&e[i].CodeName||r;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function dOe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];fOe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)k2e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function NJ(t){var e=[zr];e[e.length]=Ke("workbook",null,{xmlns:d0[0],"xmlns:r":wi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(lOe.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Ke("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:kn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Ke("sheet",null,s)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Ke("definedName",kn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function hOe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=NI(t),n.name=ta(t),n}function pOe(t,e){return e||(e=Pe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),AM(t.strRelID,e),Si(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function mOe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?ta(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function gOe(t,e){e||(e=Pe(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),$Z(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function vOe(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=cTe(t),s=N2e(t,0,n),o=TM(t);t.l=r;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function yOe(t,e){Le(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Le(t,156,pOe(i))}Le(t,144)}function xOe(t,e){e||(e=Pe(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Si("SheetJS",e),Si(X1.version,e),Si(X1.version,e),Si("7262",e),e.length>e.l?e.slice(0,e.l):e}function bOe(t,e){e||(e=Pe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function _Oe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&a==-1&&(a=r);a>i||(Le(t,135),Le(t,158,bOe(i)),Le(t,136))}}function wOe(t,e){var n=Aa();return Le(n,131),Le(n,128,xOe()),Le(n,153,gOe(t.Workbook&&t.Workbook.WBProps||null)),_Oe(n,t),yOe(n,t),Le(n,132),n.end()}function EOe(t,e,n){return(e.slice(-4)===".bin"?wOe:NJ)(t)}function SOe(t,e,n,r,i){return(e.slice(-4)===".bin"?sOe:TJ)(t,n,r,i)}function TOe(t,e,n){return(e.slice(-4)===".bin"?HAe:uJ)(t,n)}function AOe(t,e,n){return(e.slice(-4)===".bin"?gAe:sJ)(t,n)}function COe(t,e,n){return(e.slice(-4)===".bin"?aCe:mJ)(t)}function NOe(t){return(t.slice(-4)===".bin"?QAe:hJ)()}function OOe(t,e){var n=[];return t.Props&&n.push(TTe(t.Props,e)),t.Custprops&&n.push(ATe(t.Props,t.Custprops)),n.join("")}function POe(){return""}function ROe(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(Ke("NumberFormat",null,{"ss:Format":kn(Cr[r.numFmtId])}));var s={"ss:ID":"s"+(21+i)};n.push(Ke("Style",a.join(""),s))}),Ke("Styles",n.join(""))}function OJ(t){return Ke("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+PM(t.Ref,{r:0,c:0})})}function IOe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(OJ(i)))}return Ke("Names",n.join(""))}function DOe(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||a.push(OJ(o)))}return a.join("")}function kOe(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Ke("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Ke("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Ke("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Ke("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Bi("ProtectContents","True")),t["!protect"].objects&&i.push(Bi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Bi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Bi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Bi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Ke("WorksheetOptions",i.join(""),{xmlns:Wa.x})}function jOe(t){return t.map(function(e){var n=BSe(e.t||""),r=Ke("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ke("Comment",r,{"ss:Author":e.a})}).join("")}function MOe(t,e,n,r,i,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+kn(PM(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Ei(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=kn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=kn(t.l.Tooltip))),n["!merges"])for(var u=n["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var h="",g="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",g=String(t.v);break;case"b":h="Boolean",g=t.v?"1":"0";break;case"e":h="Error",g=px[t.v];break;case"d":h="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Cr[14]);break;case"s":h="String",g=FSe(t.v||"");break}var y=uf(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+y),o["ss:Index"]=s.c+1;var _=t.v!=null?g:"",v=t.t=="z"?"":'<Data ss:Type="'+h+'">'+_+"</Data>";return(t.c||[]).length>0&&(v+=jOe(t.c)),Ke("Cell",v,o)}function LOe(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=cJ(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function FOe(t,e,n,r){if(!t["!ref"])return"";var i=lr(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(b,E){NM(b);var N=!!b.width,C=CS(E,b),k={"ss:Index":E+1};N&&(k["ss:Width"]=aw(C.width)),b.hidden&&(k["ss:Hidden"]="1"),o.push(Ke("Column",null,k))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var d=[LOe(u,(t["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var g=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>h)&&!(a[s].s.r>u)&&!(a[s].e.c<h)&&!(a[s].e.r<u)){(a[s].s.c!=h||a[s].s.r!=u)&&(g=!0);break}if(!g){var y={r:u,c:h},_=jn(y),v=l?(t[u]||[])[h]:t[_];d.push(MOe(v,_,t,e,n,r,y))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function BOe(t,e,n){var r=[],i=n.SheetNames[t],a=n.Sheets[i],s=a?DOe(a,e,t,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?FOe(a,e,t,n):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(kOe(a,e,t,n)),r.join("")}function $Oe(t,e){e||(e={}),t.SSF||(t.SSF=Oa(Cr)),t.SSF&&(wS(),_S(t.SSF),e.revssf=ES(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],uf(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(OOe(t,e)),n.push(POe()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Ke("Worksheet",BOe(r,e,t),{"ss:Name":kn(t.SheetNames[r])}));return n[2]=ROe(t,e),n[3]=IOe(t),zr+Ke("Workbook",n.join(""),{xmlns:Wa.ss,"xmlns:o":Wa.o,"xmlns:x":Wa.x,"xmlns:ss":Wa.ss,"xmlns:dt":Wa.dt,"xmlns:html":Wa.html})}var a2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function VOe(t,e){var n=[],r=[],i=[],a=0,s,o=DB(WB,"n"),l=DB(GB,"n");if(t.Props)for(s=Hi(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?n:Object.prototype.hasOwnProperty.call(l,s[a])?r:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=Hi(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?n:Object.prototype.hasOwnProperty.call(l,s[a])?r:i).push([s[a],t.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)JZ.indexOf(i[a][0])>-1||XZ.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);r.length&&Bn.utils.cfb_add(e,"/SummaryInformation",ZB(r,a2.SI,l,GB)),(n.length||u.length)&&Bn.utils.cfb_add(e,"/DocumentSummaryInformation",ZB(n,a2.DSI,o,WB,u.length?u:null,a2.UDI))}function UOe(t,e){var n=e||{},r=Bn.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Bn.utils.cfb_add(r,i,PJ(t,n)),n.biff==8&&(t.Props||t.Custprops)&&VOe(t,r),n.biff==8&&t.vbaraw&&sCe(r,Bn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var HOe={0:{f:W2e},1:{f:eNe},2:{f:bNe},3:{f:lNe},4:{f:iNe},5:{f:gNe},6:{f:TNe},7:{f:dNe},8:{f:INe},9:{f:RNe},10:{f:ONe},11:{f:PNe},12:{f:nNe},13:{f:wNe},14:{f:uNe},15:{f:sNe},16:{f:yNe},17:{f:CNe},18:{f:pNe},19:{f:SM},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vOe},40:{},42:{},43:{f:TAe},44:{f:EAe},45:{f:NAe},46:{f:PAe},47:{f:OAe},48:{},49:{f:nTe},50:{},51:{f:WAe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:rAe},62:{f:SNe},63:{f:ZAe},64:{f:KNe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:el,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zNe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Z2e},148:{f:Y2e,p:16},151:{f:FNe},152:{},153:{f:mOe},154:{},155:{},156:{f:hOe},157:{},158:{},159:{T:1,f:hAe},160:{T:-1},161:{T:1,f:sh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:DNe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:zAe},336:{T:-1},337:{f:YAe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:NI},357:{},358:{},359:{},360:{T:1},361:{},362:{f:QTe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:BNe},427:{f:$Ne},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:UNe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Q2e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MNe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:NI},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:rCe},633:{T:1},634:{T:-1},635:{T:1,f:tCe},636:{T:-1},637:{f:sTe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:oOe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:YNe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Xe(t,e,n,r){var i=e;if(!isNaN(i)){var a=r||(n||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&_M(n)&&t.push(n)}}function zOe(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return Xe(t,e,n,i);var a=e;if(!isNaN(a)){for(var s=n.parts||[],o=0,l=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=t.next(4);for(d.write_shift(2,a),d.write_shift(2,u),t.push(n.slice(l,l+u)),l+=u;l<i;){for(d=t.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),t.push(n.slice(l,l+u)),l+=u}}}function gx(t,e,n){return t||(t=Pe(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function qOe(t,e,n,r){var i=Pe(9);return gx(i,t,e),tJ(n,r||"b",i),i}function WOe(t,e,n){var r=Pe(8+2*n.length);return gx(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function GOe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Na(ga(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Xe(t,2,oAe(n,r,i)):Xe(t,3,sAe(n,r,i));return;case"b":case"e":Xe(t,5,qOe(n,r,e.v,e.t));return;case"s":case"str":Xe(t,4,WOe(n,r,(e.v||"").slice(0,255)));return}Xe(t,1,gx(null,n,r))}function KOe(t,e,n,r){var i=Array.isArray(e),a=lr(e["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=Vr(a)}for(var u=a.s.r;u<=a.e.r;++u){o=Vi(u);for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(l[d]=ea(d)),s=l[d]+o;var h=i?(e[u]||[])[d]:e[s];h&&GOe(t,h,u,d)}}}function YOe(t,e){for(var n=e||{},r=Aa(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==n.sheet&&(i=a);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Xe(r,n.biff==4?1033:n.biff==3?521:9,CM(t,16,n)),KOe(r,t.Sheets[t.SheetNames[i]],i,n),Xe(r,10),r.end()}function XOe(t,e,n){Xe(t,49,HTe({sz:12,name:"Arial"},n))}function QOe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Xe(t,1054,WTe(i,e[i],n))})}function ZOe(t,e){var n=Pe(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Xe(t,2151,n),n=Pe(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),iJ(lr(e["!ref"]||"A1"),n),n.write_shift(4,4),Xe(t,2152,n)}function JOe(t,e){for(var n=0;n<16;++n)Xe(t,224,e$({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Xe(t,224,e$(r,0,e))})}function ePe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Xe(t,440,eAe(r)),r[1].Tooltip&&Xe(t,2048,tAe(r))}delete e["!links"]}function tPe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Xe(t,125,iAe(CS(i,r),i))})}}function nPe(t,e,n,r,i){var a=16+uf(i.cellXfs,e,i);if(e.v==null&&!e.bf){Xe(t,513,Rd(n,r,a));return}if(e.bf)Xe(t,6,A2e(e,n,r,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Na(ga(e.v)):e.v;Xe(t,515,XTe(n,r,s,a));break;case"b":case"e":Xe(t,517,YTe(n,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=IM(i.Strings,e.v,i.revStrings);Xe(t,253,zTe(n,r,o,a))}else Xe(t,516,qTe(n,r,(e.v||"").slice(0,255),a,i));break;default:Xe(t,513,Rd(n,r,a))}}function rPe(t,e,n){var r=Aa(),i=n.SheetNames[t],a=n.Sheets[i]||{},s=(n||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(a),u=e.biff==8,d,h="",g=[],y=lr(a["!ref"]||"A1"),_=u?65536:16384;if(y.e.c>255||y.e.r>=_){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,_-1)}Xe(r,2057,CM(n,16,e)),Xe(r,13,Ts(1)),Xe(r,12,Ts(100)),Xe(r,15,ca(!0)),Xe(r,17,ca(!1)),Xe(r,16,Pd(.001)),Xe(r,95,ca(!0)),Xe(r,42,ca(!1)),Xe(r,43,ca(!1)),Xe(r,130,Ts(1)),Xe(r,128,KTe()),Xe(r,131,ca(!1)),Xe(r,132,ca(!1)),u&&tPe(r,a["!cols"]),Xe(r,512,GTe(y,e)),u&&(a["!links"]=[]);for(var v=y.s.r;v<=y.e.r;++v){h=Vi(v);for(var b=y.s.c;b<=y.e.c;++b){v===y.s.r&&(g[b]=ea(b)),d=g[b]+h;var E=l?(a[v]||[])[b]:a[d];E&&(nPe(r,E,v,b,e),u&&E.l&&a["!links"].push([d,E.l]))}}var N=o.CodeName||o.name||i;return u&&Xe(r,574,UTe((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&Xe(r,229,JTe(a["!merges"])),u&&ePe(r,a),Xe(r,442,rJ(N)),u&&ZOe(r,a),Xe(r,10),r.end()}function iPe(t,e,n){var r=Aa(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(Xe(r,2057,CM(t,5,n)),n.bookType=="xla"&&Xe(r,135),Xe(r,225,o?Ts(1200):null),Xe(r,193,OTe(2)),l&&Xe(r,191),l&&Xe(r,192),Xe(r,226),Xe(r,92,FTe("SheetJS",n)),Xe(r,66,Ts(o?1200:1252)),o&&Xe(r,353,Ts(0)),o&&Xe(r,448),Xe(r,317,aAe(t.SheetNames.length)),o&&t.vbaraw&&Xe(r,211),o&&t.vbaraw){var u=s.CodeName||"ThisWorkbook";Xe(r,442,rJ(u))}Xe(r,156,Ts(17)),Xe(r,25,ca(!1)),Xe(r,18,ca(!1)),Xe(r,19,Ts(0)),o&&Xe(r,431,ca(!1)),o&&Xe(r,444,Ts(0)),Xe(r,61,VTe()),Xe(r,64,ca(!1)),Xe(r,141,Ts(0)),Xe(r,34,ca(cOe(t)=="true")),Xe(r,14,ca(!0)),o&&Xe(r,439,ca(!1)),Xe(r,218,Ts(0)),XOe(r,t,n),QOe(r,t.SSF,n),JOe(r,n),o&&Xe(r,352,ca(!1));var d=r.end(),h=Aa();o&&Xe(h,140,nAe()),o&&n.Strings&&zOe(h,252,$Te(n.Strings)),Xe(h,10);var g=h.end(),y=Aa(),_=0,v=0;for(v=0;v<t.SheetNames.length;++v)_+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var b=d.length+_+g.length;for(v=0;v<t.SheetNames.length;++v){var E=a[v]||{};Xe(y,133,BTe({pos:b,hs:E.Hidden||0,dt:0,name:t.SheetNames[v]},n)),b+=e[v].length}var N=y.end();if(_!=N.length)throw new Error("BS8 "+_+" != "+N.length);var C=[];return d.length&&C.push(d),N.length&&C.push(N),g.length&&C.push(g),Fi(C)}function aPe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Oa(Cr)),t&&t.SSF&&(wS(),_S(t.SSF),n.revssf=ES(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,DM(n),n.cellXfs=[],uf(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=rPe(i,n,t);return r.unshift(iPe(t,r,n)),Fi(r)}function PJ(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=rs(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return aPe(t,e);case 4:case 3:case 2:return YOe(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function sPe(t,e,n,r){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>s)&&!(i[u].e.r<n||i[u].e.c<s)){if(i[u].s.r<n||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=jn({r:n,c:s}),h=r.dense?(t[n]||[])[s]:t[d],g=h&&h.v!=null&&(h.h||LSe(h.w||(sc(h),h.w)||""))||"",y={};o>1&&(y.rowspan=o),l>1&&(y.colspan=l),r.editable?g='<span contenteditable="true">'+g+"</span>":h&&(y["data-t"]=h&&h.t||"z",h.v!=null&&(y["data-v"]=h.v),h.z!=null&&(y["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),y.id=(r.id||"sjs")+"-"+d,a.push(Ke("td",g,y))}}var _="<tr>";return _+a.join("")+"</tr>"}var oPe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lPe="</body></html>";function cPe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function RJ(t,e){var n=e||{},r=n.header!=null?n.header:oPe,i=n.footer!=null?n.footer:lPe,a=[r],s=rs(t["!ref"]);n.dense=Array.isArray(t),a.push(cPe(t,s,n));for(var o=s.s.r;o<=s.e.r;++o)a.push(sPe(t,s,o,n));return a.push("</table>"+i),a.join("")}function IJ(t,e,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?Ei(r.origin):r.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var d=rs(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var h=[],g=0,y=t["!rows"]||(t["!rows"]=[]),_=0,v=0,b=0,E=0,N=0,C=0;for(t["!cols"]||(t["!cols"]=[]);_<o.length&&v<l;++_){var k=o[_];if(o$(k)){if(r.display)continue;y[v]={hidden:!0}}var O=k.children;for(b=E=0;b<O.length;++b){var I=O[b];if(!(r.display&&o$(I))){var A=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):VSe(I.innerHTML),R=I.getAttribute("data-z")||I.getAttribute("z");for(g=0;g<h.length;++g){var D=h[g];D.s.c==E+a&&D.s.r<v+i&&v+i<=D.e.r&&(E=D.e.c+1-a,g=-1)}C=+I.getAttribute("colspan")||1,((N=+I.getAttribute("rowspan")||1)>1||C>1)&&h.push({s:{r:v+i,c:E+a},e:{r:v+i+(N||1)-1,c:E+a+(C||1)-1}});var L={t:"s",v:A},j=I.getAttribute("data-t")||I.getAttribute("t")||"";A!=null&&(A.length==0?L.t=j||"z":r.raw||A.trim().length==0||j=="s"||(A==="TRUE"?L={t:"b",v:!0}:A==="FALSE"?L={t:"b",v:!1}:isNaN(Wl(A))?isNaN(Xv(A).getDate())||(L={t:"d",v:ga(A)},r.cellDates||(L={t:"n",v:Na(L.v)}),L.z=r.dateNF||Cr[14]):L={t:"n",v:Wl(A)})),L.z===void 0&&R!=null&&(L.z=R);var B="",F=I.getElementsByTagName("A");if(F&&F.length)for(var re=0;re<F.length&&!(F[re].hasAttribute("href")&&(B=F[re].getAttribute("href"),B.charAt(0)!="#"));++re);B&&B.charAt(0)!="#"&&(L.l={Target:B}),r.dense?(t[v+i]||(t[v+i]=[]),t[v+i][E+a]=L):t[jn({c:E+a,r:v+i})]=L,u.e.c<E+a&&(u.e.c=E+a),E+=C}}++v}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+i),t["!ref"]=Vr(u),v>=l&&(t["!fullref"]=Vr((u.e.r=o.length-_+v-1+i,u))),t}function DJ(t,e){var n=e||{},r=n.dense?[]:{};return IJ(r,t,e)}function uPe(t,e){return nh(DJ(t,e),e)}function o$(t){var e="",n=fPe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function fPe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var dPe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Zv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return zr+e}}(),l$=function(){var t=function(a){return kn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,s,o){var l=[];l.push('      <table:table table:name="'+kn(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,h=rs(a["!ref"]||"A1"),g=a["!merges"]||[],y=0,_=Array.isArray(a);if(a["!cols"])for(d=0;d<=h.e.c;++d)l.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",b=a["!rows"]||[];for(u=0;u<h.s.r;++u)v=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=h.e.r;++u){for(v=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+v+`>
`),d=0;d<h.s.c;++d)l.push(e);for(;d<=h.e.c;++d){var E=!1,N={},C="";for(y=0;y!=g.length;++y)if(!(g[y].s.c>d)&&!(g[y].s.r>u)&&!(g[y].e.c<d)&&!(g[y].e.r<u)){(g[y].s.c!=d||g[y].s.r!=u)&&(E=!0),N["table:number-columns-spanned"]=g[y].e.c-g[y].s.c+1,N["table:number-rows-spanned"]=g[y].e.r-g[y].s.r+1;break}if(E){l.push(n);continue}var k=jn({r:u,c:d}),O=_?(a[u]||[])[d]:a[k];if(O&&O.f&&(N["table:formula"]=kn(I2e(O.f)),O.F&&O.F.slice(0,k.length)==k)){var I=rs(O.F);N["table:number-matrix-columns-spanned"]=I.e.c-I.s.c+1,N["table:number-matrix-rows-spanned"]=I.e.r-I.s.r+1}if(!O){l.push(e);continue}switch(O.t){case"b":C=O.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=O.v?"true":"false";break;case"n":C=O.w||String(O.v||0),N["office:value-type"]="float",N["office:value"]=O.v||0;break;case"s":case"str":C=O.v==null?"":O.v,N["office:value-type"]="string";break;case"d":C=O.w||ga(O.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=ga(O.v).toISOString(),N["table:style-name"]="ce1";break;default:l.push(e);continue}var A=t(C);if(O.l&&O.l.Target){var R=O.l.Target;R=R.charAt(0)=="#"?"#"+D2e(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),A=Ke("text:a",A,{"xlink:href":R.replace(/&/g,"&amp;")})}l.push("          "+Ke("table:table-cell",Ke("text:p",A,{}),N)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;NM(h),h.ods=o;var g=u["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var h=u["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[zr],u=Zv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Zv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(KZ().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=s.SheetNames.length;++h)l.push(r(s.Sheets[s.SheetNames[h]],s,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function kJ(t,e){if(e.bookType=="fods")return l$(t,e);var n=vM(),r="",i=[],a=[];return r="mimetype",Bt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Bt(n,r,l$(t,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",Bt(n,r,dPe(t,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",Bt(n,r,zr+KZ()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",Bt(n,r,STe(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Bt(n,r,wTe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function lw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function hPe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Xs(Qv(t))}function pPe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Qu(t){var e=t.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function mPe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=n>=0?0:128}function Jv(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function In(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Bp(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Zr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Jv(t,n),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:s=4,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Jv(t,n),o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Ii(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(In(r*8+i.type)),i.type==2&&e.push(In(i.data.length)),e.push(i.data))})}),Qu(e)}function Us(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Jv(t,r),a=Zr(t.slice(r[0],r[0]+i));r[0]+=i;var s={id:Bp(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Zr(o.data),u=Bp(l[3][0].data);s.messages.push({meta:l,data:t.slice(r[0],r[0]+u)}),r[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=Bp(a[3][0].data)>>>0>0),n.push(s)}return n}function rp(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:In(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:In(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:In(s.data.length)}],r[2].push({data:Ii(s.meta),type:2})});var a=Ii(r);e.push(In(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),Qu(e)}function gPe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Jv(e,n),i=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var s=e[n[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[n[0]],o>1&&(s|=e[n[0]+1]<<8),o>2&&(s|=e[n[0]+2]<<16),o>3&&(s|=e[n[0]+3]<<24),s>>>=0,s++,n[0]+=o}i.push(e.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(u=(e[n[0]++]>>2)+1,a==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Qu(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var d=Qu(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function Hs(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(gPe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Qu(e)}function ip(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var a=In(r),s=a.length;e.push(a),r<=60?(s++,e.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),s+=r,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,n+=r}return Qu(e)}function s2(t,e){var n=new Uint8Array(32),r=lw(n),i=12,a=0;switch(n[0]=5,t.t){case"n":n[1]=2,mPe(n,i,t.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),n.slice(0,i)}function o2(t,e){var n=new Uint8Array(32),r=lw(n),i=12,a=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),n.slice(0,i)}function nu(t){var e=Zr(t);return Jv(e[1][0].data)}function vPe(t,e,n){var r,i,a,s;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&Bp(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=lw(t[7][0].data),d=0,h=[],g=lw(t[4][0].data),y=0,_=[],v=0;v<e.length;++v){if(e[v]==null){u.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}u.setUint16(v*2,d,!0),g.setUint16(v*2,y,!0);var b,E;switch(typeof e[v]){case"string":b=s2({t:"s",v:e[v]},n),E=o2({t:"s",v:e[v]},n);break;case"number":b=s2({t:"n",v:e[v]},n),E=o2({t:"n",v:e[v]},n);break;case"boolean":b=s2({t:"b",v:e[v]},n),E=o2({t:"b",v:e[v]},n);break;default:throw new Error("Unsupported value "+e[v])}h.push(b),d+=b.length,_.push(E),y+=E.length,++l}for(t[2][0].data=In(l);v<t[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return t[6][0].data=Qu(h),t[3][0].data=Qu(_),l}function yPe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=rs(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Vr(r)));var a=cw(n,{range:r,header:1}),s=["~Sh33tJ5~"];a.forEach(function(Y){return Y.forEach(function(K){typeof K=="string"&&s.push(K)})});var o={},l=[],u=Bn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(Y,K){return[Y,u.FullPaths[K]]}).forEach(function(Y){var K=Y[0],J=Y[1];if(K.type==2&&K.name.match(/\.iwa/)){var fe=K.content,pe=Hs(fe),ye=Us(pe);ye.forEach(function(de){l.push(de.id),o[de.id]={deps:[],location:J,type:Bp(de.messages[0].meta[1][0].data)}})}}),l.sort(function(Y,K){return Y-K});var d=l.filter(function(Y){return Y>1}).map(function(Y){return[Y,In(Y)]});u.FileIndex.map(function(Y,K){return[Y,u.FullPaths[K]]}).forEach(function(Y){var K=Y[0];if(Y[1],!!K.name.match(/\.iwa/)){var J=Us(Hs(K.content));J.forEach(function(fe){fe.messages.forEach(function(pe){d.forEach(function(ye){fe.messages.some(function(de){return Bp(de.meta[1][0].data)!=11006&&pPe(de.data,ye[1])})&&o[ye[0]].deps.push(fe.id)})})})}});for(var h=Bn.find(u,o[1].location),g=Us(Hs(h.content)),y,_=0;_<g.length;++_){var v=g[_];v.id==1&&(y=v)}var b=nu(Zr(y.messages[0].data)[1][0].data);for(h=Bn.find(u,o[b].location),g=Us(Hs(h.content)),_=0;_<g.length;++_)v=g[_],v.id==b&&(y=v);for(b=nu(Zr(y.messages[0].data)[2][0].data),h=Bn.find(u,o[b].location),g=Us(Hs(h.content)),_=0;_<g.length;++_)v=g[_],v.id==b&&(y=v);for(b=nu(Zr(y.messages[0].data)[2][0].data),h=Bn.find(u,o[b].location),g=Us(Hs(h.content)),_=0;_<g.length;++_)v=g[_],v.id==b&&(y=v);var E=Zr(y.messages[0].data);{E[6][0].data=In(r.e.r+1),E[7][0].data=In(r.e.c+1);var N=nu(E[46][0].data),C=Bn.find(u,o[N].location),k=Us(Hs(C.content));{for(var O=0;O<k.length&&k[O].id!=N;++O);if(k[O].id!=N)throw"Bad ColumnRowUIDMapArchive";var I=Zr(k[O].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var A=0;A<=r.e.c;++A){var R=[];R[1]=R[2]=[{type:0,data:In(A+420690)}],I[1].push({type:2,data:Ii(R)}),I[2].push({type:0,data:In(A)}),I[3].push({type:0,data:In(A)})}I[4]=[],I[5]=[],I[6]=[];for(var D=0;D<=r.e.r;++D)R=[],R[1]=R[2]=[{type:0,data:In(D+726270)}],I[4].push({type:2,data:Ii(R)}),I[5].push({type:0,data:In(D)}),I[6].push({type:0,data:In(D)});k[O].messages[0].data=Ii(I)}C.content=ip(rp(k)),C.size=C.content.length,delete E[46];var L=Zr(E[4][0].data);{L[7][0].data=In(r.e.r+1);var j=Zr(L[1][0].data),B=nu(j[2][0].data);C=Bn.find(u,o[B].location),k=Us(Hs(C.content));{if(k[0].id!=B)throw"Bad HeaderStorageBucket";var F=Zr(k[0].messages[0].data);for(D=0;D<a.length;++D){var re=Zr(F[2][0].data);re[1][0].data=In(D),re[4][0].data=In(a[D].length),F[2][D]={type:F[2][0].type,data:Ii(re)}}k[0].messages[0].data=Ii(F)}C.content=ip(rp(k)),C.size=C.content.length;var q=nu(L[2][0].data);C=Bn.find(u,o[q].location),k=Us(Hs(C.content));{if(k[0].id!=q)throw"Bad HeaderStorageBucket";for(F=Zr(k[0].messages[0].data),A=0;A<=r.e.c;++A)re=Zr(F[2][0].data),re[1][0].data=In(A),re[4][0].data=In(r.e.r+1),F[2][A]={type:F[2][0].type,data:Ii(re)};k[0].messages[0].data=Ii(F)}C.content=ip(rp(k)),C.size=C.content.length;var V=nu(L[4][0].data);(function(){for(var Y=Bn.find(u,o[V].location),K=Us(Hs(Y.content)),J,fe=0;fe<K.length;++fe){var pe=K[fe];pe.id==V&&(J=pe)}var ye=Zr(J.messages[0].data);{ye[3]=[];var de=[];s.forEach(function(me,Ue){de[1]=[{type:0,data:In(Ue)}],de[2]=[{type:0,data:In(1)}],de[3]=[{type:2,data:hPe(me)}],ye[3].push({type:2,data:Ii(de)})})}J.messages[0].data=Ii(ye);var he=rp(K),Ce=ip(he);Y.content=Ce,Y.size=Y.content.length})();var X=Zr(L[3][0].data);{var Q=X[1][0];delete X[2];var ie=Zr(Q.data);{var W=nu(ie[2][0].data);(function(){for(var Y=Bn.find(u,o[W].location),K=Us(Hs(Y.content)),J,fe=0;fe<K.length;++fe){var pe=K[fe];pe.id==W&&(J=pe)}var ye=Zr(J.messages[0].data);{delete ye[6],delete X[7];var de=new Uint8Array(ye[5][0].data);ye[5]=[];for(var he=0,Ce=0;Ce<=r.e.r;++Ce){var me=Zr(de);he+=vPe(me,a[Ce],s),me[1][0].data=In(Ce),ye[5].push({data:Ii(me),type:2})}ye[1]=[{type:0,data:In(r.e.c+1)}],ye[2]=[{type:0,data:In(r.e.r+1)}],ye[3]=[{type:0,data:In(he)}],ye[4]=[{type:0,data:In(r.e.r+1)}]}J.messages[0].data=Ii(ye);var Ue=rp(K),$e=ip(Ue);Y.content=$e,Y.size=Y.content.length})()}Q.data=Ii(ie)}L[3][0].data=Ii(X)}E[4][0].data=Ii(L)}y.messages[0].data=Ii(E);var ce=rp(g),z=ip(ce);return h.content=z,h.size=h.content.length,u}function xPe(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function DM(t){xPe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function bPe(t,e){return e.bookType=="ods"?kJ(t,e):e.bookType=="numbers"?yPe(t,e):e.bookType=="xlsb"?_Pe(t,e):wPe(t,e)}function _Pe(t,e){xp=1024,t&&!t.SSF&&(t.SSF=Oa(Cr)),t&&t.SSF&&(wS(),_S(t.SSF),e.revssf=ES(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=gJ.indexOf(e.bookType)>-1,i=qZ();DM(e=e||{});var a=vM(),s="",o=0;if(e.cellXfs=[],uf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Bt(a,s,YZ(t.Props,e)),i.coreprops.push(s),Dn(e.rels,2,s,yn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Bt(a,s,QZ(t.Props)),i.extprops.push(s),Dn(e.rels,3,s,yn.EXT_PROPS),t.Custprops!==t.Props&&Hi(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Bt(a,s,ZZ(t.Custprops)),i.custprops.push(s),Dn(e.rels,4,s,yn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],g=(h||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+n,Bt(a,s,SOe(o-1,s,e,t,d)),i.sheets.push(s),Dn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,yn.WS[0])}if(h){var y=h["!comments"],_=!1,v="";y&&y.length>0&&(v="xl/comments"+o+"."+n,Bt(a,v,COe(y,v)),i.comments.push(v),Dn(d,-1,"../comments"+o+"."+n,yn.CMNT),_=!0),h["!legacy"]&&_&&Bt(a,"xl/drawings/vmlDrawing"+o+".vml",pJ(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Bt(a,GZ(s),Lp(d))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,Bt(a,s,AOe(e.Strings,s,e)),i.strs.push(s),Dn(e.wbrels,-1,"sharedStrings."+n,yn.SST)),s="xl/workbook."+n,Bt(a,s,EOe(t,s)),i.workbooks.push(s),Dn(e.rels,1,s,yn.WB),s="xl/theme/theme1.xml",Bt(a,s,dJ(t.Themes,e)),i.themes.push(s),Dn(e.wbrels,-1,"theme/theme1.xml",yn.THEME),s="xl/styles."+n,Bt(a,s,TOe(t,s,e)),i.styles.push(s),Dn(e.wbrels,-1,"styles."+n,yn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Bt(a,s,t.vbaraw),i.vba.push(s),Dn(e.wbrels,-1,"vbaProject.bin",yn.VBA)),s="xl/metadata."+n,Bt(a,s,NOe(s)),i.metadata.push(s),Dn(e.wbrels,-1,"metadata."+n,yn.XLMETA),Bt(a,"[Content_Types].xml",WZ(i,e)),Bt(a,"_rels/.rels",Lp(e.rels)),Bt(a,"xl/_rels/workbook."+n+".rels",Lp(e.wbrels)),delete e.revssf,delete e.ssf,a}function wPe(t,e){xp=1024,t&&!t.SSF&&(t.SSF=Oa(Cr)),t&&t.SSF&&(wS(),_S(t.SSF),e.revssf=ES(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=gJ.indexOf(e.bookType)>-1,i=qZ();DM(e=e||{});var a=vM(),s="",o=0;if(e.cellXfs=[],uf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Bt(a,s,YZ(t.Props,e)),i.coreprops.push(s),Dn(e.rels,2,s,yn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Bt(a,s,QZ(t.Props)),i.extprops.push(s),Dn(e.rels,3,s,yn.EXT_PROPS),t.Custprops!==t.Props&&Hi(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Bt(a,s,ZZ(t.Custprops)),i.custprops.push(s),Dn(e.rels,4,s,yn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:s="xl/worksheets/sheet"+o+"."+n,Bt(a,s,TJ(o-1,e,t,h)),i.sheets.push(s),Dn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,yn.WS[0])}if(g){var _=g["!comments"],v=!1,b="";if(_&&_.length>0){var E=!1;_.forEach(function(N){N[1].forEach(function(C){C.T==!0&&(E=!0)})}),E&&(b="xl/threadedComments/threadedComment"+o+"."+n,Bt(a,b,JAe(_,d,e)),i.threadedcomments.push(b),Dn(h,-1,"../threadedComments/threadedComment"+o+"."+n,yn.TCMNT)),b="xl/comments"+o+"."+n,Bt(a,b,mJ(_)),i.comments.push(b),Dn(h,-1,"../comments"+o+"."+n,yn.CMNT),v=!0}g["!legacy"]&&v&&Bt(a,"xl/drawings/vmlDrawing"+o+".vml",pJ(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&Bt(a,GZ(s),Lp(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,Bt(a,s,sJ(e.Strings,e)),i.strs.push(s),Dn(e.wbrels,-1,"sharedStrings."+n,yn.SST)),s="xl/workbook."+n,Bt(a,s,NJ(t)),i.workbooks.push(s),Dn(e.rels,1,s,yn.WB),s="xl/theme/theme1.xml",Bt(a,s,dJ(t.Themes,e)),i.themes.push(s),Dn(e.wbrels,-1,"theme/theme1.xml",yn.THEME),s="xl/styles."+n,Bt(a,s,uJ(t,e)),i.styles.push(s),Dn(e.wbrels,-1,"styles."+n,yn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Bt(a,s,t.vbaraw),i.vba.push(s),Dn(e.wbrels,-1,"vbaProject.bin",yn.VBA)),s="xl/metadata."+n,Bt(a,s,hJ()),i.metadata.push(s),Dn(e.wbrels,-1,"metadata."+n,yn.XLMETA),d.length>1&&(s="xl/persons/person.xml",Bt(a,s,eCe(d)),i.people.push(s),Dn(e.wbrels,-1,"persons/person.xml",yn.PEOPLE)),Bt(a,"[Content_Types].xml",WZ(i,e)),Bt(a,"_rels/.rels",Lp(e.rels)),Bt(a,"xl/_rels/workbook."+n+".rels",Lp(e.wbrels)),delete e.revssf,delete e.ssf,a}function EPe(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=ac(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function jJ(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return dx(e.file,Bn.write(t,{type:Tn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Bn.write(t,e)}function SPe(t,e){var n=Oa(e||{}),r=bPe(t,n);return TPe(r,n)}function TPe(t,e){var n={},r=Tn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Bn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(bS(i))}return e.password&&typeof encrypt_agile<"u"?jJ(encrypt_agile(i,e.password),e):e.type==="file"?dx(e.file,i):e.type=="string"?lv(i):i}function APe(t,e){var n=e||{},r=UOe(t,n);return jJ(r,n)}function Do(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Yv(Qv(r));case"binary":return Qv(r);case"string":return t;case"file":return dx(e.file,r,"utf8");case"buffer":return Tn?vc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Do(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function CPe(t,e){switch(e.type){case"base64":return Yv(t);case"binary":return t;case"string":return t;case"file":return dx(e.file,t,"binary");case"buffer":return Tn?vc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function b_(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Yv(n):e.type=="string"?lv(n):n;case"file":return dx(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function MJ(t,e){tSe(),dOe(t);var n=Oa(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=MJ(t,n);return n.type="array",bS(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Do($Oe(t,n),n);case"slk":case"sylk":return Do(cAe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return Do(RJ(t.Sheets[t.SheetNames[i]],n),n);case"txt":return CPe(LJ(t.Sheets[t.SheetNames[i]],n),n);case"csv":return Do(kM(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return Do(uAe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return b_(lAe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return Do(fAe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return Do(yAe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return Do(aJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return Do(kJ(t,n),n);case"wk1":return b_(t$.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return b_(t$.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),b_(PJ(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),APe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return SPe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function NPe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function OPe(t,e,n){var r={};return r.type="file",r.file=e,NPe(r),MJ(t,r)}function PPe(t,e,n,r,i,a,s,o){var l=Vi(n),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!s||t[n])for(var y=e.s.c;y<=e.e.c;++y){var _=s?t[n][y]:t[r[y]+l];if(_===void 0||_.t===void 0){if(u===void 0)continue;a[y]!=null&&(g[a[y]]=u);continue}var v=_.v;switch(_.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(a[y]!=null){if(v==null)if(_.t=="e"&&v===null)g[a[y]]=null;else if(u!==void 0)g[a[y]]=u;else if(d&&v===null)g[a[y]]=null;else continue;else g[a[y]]=d&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?v:sc(_,v,o);v!=null&&(h=!1)}}return{row:g,isempty:h}}function cw(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof d){case"string":l=lr(d);break;case"number":l=lr(t["!ref"]),l.s.r=d;break;default:l=d}r>0&&(i=0);var h=Vi(l.s.r),g=[],y=[],_=0,v=0,b=Array.isArray(t),E=l.s.r,N=0,C={};b&&!t[E]&&(t[E]=[]);var k=u.skipHidden&&t["!cols"]||[],O=u.skipHidden&&t["!rows"]||[];for(N=l.s.c;N<=l.e.c;++N)if(!(k[N]||{}).hidden)switch(g[N]=ea(N),n=b?t[E][N]:t[g[N]+h],r){case 1:a[N]=N-l.s.c;break;case 2:a[N]=g[N];break;case 3:a[N]=u.header[N-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=s=sc(n,null,u),v=C[s]||0,!v)C[s]=1;else{do o=s+"_"+v++;while(C[o]);C[s]=v,C[o]=1}a[N]=o}for(E=l.s.r+i;E<=l.e.r;++E)if(!(O[E]||{}).hidden){var I=PPe(t,l,E,g,r,a,b,u);(I.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(y[_++]=I.row)}return y.length=_,y}var c$=/"/g;function RPe(t,e,n,r,i,a,s,o){for(var l=!0,u=[],d="",h=Vi(n),g=e.s.c;g<=e.e.c;++g)if(r[g]){var y=o.dense?(t[n]||[])[g]:t[r[g]+h];if(y==null)d="";else if(y.v!=null){l=!1,d=""+(o.rawNumbers&&y.t=="n"?y.v:sc(y,null,o));for(var _=0,v=0;_!==d.length;++_)if((v=d.charCodeAt(_))===i||v===a||v===34||o.forceQuotes){d='"'+d.replace(c$,'""')+'"';break}d=="ID"&&(d='"ID"')}else y.f!=null&&!y.F?(l=!1,d="="+y.f,d.indexOf(",")>=0&&(d='"'+d.replace(c$,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(s)}function kM(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=lr(t["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",h=[];r.dense=Array.isArray(t);for(var g=r.skipHidden&&t["!cols"]||[],y=r.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(g[_]||{}).hidden||(h[_]=ea(_));for(var v=0,b=i.s.r;b<=i.e.r;++b)(y[b]||{}).hidden||(d=RPe(t,i,b,h,s,l,a,r),d!=null&&(r.strip&&(d=d.replace(u,"")),(d||r.blankrows!==!1)&&n.push((v++?o:"")+d)));return delete r.dense,n.join("")}function LJ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=kM(t,e);return n}function IPe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=lr(t["!ref"]),a="",s=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=ea(o);for(var d=i.s.r;d<=i.e.r;++d)for(a=Vi(d),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,n=u?(t[d]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function FJ(t,e,n){var r=n||{},i=+!r.skipHeader,a=t||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Ei(r.origin):r.origin;s=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var h=lr(a["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(s=h.e.r+1,d.e.r=s+e.length-1+i)}else s==-1&&(s=0,d.e.r=e.length-1+i);var g=r.header||[],y=0;e.forEach(function(v,b){Hi(v).forEach(function(E){(y=g.indexOf(E))==-1&&(g[y=g.length]=E);var N=v[E],C="z",k="",O=jn({c:o+y,r:s+b+i});u=ey(a,O),N&&typeof N=="object"&&!(N instanceof Date)?a[O]=N:(typeof N=="number"?C="n":typeof N=="boolean"?C="b":typeof N=="string"?C="s":N instanceof Date?(C="d",r.cellDates||(C="n",N=Na(N)),k=r.dateNF||Cr[14]):N===null&&r.nullError&&(C="e",N=0),u?(u.t=C,u.v=N,delete u.w,delete u.R,k&&(u.z=k)):a[O]=u={t:C,v:N},k&&(u.z=k))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var _=Vi(s);if(i)for(y=0;y<g.length;++y)a[ea(y+o)+_]={t:"s",v:g[y]};return a["!ref"]=Vr(d),a}function DPe(t,e){return FJ(null,t,e)}function ey(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Ei(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ey(t,jn(e)):ey(t,jn({r:e,c:n||0}))}function kPe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function jPe(){return{SheetNames:[],Sheets:{}}}function MPe(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=s+i)!=-1;++i);}if(CJ(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function LPe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=kPe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function FPe(t,e){return t.z=e,t}function BJ(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function BPe(t,e,n){return BJ(t,"#"+e,n)}function $Pe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function VPe(t,e,n,r){for(var i=typeof e!="string"?e:lr(e),a=typeof e=="string"?e:Vr(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=ey(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var l2={encode_col:ea,encode_row:Vi,encode_cell:jn,encode_range:Vr,decode_col:EM,decode_row:wM,split_cell:tTe,decode_cell:Ei,decode_range:rs,format_cell:sc,sheet_add_aoa:BZ,sheet_add_json:FJ,sheet_add_dom:IJ,aoa_to_sheet:h0,json_to_sheet:DPe,table_to_sheet:DJ,table_to_book:uPe,sheet_to_csv:kM,sheet_to_txt:LJ,sheet_to_json:cw,sheet_to_html:RJ,sheet_to_formulae:IPe,sheet_to_row_object_array:cw,sheet_get_cell:ey,book_new:jPe,book_append_sheet:MPe,book_set_sheet_visibility:LPe,cell_set_number_format:FPe,cell_set_hyperlink:BJ,cell_set_internal_link:BPe,cell_add_comment:$Pe,sheet_set_array_formula:VPe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const u$=(t,e="cases_export.xlsx")=>{if(!t||t.length===0){console.warn("No cases data to export");return}const n=new Set;t.forEach(l=>{$J(l,"",n)});const r=Array.from(n).sort(),i=t.map(l=>{const u={};return r.forEach(d=>{const h=UPe(l,d);u[f$(d)]=HPe(h)}),u}),a=l2.book_new(),s=l2.json_to_sheet(i),o=r.map(l=>{const u=f$(l),d=Math.max(u.length,...i.map(h=>String(h[u]||"").length));return{wch:Math.min(Math.max(d+2,10),50)}});s["!cols"]=o,l2.book_append_sheet(a,s,"Cases"),OPe(a,e)},$J=(t,e="",n)=>{t!=null&&(typeof t=="object"&&!Array.isArray(t)&&!(t instanceof Date)?Object.keys(t).forEach(r=>{const i=e?`${e}.${r}`:r;n.add(i),$J(t[r],i,n)}):e&&n.add(e))},UPe=(t,e)=>e?e.split(".").reduce((n,r)=>n==null?null:n[r],t):t,f$=t=>t.split(".").map(e=>e.replace(/([A-Z])/g," $1").replace(/^./,n=>n.toUpperCase()).trim()).join(" > "),HPe=t=>{if(t==null)return"";if(t instanceof Date)return t.toLocaleDateString("en-US");if(t&&typeof t=="object"&&typeof t.toDate=="function")try{return t.toDate().toLocaleDateString("en-US")}catch(e){return console.error("Error formatting date:",e),"Invalid Date"}if(Array.isArray(t))return t.join(", ");if(typeof t=="object")try{return JSON.stringify(t)}catch{return"[Object]"}return typeof t=="boolean"?t?"Yes":"No":String(t)},As={formatDate:t=>{var e;if(!t)return"N/A";try{return(((e=t.toDate)==null?void 0:e.call(t))||(t instanceof Date?t:new Date(t))).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},formatTime:t=>{var e;if(!t)return"N/A";try{return(((e=t.toDate)==null?void 0:e.call(t))||(t instanceof Date?t:new Date(t))).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Time"}},formatDateTime:t=>t?`${As.formatDate(t)} ${As.formatTime(t)}`:"N/A",calculateTimeDifference:(t,e)=>{var n,r;if(!t||!e)return"N/A";try{const i=((n=t.toDate)==null?void 0:n.call(t))||(t instanceof Date?t:new Date(t)),s=(((r=e.toDate)==null?void 0:r.call(e))||(e instanceof Date?e:new Date(e)))-i;if(isNaN(s))return"Invalid";const o=Math.floor(s/1e3/60),l=Math.floor(o/60),u=Math.floor(l/24);return u>0?`${u}d ${l%24}h ${o%60}m`:l>0?`${l}h ${o%60}m`:`${o}m`}catch{return"Error"}}},jM={getCaseStatus:t=>{var e,n,r,i,a;return{isIncomplete:t.isIncomplete===!0,isCompleted:t.doctorCompleted&&t.pharmacistCompleted,isDoctorCompleted:t.doctorCompleted,isPharmacistCompleted:t.pharmacistCompleted,hasTransfers:((e=t.transferHistory)==null?void 0:e.length)>0,transferCount:t.transferCount||0,hasDoctorTransfers:((n=t.transferHistory)==null?void 0:n.some(s=>s.transferType==="doctor"))||!1,hasPharmacistTransfers:((r=t.transferHistory)==null?void 0:r.some(s=>s.transferType==="pharmacist"))||!1,doctorTransferCount:((i=t.transferHistory)==null?void 0:i.filter(s=>s.transferType==="doctor").length)||0,pharmacistTransferCount:((a=t.transferHistory)==null?void 0:a.filter(s=>s.transferType==="pharmacist").length)||0}},getStatusBadge:(t,e="case")=>t.isIncomplete?{className:"bg-red-100 text-red-800 border-red-200",label:"Incomplete",icon:Vv}:e==="doctor"?t.isDoctorCompleted?{className:"bg-green-100 text-green-800 border-green-200",label:"Completed",icon:DC}:{className:"bg-amber-100 text-amber-800 border-amber-200",label:"Pending",icon:Ip}:e==="pharmacist"?t.isPharmacistCompleted?{className:"bg-green-100 text-green-800 border-green-200",label:"Completed",icon:DC}:{className:"bg-amber-100 text-amber-800 border-amber-200",label:"Pending",icon:Ip}:t.isCompleted?{className:"bg-green-700 text-white",label:"Completed",icon:DC}:{className:"bg-blue-800 text-white",label:"Pending",icon:Ip},getTransferTypeBadge:t=>t==="doctor"?{className:"bg-blue-100 text-blue-800 border-blue-200",label:"Doctor Transfer",icon:tm}:t==="pharmacist"?{className:"bg-green-100 text-green-800 border-green-200",label:"Pharmacist Transfer",icon:Ed}:{className:"bg-gray-100 text-gray-800 border-gray-200",label:"Transfer",icon:yp}},Lo=ae.memo(({label:t,value:e,className:n=""})=>p.jsxs("div",{className:n,children:[p.jsx("label",{className:"text-sm font-medium text-gray-500",children:t}),p.jsx("p",{className:"font-medium break-words",children:e||"N/A"})]})),ap=ae.memo(({status:t,type:e})=>{const n=jM.getStatusBadge(t,e),r=n.icon;return p.jsxs(Gn,{variant:"outline",className:n.className,children:[p.jsx(r,{className:"h-3 w-3 mr-1"}),n.label]})}),Pg=ae.memo(({leftLabel:t,leftValue:e,rightLabel:n,rightValue:r,className:i=""})=>p.jsxs("div",{className:`flex items-center justify-between border-b pb-2 ${i}`,children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-500",children:t}),p.jsx("p",{children:e})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("label",{className:"text-sm font-medium text-gray-500",children:n}),p.jsx("p",{children:r})]})]})),zPe=ae.memo(({transfer:t,index:e,totalTransfers:n})=>{const r=jM.getTransferTypeBadge(t.transferType),i=r.icon;return p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(yp,{className:"h-4 w-4 text-orange-600"}),p.jsxs("span",{className:"font-medium text-gray-900",children:["Transfer #",n-e]}),p.jsxs(Gn,{variant:"outline",className:r.className,children:[p.jsx(i,{className:"h-3 w-3 mr-1"}),r.label]})]}),p.jsx(Gn,{variant:"outline",className:"text-xs",children:As.formatDateTime(t.transferredAt)})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsx(Lo,{label:`From ${t.transferType==="doctor"?"Doctor":"Pharmacist"}:`,value:t.transferredFromName||"Unassigned"}),p.jsx(Lo,{label:`To ${t.transferType==="doctor"?"Doctor":"Pharmacist"}:`,value:t.transferredToName}),p.jsx(Lo,{label:"Transferred By:",value:t.transferredByName}),p.jsx(Lo,{label:"Reason:",value:t.transferReason})]}),p.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[t.version&&p.jsxs("span",{children:["Case Version: ",t.version]}),t.transferType&&p.jsxs("span",{className:"flex items-center",children:[p.jsx(Rj,{className:"h-3 w-3 mr-1"}),t.transferType==="doctor"?"Doctor Assignment":"Pharmacist Assignment"]})]}),t.isBulkTransfer&&p.jsxs(Gn,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[p.jsx(s0,{className:"h-2 w-2 mr-1"}),"Bulk Transfer"]})]}),!t.transferType&&p.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",children:[p.jsx(Dj,{className:"h-3 w-3 inline mr-1"}),"Legacy transfer record (pre-enhancement)"]})]})}),qPe=ae.memo(({status:t,caseData:e})=>{var n;return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(tm,{className:"h-4 w-4 text-blue-600 mr-2"}),p.jsx("span",{className:"font-medium text-blue-900",children:"Doctor Transfers"})]}),p.jsx(Gn,{className:"bg-blue-600 text-white",children:t.doctorTransferCount})]}),p.jsxs("p",{className:"text-xs text-blue-800 mt-1",children:["Current: ",((n=e.assignedDoctors)==null?void 0:n.primaryName)||"Not assigned"]})]}),p.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ed,{className:"h-4 w-4 text-green-600 mr-2"}),p.jsx("span",{className:"font-medium text-green-900",children:"Pharmacist Transfers"})]}),p.jsx(Gn,{className:"bg-green-600 text-white",children:t.pharmacistTransferCount})]}),p.jsxs("p",{className:"text-xs text-green-800 mt-1",children:["Current: ",e.pharmacistName||"Not assigned"]})]})]}),t.transferCount>3&&p.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ti,{className:"h-4 w-4 text-amber-700 mr-2"}),p.jsx("span",{className:"text-amber-900 font-medium",children:"High Transfer Activity"})]}),p.jsxs("p",{className:"text-amber-800 text-sm mt-1",children:["This case has been transferred ",t.transferCount," times. Consider reviewing for complexity or workload distribution issues."]}),t.doctorTransferCount>2&&p.jsxs("p",{className:"text-amber-700 text-xs mt-1",children:[" Multiple doctor transfers (",t.doctorTransferCount,") may indicate case complexity"]}),t.pharmacistTransferCount>2&&p.jsxs("p",{className:"text-amber-700 text-xs mt-1",children:[" Multiple pharmacist transfers (",t.pharmacistTransferCount,") may indicate workload issues"]})]}),e.lastTransferredAt&&p.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-medium text-gray-900",children:"Last Transfer"}),p.jsx("span",{className:"text-sm text-gray-600",children:As.formatDateTime(e.lastTransferredAt)})]})})]})}),d$=({caseData:t,userRole:e,currentUser:n})=>{var g;const[r,i]=T.useState(!1),[a,s]=T.useState(""),[o,l]=T.useState("details"),u=T.useMemo(()=>{var _,v,b,E,N,C,k;const y=jM.getCaseStatus(t);return{status:y,caseTitle:`Case ${t.emrNumber||t.caseNumber||((_=t.id)==null?void 0:_.substring(0,8))||"Details"}`,canUpdateDoctorStatus:e==="doctor"&&!t.doctorCompleted,canUpdatePharmacistStatus:e==="pharmacist"&&!t.pharmacistCompleted,canUpdateAnyStatus:["superAdmin","zonalHead","teamLeader"].includes(e),emrNumbers:t.emrNumber||((v=t.emrNumbers)==null?void 0:v.join(", "))||"N/A",patientNames:t.patientName||((b=t.patientNames)==null?void 0:b.join(", "))||"N/A",chiefComplaints:t.chiefComplaint||((E=t.chiefComplaints)==null?void 0:E.join(", "))||"N/A",timeline:{createdAt:As.formatDateTime(t.createdAt),doctorCompletedAt:y.isIncomplete?"Incomplete":t.doctorCompleted?As.formatDateTime(t.doctorCompletedAt):"Pending",pharmacistCompletedAt:y.isIncomplete?"Incomplete":t.pharmacistCompleted?As.formatDateTime(t.pharmacistCompletedAt):"Pending",doctorTAT:y.isIncomplete?"N/A":t.doctorCompleted?As.calculateTimeDifference(t.doctorJoined??t.createdAt,t.doctorCompletedAt):"Pending",overallTAT:y.isIncomplete?"N/A":t.pharmacistCompleted?As.calculateTimeDifference(t.pharmacistJoined??t.createdAt,t.pharmacistCompletedAt):"In progress"},sortedTransferHistory:((N=t.transferHistory)==null?void 0:N.sort((O,I)=>{const A=O.transferredAt instanceof Date?O.transferredAt:new Date(O.transferredAt);return(I.transferredAt instanceof Date?I.transferredAt:new Date(I.transferredAt))-A}))||[],doctorTransferHistory:((C=t.transferHistory)==null?void 0:C.filter(O=>O.transferType==="doctor").sort((O,I)=>{const A=O.transferredAt instanceof Date?O.transferredAt:new Date(O.transferredAt);return(I.transferredAt instanceof Date?I.transferredAt:new Date(I.transferredAt))-A}))||[],pharmacistTransferHistory:((k=t.transferHistory)==null?void 0:k.filter(O=>O.transferType==="pharmacist").sort((O,I)=>{const A=O.transferredAt instanceof Date?O.transferredAt:new Date(O.transferredAt);return(I.transferredAt instanceof Date?I.transferredAt:new Date(I.transferredAt))-A}))||[]}},[t,e]);T.useCallback(async y=>{i(!0),s("");try{const _=hn(st,"cases",t.id),v={updatedAt:fn.now(),updatedBy:n.uid};y==="doctor"?(v.doctorCompleted=!0,v.doctorCompletedBy=n.uid,v.doctorCompletedAt=fn.now()):y==="pharmacist"&&(v.pharmacistCompleted=!0,v.pharmacistCompletedBy=n.uid,v.pharmacistCompletedAt=fn.now()),(y==="doctor"&&t.pharmacistCompleted||y==="pharmacist"&&t.doctorCompleted)&&(v.status="completed",v.completedAt=fn.now()),await iY(_,v)}catch(_){console.error(`Error updating case ${y} status:`,_),s("Failed to update case status. Please try again.")}finally{i(!1)}},[t.id,t.pharmacistCompleted,t.doctorCompleted,n.uid]);const d=T.useCallback(()=>{window.dispatchEvent(new CustomEvent("closeDialog"))},[]),h=T.useMemo(()=>{var y;return{details:p.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(Lo,{label:"EMR Number(s)",value:u.emrNumbers}),p.jsx(Lo,{label:"Clinic",value:t.clinicCode||t.clinicName}),p.jsx(Lo,{label:"Partner",value:t.partnerName}),p.jsx(Lo,{label:"Patient Name(s)",value:u.patientNames}),p.jsx(Lo,{label:"Chief Complaint(s)",value:u.chiefComplaints})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Doctor"}),p.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[p.jsx("span",{className:"mr-2",children:t.doctorName||((y=t.assignedDoctors)==null?void 0:y.primaryName)||"N/A"}),p.jsx(ap,{status:u.status,type:"doctor"}),u.status.hasDoctorTransfers&&p.jsxs(Gn,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-200",children:[p.jsx(tm,{className:"h-3 w-3 mr-1"}),u.status.doctorTransferCount," Transfer",u.status.doctorTransferCount!==1?"s":""]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Pharmacist"}),p.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[p.jsx("span",{className:"mr-2",children:t.pharmacistName||"N/A"}),p.jsx(ap,{status:u.status,type:"pharmacist"}),u.status.hasPharmacistTransfers&&p.jsxs(Gn,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:[p.jsx(Ed,{className:"h-3 w-3 mr-1"}),u.status.pharmacistTransferCount," Transfer",u.status.pharmacistTransferCount!==1?"s":""]})]})]}),p.jsx(Lo,{label:"Contact Info",value:t.contactInfo,className:"break-words"}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Queue Status"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ap,{status:u.status,type:"case"}),u.status.hasTransfers&&p.jsxs(Gn,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-200",children:[p.jsx(yp,{className:"h-3 w-3 mr-1"}),u.status.transferCount," Total Transfer",u.status.transferCount!==1?"s":""]})]})]})]})]}),timeline:p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsx(Pg,{leftLabel:"Created By",leftValue:t.createdByName||"N/A",rightLabel:"Created At",rightValue:u.timeline.createdAt}),p.jsx(Pg,{leftLabel:"Doctor Completed By",leftValue:u.status.isIncomplete?"Incomplete":t.doctorCompleted?t.doctorCompletedByName||"Unknown":"Pending",rightLabel:"Doctor Completed At",rightValue:u.timeline.doctorCompletedAt}),p.jsx(Pg,{leftLabel:"Pharmacist Completed By",leftValue:u.status.isIncomplete?"Incomplete":t.pharmacistCompleted?t.pharmacistCompletedByName||"Unknown":"Pending",rightLabel:"Pharmacist Completed At",rightValue:u.timeline.pharmacistCompletedAt}),p.jsx(Pg,{leftLabel:"Doctor TAT",leftValue:u.timeline.doctorTAT,rightLabel:"Doctor Process Time",rightValue:u.status.isIncomplete?"N/A":t.doctorCompleted?As.calculateTimeDifference(t.createdAt,t.doctorCompletedAt):"In progress"}),p.jsx(Pg,{leftLabel:"Overall TAT",leftValue:u.timeline.overallTAT,rightLabel:"Total Process Time",rightValue:u.status.isIncomplete?"N/A":t.pharmacistCompleted?As.calculateTimeDifference(t.createdAt,t.pharmacistCompletedAt):"In progress"}),t.status==="doctor_incomplete"&&p.jsx("div",{className:"bg-red-50 p-3 rounded-md border border-red-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-red-800",children:"Case Status"}),p.jsx("p",{className:"text-red-700 font-medium",children:"Doctor marked as incomplete"})]}),p.jsx(ap,{status:u.status,type:"case"})]})}),t.status==="pharmacist_incomplete"&&p.jsx("div",{className:"bg-red-50 p-3 rounded-md border border-red-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-red-800",children:"Case Status"}),p.jsx("p",{className:"text-red-700 font-medium",children:"Pharmacist marked as incomplete"})]}),p.jsx(ap,{status:u.status,type:"case"})]})})]}),notes:p.jsxs("div",{className:"p-4 space-y-4",children:[[{label:"Chief Complaint",content:t.chiefComplaint},{label:"Notes",content:t.notes},{label:"Doctor Notes",content:t.doctorNotes},{label:"Pharmacist Notes",content:t.pharmacistNotes}].map(({label:_,content:v})=>v&&p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-sm font-medium text-gray-500",children:_}),p.jsx("div",{className:"p-3 bg-gray-50 rounded-md whitespace-pre-line",children:v})]},_)),!t.chiefComplaint&&!t.notes&&!t.doctorNotes&&!t.pharmacistNotes&&p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(_8,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),"No notes available for this case"]}),u.status.isIncomplete&&p.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-md border border-red-200",children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx(Vv,{className:"h-4 w-4 text-red-600 mr-2"}),p.jsx("label",{className:"text-sm font-medium text-red-800",children:"Case Marked Incomplete"})]}),p.jsx("p",{className:"text-red-700 mb-2",children:"This case has been marked as incomplete and will not proceed to the standard workflow."}),t.incompleteReason&&p.jsxs("div",{className:"mt-2",children:[p.jsx("label",{className:"text-sm font-medium text-red-800",children:"Reason:"}),p.jsx("div",{className:"p-2 bg-red-100 rounded-md mt-1 whitespace-pre-line",children:t.incompleteReason})]})]})]}),transfers:u.status.hasTransfers&&p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(wge,{className:"h-5 w-5 text-orange-600 mr-2"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer History"})]}),p.jsxs(Gn,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-200",children:[u.status.transferCount," Total Transfer",u.status.transferCount!==1?"s":""]})]}),p.jsx(qPe,{status:u.status,caseData:t})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[p.jsx(Rj,{className:"h-4 w-4 mr-2"}),"All Transfer Activities"]}),u.sortedTransferHistory.length>0?u.sortedTransferHistory.map((_,v)=>p.jsx(zPe,{transfer:_,index:v,totalTransfers:u.sortedTransferHistory.length},v)):p.jsxs("div",{className:"text-center py-6 text-gray-500",children:[p.jsx(yp,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),p.jsx("p",{children:"No detailed transfer history available"})]})]}),(t.transferredFrom||t.transferredAt)&&p.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx(Dj,{className:"h-4 w-4 text-blue-600 mr-2"}),p.jsx("span",{className:"font-medium text-blue-900",children:"Legacy Transfer Information"})]}),p.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[t.transferredFromName&&p.jsxs("p",{children:["Previous Doctor: ",t.transferredFromName]}),t.transferredAt&&p.jsxs("p",{children:["Last Transfer: ",As.formatDateTime(t.transferredAt)]}),t.transferredByName&&p.jsxs("p",{children:["Transferred By: ",t.transferredByName]})]})]})]})}},[t,u]);return p.jsxs("div",{className:"max-w-7xl max-h-[80vh] flex flex-col",children:[p.jsx(ic,{className:"sr-only",children:u.caseTitle}),p.jsxs("div",{className:"bg-blue-900 text-white p-3 flex justify-between items-center sticky top-0 z-10",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(xge,{className:"h-5 w-5 mr-2"}),p.jsxs("h2",{className:"text-lg font-medium",children:["Case ",t.emrNumber||((g=t.id)==null?void 0:g.substring(0,8))]}),u.status.hasTransfers&&p.jsxs("div",{className:"ml-3 flex items-center space-x-2",children:[p.jsxs(Gn,{variant:"outline",className:"bg-orange-700 text-white border-orange-600",children:[p.jsx(yp,{className:"h-3 w-3 mr-1"}),u.status.transferCount," Total"]}),u.status.hasDoctorTransfers&&p.jsxs(Gn,{variant:"outline",className:"bg-blue-700 text-white border-blue-600",children:[p.jsx(tm,{className:"h-3 w-3 mr-1"}),u.status.doctorTransferCount]}),u.status.hasPharmacistTransfers&&p.jsxs(Gn,{variant:"outline",className:"bg-green-700 text-white border-green-600",children:[p.jsx(Ed,{className:"h-3 w-3 mr-1"}),u.status.pharmacistTransferCount]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ap,{status:u.status,type:"case"}),p.jsx(nt,{variant:"outline",className:"h-8 px-2 bg-blue-800 hover:bg-blue-700 text-white",onClick:d,children:"Close"})]})]}),a&&p.jsxs(nn,{variant:"destructive",className:"m-2",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:a})]}),p.jsxs(dM,{value:o,onValueChange:l,className:"flex-2 overflow-hidden flex flex-col",children:[p.jsx("div",{className:"border-b px-4",children:p.jsxs(hM,{className:"bg-transparent pt-2",children:[p.jsxs(Bo,{value:"details",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:[p.jsx(Yge,{className:"h-4 w-4 mr-2"}),"Basic Info"]}),p.jsxs(Bo,{value:"timeline",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:[p.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Timeline"]}),p.jsxs(Bo,{value:"notes",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:[p.jsx(_8,{className:"h-4 w-4 mr-2"}),"Notes"]}),u.status.hasTransfers&&p.jsxs(Bo,{value:"transfers",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:[p.jsx(yp,{className:"h-4 w-4 mr-2"}),"Transfer History",p.jsx(Gn,{variant:"secondary",className:"ml-2 bg-orange-200 text-orange-800",children:u.status.transferCount})]})]})}),p.jsxs("div",{className:"flex-1 overflow-auto",children:[p.jsx($o,{value:"details",className:"p-0 m-0 h-full",children:h.details}),p.jsx($o,{value:"timeline",className:"p-0 m-0 h-full",children:h.timeline}),p.jsx($o,{value:"notes",className:"p-0 m-0 h-full",children:h.notes}),u.status.hasTransfers&&p.jsx($o,{value:"transfers",className:"p-0 m-0 h-full",children:h.transfers})]})]})]})},WPe=t=>{var e;return{...t,computed:{isIncomplete:t.isIncomplete===!0||t.status==="doctor_incomplete"||t.status==="pharmacist_incomplete",clinicDisplay:t.clinicCode||t.clinicName||"N/A",partnerDisplay:t.partnerName||"N/A",doctorDisplay:t.doctorName||((e=t.assignedDoctors)==null?void 0:e.primaryName)||"N/A",createdDate:h$(t.createdAt),createdTime:p$(t.createdAt),doctorJoinedDisplay:t.doctorJoined?`${h$(t.doctorJoined)} ${p$(t.doctorJoined)}`:"Pending",doctorTAT:m$(t,"doctor"),overallTAT:m$(t,"overall"),queueStatus:GPe(t),contactType:/^\d+$/.test(t.contactInfo)?"phone":"video",actionLinks:{meet:t.meetLink,audio:t.audioLink,emr:t.emrLink,contact:t.contactInfo}}}},h$=t=>{var e;if(!t)return"N/A";try{return(((e=t.toDate)==null?void 0:e.call(t))||(t instanceof Date?t:new Date(t))).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},p$=t=>{var e;if(!t)return"N/A";try{return(((e=t.toDate)==null?void 0:e.call(t))||(t instanceof Date?t:new Date(t))).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Time"}},m$=(t,e)=>t.isIncomplete===!0||t.status==="doctor_incomplete"||t.status==="pharmacist_incomplete"?{type:"incomplete",display:"Incomplete"}:e==="doctor"?t.doctorCompleted?{type:"completed",display:g$(t.doctorJoined??t.createdAt,t.doctorCompletedAt)}:{type:"progress",display:"In progress"}:e==="overall"?t.pharmacistCompleted?{type:"completed",display:g$(t.pharmacistJoined??t.createdAt,t.pharmacistCompletedAt)}:{type:"progress",display:"In progress"}:{type:"unknown",display:"N/A"},g$=(t,e)=>{var n,r;if(!t||!e)return"N/A";try{const i=((n=t.toDate)==null?void 0:n.call(t))||(t instanceof Date?t:new Date(t)),s=(((r=e.toDate)==null?void 0:r.call(e))||(e instanceof Date?e:new Date(e)))-i;if(isNaN(s))return"Invalid";const o=Math.floor(s/1e3/60),l=Math.floor(o/60),u=Math.floor(l/24);return u>0?`${u}d ${l%24}h ${o%60}m`:l>0?`${l}h ${o%60}m`:`${o}m`}catch{return"Error"}},GPe=t=>t.isIncomplete===!0||t.status==="doctor_incomplete"||t.status==="pharmacist_incomplete"?{status:"incomplete",label:"Incomplete",className:"bg-red-100 text-red-800 border-red-200"}:t.doctorCompleted?t.doctorCompleted&&!t.pharmacistCompleted?{status:"pharmacist",label:"Pharmacist",className:"bg-purple-100 text-purple-800 border-purple-200"}:{status:"completed",label:"Completed",className:"bg-gray-100 text-gray-800 border-gray-200"}:{status:"doctor",label:"Doctor",className:"bg-amber-100 text-amber-800 border-amber-200"},v$=ae.memo(({tat:t})=>t.type==="incomplete"?p.jsx("span",{className:"text-red-600",children:t.display}):t.type==="progress"?p.jsx("span",{className:"text-amber-600",children:t.display}):t.type==="completed"?p.jsxs("span",{className:"flex items-center",children:[p.jsx(Ip,{className:"h-3 w-3 mr-1 text-green-600"}),t.display]}):p.jsx("span",{children:t.display})),KPe=ae.memo(({contactInfo:t,contactType:e,onClick:n})=>{const r=T.useCallback(i=>{i.stopPropagation(),e==="phone"?window.open(`tel:${t}`,"_blank"):window.open(t,"_blank"),n==null||n(i)},[t,e,n]);return p.jsx(nt,{variant:"ghost",size:"icon",onClick:r,title:e==="phone"?t:"Open Video Call",className:"h-8 w-8 flex items-center justify-center",children:e==="phone"?p.jsx(xY,{className:"!h-5 !w-5 text-blue-500"}):p.jsx(bY,{className:"!h-5 !w-5 text-blue-500"})})}),YPe=ae.memo(({actionLinks:t,onDetailClick:e})=>{const n=T.useCallback(r=>r.stopPropagation(),[]);return p.jsxs("div",{className:"flex items-center space-x-1",onClick:n,children:[t.meet&&p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>window.open(t.meet,"_blank"),title:"Open Google Meet",className:"h-8 w-8",children:p.jsx(bY,{className:"h-4 w-4 text-blue-500"})}),t.audio&&p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>window.open(t.audio,"_blank"),title:"Open Audio Call",className:"h-8 w-8",children:p.jsx(xY,{className:"h-4 w-4 text-green-500"})}),t.emr&&p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>window.open(t.emr,"_blank"),title:"Open EMR",className:"h-8 w-8",children:p.jsx(yY,{className:"h-4 w-4 text-purple-500"})}),p.jsx(nt,{variant:"ghost",size:"icon",onClick:e,title:"View Details",className:"h-8 w-8",children:p.jsx(gge,{className:"h-4 w-4"})})]})}),XPe=(t,e,n)=>{const[r,i]=T.useState(1),[a]=T.useState(10),s=e!==null&&n!==null;T.useEffect(()=>{e!=null&&e.page&&i(e.page)},[e==null?void 0:e.page]);const o=T.useMemo(()=>s?t:t.slice((r-1)*a,r*a),[t,r,a,s]),l=T.useMemo(()=>s?e.totalPages||Math.ceil(e.totalItems/e.pageSize)||1:Math.ceil(t.length/a),[s,e,t.length,a]),u=T.useCallback(()=>{r<l&&(s&&n(r+1,e.lastDoc),i(r+1))},[r,l,s,n,e]),d=T.useCallback(()=>{r>1&&(s&&n(r-1),i(r-1))},[r,s,n]);return{currentCases:o,currentPage:r,totalPages:l,nextPage:u,prevPage:d,isServerPagination:s}},QPe=({data:t,loading:e,userRole:n,currentUser:r,showHeader:i=!0,pagination:a=null,onPageChange:s=null})=>{const[o,l]=T.useState(null),u=T.useMemo(()=>t.map(WPe),[t]),{currentCases:d,currentPage:h,totalPages:g,nextPage:y,prevPage:_,isServerPagination:v}=XPe(u,a,s),b=T.useCallback(A=>{l(A)},[]),E=T.useCallback(()=>{l(null)},[]),N=T.useCallback(A=>R=>{R.stopPropagation(),l(A)},[]);T.useEffect(()=>{const A=()=>l(null);return window.addEventListener("closeDialog",A),()=>window.removeEventListener("closeDialog",A)},[]);const C=T.useMemo(()=>{if(v)return`Page ${h}${a.hasMore?" (more available)":""}`;const A=Math.min(t.length,(h-1)*10+1),R=Math.min(h*10,t.length);return`Showing ${A} to ${R} of ${t.length} cases`},[v,h,a,t.length]),k=T.useMemo(()=>!(v&&!a.hasMore&&h===1||!v&&t.length<=10),[v,a,h,t.length]),O=T.useMemo(()=>d.map(A=>p.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer border-b ${A.computed.isIncomplete?"bg-red-50":""}`,onClick:()=>b(A),children:[p.jsx("td",{className:"p-3 font-medium",children:A.computed.clinicDisplay}),p.jsx("td",{className:"p-3",children:A.manualClinicCode??"N/A"}),p.jsx("td",{className:"p-3",children:A.computed.partnerDisplay}),p.jsx("td",{className:"p-3",children:A.computed.doctorDisplay}),p.jsx("td",{className:"p-3",children:A.computed.doctorJoinedDisplay}),p.jsx("td",{className:"p-3 whitespace-nowrap",children:p.jsx(v$,{tat:A.computed.doctorTAT})}),p.jsx("td",{className:"p-3 whitespace-nowrap",children:p.jsx(v$,{tat:A.computed.overallTAT})}),p.jsxs("td",{className:"p-3",children:[A.computed.createdTime,"; ",A.computed.createdDate]}),p.jsx("td",{className:"p-0",children:p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx(KPe,{contactInfo:A.contactInfo,contactType:A.computed.contactType})})}),p.jsx("td",{className:"p-3",children:p.jsx(YPe,{actionLinks:A.computed.actionLinks,onDetailClick:N(A)})})]},A.id)),[d,b,N]),I=T.useMemo(()=>k?p.jsx("tr",{className:"border-t bg-gray-50",children:p.jsx("td",{colSpan:"13",children:p.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[p.jsx("div",{className:"text-sm text-gray-500",children:C}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(nt,{variant:"outline",size:"sm",onClick:_,disabled:h===1,children:p.jsx(L1,{className:"h-4 w-4"})}),p.jsxs("span",{className:"text-sm",children:["Page ",h," ",v?"":`of ${g}`]}),p.jsx(nt,{variant:"outline",size:"sm",onClick:y,disabled:v?!a.hasMore:h===g,children:p.jsx(F1,{className:"h-4 w-4"})})]})]})})}):null,[k,C,h,g,v,a,_,y]);return e?p.jsx("div",{className:"flex justify-center py-8",children:p.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})}):t.length===0?p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-gray-500",children:"No cases found matching your criteria"})}):i?p.jsxs("div",{className:"overflow-auto",children:[p.jsxs("table",{className:"w-full border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3 text-left font-medium",children:"Clinic Code"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Partner"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Doctor"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Doctor Joined"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Doctor TAT"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Overall TAT"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Created"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Queue"}),p.jsx("th",{className:"p-3 text-left font-medium",children:"Actions"})]})}),p.jsx("tbody",{children:O})]}),k&&p.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-t",children:[p.jsx("div",{className:"text-sm text-gray-500",children:C}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(nt,{variant:"outline",size:"sm",onClick:_,disabled:h===1,children:p.jsx(L1,{className:"h-4 w-4"})}),p.jsxs("span",{className:"text-sm",children:["Page ",h," ",v?"":`of ${g}`]}),p.jsx(nt,{variant:"outline",size:"sm",onClick:y,disabled:v?!a.hasMore:h===g,children:p.jsx(F1,{className:"h-4 w-4"})})]})]}),o&&p.jsx(Rs,{open:!!o,onOpenChange:A=>!A&&E(),children:p.jsxs(Is,{className:"max-w-5xl w-[90vw] p-0 overflow-hidden","aria-describedby":"case-detail-description",children:[p.jsx("div",{className:"sr-only",id:"case-detail-description",children:"Case details view showing complete information about the selected case"}),p.jsx(d$,{caseData:o,userRole:n,currentUser:r})]})})]}):p.jsxs(p.Fragment,{children:[O,I,o&&p.jsx(Rs,{open:!!o,onOpenChange:A=>!A&&E(),children:p.jsx(Is,{className:"max-w-5xl w-[90vw] p-0 overflow-hidden",children:p.jsx(d$,{caseData:o,userRole:n,currentUser:r})})})]})},ZPe=T.memo(({data:t,loading:e})=>{const[n,r]=T.useState({totalCases:0,pendingCases:0,completedCases:0,doctorPendingCases:0,pharmacistPendingCases:0,incompleteCases:0,todayCases:0,todayCompleted:0,todayIncomplete:0});if(T.useEffect(()=>{r(t)},[t]),e||!t)return p.jsx(JPe,{});const a=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return p.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"All Time Statistics"}),p.jsx("div",{className:"h-px flex-1 bg-gray-200 ml-3"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[p.jsx(ei,{className:"overflow-hidden border-blue-100",children:p.jsx(xi,{className:"p-4 bg-blue-50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Cases"}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:n.totalCases}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All cases till date"})]}),p.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(s0,{className:"h-5 w-5 text-blue-600"})})]})})}),p.jsx(ei,{className:"overflow-hidden border-green-100",children:p.jsx(xi,{className:"p-4 bg-green-50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-green-600",children:"Completed Cases"}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:n.completedCases}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.totalCases>0?Math.round(n.completedCases/n.totalCases*100):0,"% of total cases"]})]}),p.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:p.jsx(tI,{className:"h-5 w-5 text-green-600"})})]})})}),p.jsx(ei,{className:"overflow-hidden border-red-100",children:p.jsx(xi,{className:"p-4 bg-red-50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-red-600",children:"Incomplete Cases"}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:n.incompleteCases}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.totalCases>0?Math.round(n.incompleteCases/n.totalCases*100):0,"% of total cases"]})]}),p.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:p.jsx(Vv,{className:"h-5 w-5 text-red-600"})})]})})})]}),p.jsxs("div",{className:"flex items-center mt-1",children:[p.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Today's Statistics (",a,")"]}),p.jsx("div",{className:"h-px flex-1 bg-gray-200 ml-3"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[p.jsx(ei,{className:"overflow-hidden border-indigo-100",children:p.jsx(xi,{className:"p-4 bg-indigo-50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Today's Cases"}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:n.todayCases}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"New cases today"})]}),p.jsx("div",{className:"h-10 w-10 bg-indigo-100 rounded-full flex items-center justify-center",children:p.jsx(M1,{className:"h-5 w-5 text-indigo-600"})})]})})}),p.jsx(ei,{className:"overflow-hidden border-green-100",children:p.jsx(xi,{className:"p-4 bg-green-50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-green-600",children:"Today's Completed"}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:n.todayCompleted}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.todayCases>0?Math.round(n.todayCompleted/n.todayCases*100):0,"% of today's cases"]})]}),p.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:p.jsx(tI,{className:"h-5 w-5 text-green-600"})})]})})}),p.jsx(ei,{className:"overflow-hidden border-amber-100",children:p.jsx(xi,{className:"p-4 bg-amber-50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-amber-600",children:"Pending Cases"}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:n.pendingCases}),p.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"h-2 w-2 bg-amber-500 rounded-full mr-1"}),p.jsxs("span",{className:"text-xs text-gray-500",children:["Dr: ",n.doctorPendingCases]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"h-2 w-2 bg-purple-500 rounded-full mr-1"}),p.jsxs("span",{className:"text-xs text-gray-500",children:["Pharm: ",n.pharmacistPendingCases]})]})]})]}),p.jsx("div",{className:"h-10 w-10 bg-amber-100 rounded-full flex items-center justify-center",children:p.jsx(Ip,{className:"h-5 w-5 text-amber-600"})})]})})}),p.jsx(ei,{className:"overflow-hidden border-red-100",children:p.jsx(xi,{className:"p-4 bg-red-50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-red-600",children:"Today's Incomplete"}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:n.todayIncomplete}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.todayCases>0?Math.round(n.todayIncomplete/n.todayCases*100):0,"% of today's cases"]})]}),p.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:p.jsx(Vv,{className:"h-5 w-5 text-red-600"})})]})})})]})]})}),JPe=()=>p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),p.jsx("div",{className:"h-px flex-1 bg-gray-200 ml-3"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[1,2,3,4].map(t=>p.jsx(ei,{className:"overflow-hidden",children:p.jsx(xi,{className:"p-4",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),p.jsx("div",{className:"h-6 w-12 bg-gray-300 rounded animate-pulse"})]}),p.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"})]})})},t))}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),p.jsx("div",{className:"h-px flex-1 bg-gray-200 ml-3"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[1,2,3].map(t=>p.jsx(ei,{className:"overflow-hidden",children:p.jsx(xi,{className:"p-4",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),p.jsx("div",{className:"h-6 w-12 bg-gray-300 rounded animate-pulse"})]}),p.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"})]})})},t+4))})]}),eRe=({activeTab:t,onTabChange:e,handleTableRefresh:n})=>p.jsxs("div",{className:"flex overflow-x-auto pb-2 -mb-2",children:[p.jsxs(nt,{variant:t==="all"?"default":"outline",className:"mr-2 flex items-center",onClick:()=>e("all"),children:[p.jsx(yY,{className:"h-4 w-4 mr-2"}),"All Cases"]}),p.jsxs(nt,{variant:t==="doctor"?"default":"outline",className:"mr-2 flex items-center",onClick:()=>e("doctor"),children:[p.jsx(M1,{className:"h-4 w-4 mr-2"}),"Doctor Queue"]}),p.jsxs(nt,{variant:t==="pharmacist"?"default":"outline",className:"mr-2 flex items-center",onClick:()=>e("pharmacist"),children:[p.jsx(M1,{className:"h-4 w-4 mr-2"}),"Pharmacist Queue"]}),p.jsxs(nt,{variant:t==="completed"?"default":"outline",className:"mr-2 flex items-center",onClick:()=>e("completed"),children:[p.jsx(tI,{className:"h-4 w-4 mr-2"}),"Completed"]}),p.jsxs(nt,{variant:t==="incomplete"?"default":"outline",className:"mr-2 flex items-center",onClick:()=>e("incomplete"),children:[p.jsx(Vv,{className:"h-4 w-4 mr-2"}),"Incomplete"]}),p.jsxs(nt,{variant:"outline",className:"flex items-center",onClick:n,children:[p.jsx($ge,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),tRe=({searchTerm:t,onSearchChange:e,onFilterReset:n,onSearchSubmit:r})=>{const[i,a]=T.useState(t||""),s=d=>{a(d)},o=()=>{e(i.trim()),r&&r(i.trim())},l=d=>{d.key==="Enter"&&o()},u=()=>{a(""),e("")};return p.jsx(ei,{className:"overflow-hidden mt-4",children:p.jsx("div",{className:"bg-gray-50 border-b p-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex-grow flex flex-col",children:[p.jsxs("div",{className:"flex relative",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(nI,{className:"h-4 w-4 absolute left-2 top-2.5 text-gray-400"}),p.jsx(Js,{placeholder:"Enter exact EMR Number...",value:i,onChange:d=>s(d.target.value),onKeyPress:l,className:"pl-8 h-9"}),i&&p.jsx(nt,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-7 w-7 p-0",onClick:u,children:p.jsx(od,{className:"h-4 w-4"})})]}),p.jsxs(nt,{variant:"default",size:"sm",className:"ml-2 h-9",onClick:o,children:[p.jsx(nI,{className:"h-4 w-4 mr-2"}),"Search"]})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the complete EMR number and click Search"})]}),p.jsxs(nt,{variant:"ghost",size:"sm",className:"h-9",onClick:n,children:[p.jsx(od,{className:"h-4 w-4 mr-2"}),"Reset Filters"]})]})})})};function Ou(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function y$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nRe(...t){return e=>{let n=!1;const r=t.map(i=>{const a=y$(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():y$(t[i],null)}}}}function ff(...t){return T.useCallback(nRe(...t),t)}function VJ(t,e=[]){let n=[];function r(a,s){const o=T.createContext(s),l=n.length;n=[...n,s];const u=h=>{var E;const{scope:g,children:y,..._}=h,v=((E=g==null?void 0:g[t])==null?void 0:E[l])||o,b=T.useMemo(()=>_,Object.values(_));return p.jsx(v.Provider,{value:b,children:y})};u.displayName=a+"Provider";function d(h,g){var v;const y=((v=g==null?void 0:g[t])==null?void 0:v[l])||o,_=T.useContext(y);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(s=>T.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,rRe(i,...e)]}function rRe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:u})=>{const h=l(a)[`__scope${u}`];return{...o,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var iRe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yc=iRe.reduce((t,e)=>{const n=Cj(`Primitive.${e}`),r=T.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aRe(t,e){t&&$d.flushSync(()=>t.dispatchEvent(e))}function um(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function sRe(t,e=globalThis==null?void 0:globalThis.document){const n=um(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var oRe="DismissableLayer",PI="dismissableLayer.update",lRe="dismissableLayer.pointerDownOutside",cRe="dismissableLayer.focusOutside",x$,UJ=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HJ=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,u=T.useContext(UJ),[d,h]=T.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=T.useState({}),_=ff(e,A=>h(A)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(b),N=d?v.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=E,O=dRe(A=>{const R=A.target,D=[...u.branches].some(L=>L.contains(R));!k||D||(i==null||i(A),s==null||s(A),A.defaultPrevented||o==null||o())},g),I=hRe(A=>{const R=A.target;[...u.branches].some(L=>L.contains(R))||(a==null||a(A),s==null||s(A),A.defaultPrevented||o==null||o())},g);return sRe(A=>{N===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},g),T.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(x$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),b$(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=x$)}},[d,g,n,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),b$())},[d,u]),T.useEffect(()=>{const A=()=>y({});return document.addEventListener(PI,A),()=>document.removeEventListener(PI,A)},[]),p.jsx(yc.div,{...l,ref:_,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:Ou(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Ou(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ou(t.onPointerDownCapture,O.onPointerDownCapture)})});HJ.displayName=oRe;var uRe="DismissableLayerBranch",fRe=T.forwardRef((t,e)=>{const n=T.useContext(UJ),r=T.useRef(null),i=ff(e,r);return T.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),p.jsx(yc.div,{...t,ref:i})});fRe.displayName=uRe;function dRe(t,e=globalThis==null?void 0:globalThis.document){const n=um(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){zJ(lRe,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hRe(t,e=globalThis==null?void 0:globalThis.document){const n=um(t),r=T.useRef(!1);return T.useEffect(()=>{const i=a=>{a.target&&!r.current&&zJ(cRe,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function b$(){const t=new CustomEvent(PI);document.dispatchEvent(t)}function zJ(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?aRe(i,a):i.dispatchEvent(a)}var c2=0;function pRe(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_$()),document.body.insertAdjacentElement("beforeend",t[1]??_$()),c2++,()=>{c2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),c2--}},[])}function _$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var u2="focusScope.autoFocusOnMount",f2="focusScope.autoFocusOnUnmount",w$={bubbles:!1,cancelable:!0},mRe="FocusScope",qJ=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=T.useState(null),u=um(i),d=um(a),h=T.useRef(null),g=ff(e,v=>l(v)),y=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let v=function(C){if(y.paused||!o)return;const k=C.target;o.contains(k)?h.current=k:au(h.current,{select:!0})},b=function(C){if(y.paused||!o)return;const k=C.relatedTarget;k!==null&&(o.contains(k)||au(h.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&au(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const N=new MutationObserver(E);return o&&N.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),N.disconnect()}}},[r,o,y.paused]),T.useEffect(()=>{if(o){S$.add(y);const v=document.activeElement;if(!o.contains(v)){const E=new CustomEvent(u2,w$);o.addEventListener(u2,u),o.dispatchEvent(E),E.defaultPrevented||(gRe(_Re(WJ(o)),{select:!0}),document.activeElement===v&&au(o))}return()=>{o.removeEventListener(u2,u),setTimeout(()=>{const E=new CustomEvent(f2,w$);o.addEventListener(f2,d),o.dispatchEvent(E),E.defaultPrevented||au(v??document.body,{select:!0}),o.removeEventListener(f2,d),S$.remove(y)},0)}}},[o,u,d,y]);const _=T.useCallback(v=>{if(!n&&!r||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(b&&E){const N=v.currentTarget,[C,k]=vRe(N);C&&k?!v.shiftKey&&E===k?(v.preventDefault(),n&&au(C,{select:!0})):v.shiftKey&&E===C&&(v.preventDefault(),n&&au(k,{select:!0})):E===N&&v.preventDefault()}},[n,r,y.paused]);return p.jsx(yc.div,{tabIndex:-1,...s,ref:g,onKeyDown:_})});qJ.displayName=mRe;function gRe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(au(r,{select:e}),document.activeElement!==n)return}function vRe(t){const e=WJ(t),n=E$(e,t),r=E$(e.reverse(),t);return[n,r]}function WJ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function E$(t,e){for(const n of t)if(!yRe(n,{upTo:e}))return n}function yRe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xRe(t){return t instanceof HTMLInputElement&&"select"in t}function au(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xRe(t)&&e&&t.select()}}var S$=bRe();function bRe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=T$(t,e),t.unshift(e)},remove(e){var n;t=T$(t,e),(n=t[0])==null||n.resume()}}}function T$(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _Re(t){return t.filter(e=>e.tagName!=="A")}var Zu=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},wRe=Cv[" useId ".trim().toString()]||(()=>{}),ERe=0;function SRe(t){const[e,n]=T.useState(wRe());return Zu(()=>{n(r=>r??String(ERe++))},[t]),t||(e?`radix-${e}`:"")}var TRe="Arrow",GJ=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return p.jsx(yc.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});GJ.displayName=TRe;var ARe=GJ;function CRe(t){const[e,n]=T.useState(void 0);return Zu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var MM="Popper",[KJ,YJ]=VJ(MM),[NRe,XJ]=KJ(MM),QJ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return p.jsx(NRe,{scope:e,anchor:r,onAnchorChange:i,children:n})};QJ.displayName=MM;var ZJ="PopperAnchor",JJ=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=XJ(ZJ,n),s=T.useRef(null),o=ff(e,s);return T.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(yc.div,{...i,ref:o})});JJ.displayName=ZJ;var LM="PopperContent",[ORe,PRe]=KJ(LM),eee=T.forwardRef((t,e)=>{var pe,ye,de,he,Ce,me;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:_,...v}=t,b=XJ(LM,n),[E,N]=T.useState(null),C=ff(e,Ue=>N(Ue)),[k,O]=T.useState(null),I=CRe(k),A=(I==null?void 0:I.width)??0,R=(I==null?void 0:I.height)??0,D=r+(a!=="center"?"-"+a:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],B=j.length>0,F={padding:L,boundary:j.filter(IRe),altBoundary:B},{refs:re,floatingStyles:q,placement:V,isPositioned:X,middlewareData:Q}=LY({strategy:"fixed",placement:D,whileElementsMounted:(...Ue)=>Hj(...Ue,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[FY({mainAxis:i+R,alignmentAxis:s}),l&&BY({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?$Y():void 0,...F}),l&&VY({...F}),UY({...F,apply:({elements:Ue,rects:$e,availableWidth:Je,availableHeight:it})=>{const{width:Fe,height:Rt}=$e.reference,Ft=Ue.floating.style;Ft.setProperty("--radix-popper-available-width",`${Je}px`),Ft.setProperty("--radix-popper-available-height",`${it}px`),Ft.setProperty("--radix-popper-anchor-width",`${Fe}px`),Ft.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),k&&zY({element:k,padding:o}),DRe({arrowWidth:A,arrowHeight:R}),g&&HY({strategy:"referenceHidden",...F})]}),[ie,W]=ree(V),ce=um(_);Zu(()=>{X&&(ce==null||ce())},[X,ce]);const z=(pe=Q.arrow)==null?void 0:pe.x,Y=(ye=Q.arrow)==null?void 0:ye.y,K=((de=Q.arrow)==null?void 0:de.centerOffset)!==0,[J,fe]=T.useState();return Zu(()=>{E&&fe(window.getComputedStyle(E).zIndex)},[E]),p.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:X?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(he=Q.transformOrigin)==null?void 0:he.x,(Ce=Q.transformOrigin)==null?void 0:Ce.y].join(" "),...((me=Q.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(ORe,{scope:n,placedSide:ie,onArrowChange:O,arrowX:z,arrowY:Y,shouldHideArrow:K,children:p.jsx(yc.div,{"data-side":ie,"data-align":W,...v,ref:C,style:{...v.style,animation:X?void 0:"none"}})})})});eee.displayName=LM;var tee="PopperArrow",RRe={top:"bottom",right:"left",bottom:"top",left:"right"},nee=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=PRe(tee,r),s=RRe[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(ARe,{...i,ref:n,style:{...i.style,display:"block"}})})});nee.displayName=tee;function IRe(t){return t!==null}var DRe=t=>({name:"transformOrigin",options:t,fn(e){var b,E,N;const{placement:n,rects:r,middlewareData:i}=e,s=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=ree(n),h={start:"0%",center:"50%",end:"100%"}[d],g=(((E=i.arrow)==null?void 0:E.x)??0)+o/2,y=(((N=i.arrow)==null?void 0:N.y)??0)+l/2;let _="",v="";return u==="bottom"?(_=s?h:`${g}px`,v=`${-l}px`):u==="top"?(_=s?h:`${g}px`,v=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,v=s?h:`${y}px`):u==="left"&&(_=`${r.floating.width+l}px`,v=s?h:`${y}px`),{data:{x:_,y:v}}}});function ree(t){const[e,n="center"]=t.split("-");return[e,n]}var kRe=QJ,iee=JJ,jRe=eee,MRe=nee,LRe="Portal",aee=T.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,a]=T.useState(!1);Zu(()=>a(!0),[]);const s=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?NW.createPortal(p.jsx(yc.div,{...r,ref:e}),s):null});aee.displayName=LRe;function FRe(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var FM=t=>{const{present:e,children:n}=t,r=BRe(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),a=ff(r.ref,$Re(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:a}):null};FM.displayName="Presence";function BRe(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),a=T.useRef("none"),s=t?"mounted":"unmounted",[o,l]=FRe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=__(r.current);a.current=o==="mounted"?u:"none"},[o]),Zu(()=>{const u=r.current,d=i.current;if(d!==t){const g=a.current,y=__(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Zu(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=y=>{const v=__(r.current).includes(y.animationName);if(y.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=y=>{y.target===e&&(a.current=__(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function __(t){return(t==null?void 0:t.animationName)||"none"}function $Re(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var VRe=Cv[" useInsertionEffect ".trim().toString()]||Zu;function URe({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,s]=HRe({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const d=T.useRef(t!==void 0);T.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=T.useCallback(d=>{var h;if(o){const g=zRe(d)?d(t):d;g!==t&&((h=s.current)==null||h.call(s,g))}else a(d)},[o,t,a,s]);return[l,u]}function HRe({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),a=T.useRef(e);return VRe(()=>{a.current=e},[e]),T.useEffect(()=>{var s;i.current!==n&&((s=a.current)==null||s.call(a,n),i.current=n)},[n,i]),[n,r,a]}function zRe(t){return typeof t=="function"}var NS="Popover",[see,QGe]=VJ(NS,[YJ]),vx=YJ(),[qRe,df]=see(NS),oee=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,o=vx(e),l=T.useRef(null),[u,d]=T.useState(!1),[h,g]=URe({prop:r,defaultProp:i??!1,onChange:a,caller:NS});return p.jsx(kRe,{...o,children:p.jsx(qRe,{scope:e,contentId:SRe(),triggerRef:l,open:h,onOpenChange:g,onOpenToggle:T.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:u,onCustomAnchorAdd:T.useCallback(()=>d(!0),[]),onCustomAnchorRemove:T.useCallback(()=>d(!1),[]),modal:s,children:n})})};oee.displayName=NS;var lee="PopoverAnchor",WRe=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=df(lee,n),a=vx(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return T.useEffect(()=>(s(),()=>o()),[s,o]),p.jsx(iee,{...a,...r,ref:e})});WRe.displayName=lee;var cee="PopoverTrigger",uee=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=df(cee,n),a=vx(n),s=ff(e,i.triggerRef),o=p.jsx(yc.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mee(i.open),...r,ref:s,onClick:Ou(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:p.jsx(iee,{asChild:!0,...a,children:o})});uee.displayName=cee;var BM="PopoverPortal",[GRe,KRe]=see(BM,{forceMount:void 0}),fee=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=df(BM,e);return p.jsx(GRe,{scope:e,forceMount:n,children:p.jsx(FM,{present:n||a.open,children:p.jsx(aee,{asChild:!0,container:i,children:r})})})};fee.displayName=BM;var fm="PopoverContent",dee=T.forwardRef((t,e)=>{const n=KRe(fm,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=df(fm,t.__scopePopover);return p.jsx(FM,{present:r||a.open,children:a.modal?p.jsx(XRe,{...i,ref:e}):p.jsx(QRe,{...i,ref:e})})});dee.displayName=fm;var YRe=Cj("PopoverContent.RemoveScroll"),XRe=T.forwardRef((t,e)=>{const n=df(fm,t.__scopePopover),r=T.useRef(null),i=ff(e,r),a=T.useRef(!1);return T.useEffect(()=>{const s=r.current;if(s)return Yj(s)},[]),p.jsx(cS,{as:YRe,allowPinchZoom:!0,children:p.jsx(hee,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ou(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ou(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ou(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),QRe=T.forwardRef((t,e)=>{const n=df(fm,t.__scopePopover),r=T.useRef(!1),i=T.useRef(!1);return p.jsx(hee,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),hee=T.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...h}=t,g=df(fm,n),y=vx(n);return pRe(),p.jsx(qJ,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:p.jsx(HJ,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:p.jsx(jRe,{"data-state":mee(g.open),role:"dialog",id:g.contentId,...y,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pee="PopoverClose",ZRe=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=df(pee,n);return p.jsx(yc.button,{type:"button",...r,ref:e,onClick:Ou(t.onClick,()=>i.onOpenChange(!1))})});ZRe.displayName=pee;var JRe="PopoverArrow",eIe=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vx(n);return p.jsx(MRe,{...i,...r,ref:e})});eIe.displayName=JRe;function mee(t){return t?"open":"closed"}var tIe=oee,nIe=uee,rIe=fee,iIe=dee;function w_({...t}){return p.jsx(tIe,{"data-slot":"popover",...t})}function E_({...t}){return p.jsx(nIe,{"data-slot":"popover-trigger",...t})}function S_({className:t,align:e="center",sideOffset:n=4,...r}){return p.jsx(rIe,{children:p.jsx(iIe,{"data-slot":"popover-content",align:e,sideOffset:n,className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}var $M="Radio",[aIe,gee]=mc($M),[sIe,oIe]=aIe($M),vee=T.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:s,value:o="on",onCheck:l,form:u,...d}=t,[h,g]=T.useState(null),y=or(e,b=>g(b)),_=T.useRef(!1),v=h?u||!!h.closest("form"):!0;return p.jsxs(sIe,{scope:n,checked:i,disabled:s,children:[p.jsx(qt.button,{type:"button",role:"radio","aria-checked":i,"data-state":bee(i),"data-disabled":s?"":void 0,disabled:s,value:o,...d,ref:y,onClick:Ht(t.onClick,b=>{i||l==null||l(),v&&(_.current=b.isPropagationStopped(),_.current||b.stopPropagation())})}),v&&p.jsx(lIe,{control:h,bubbles:!_.current,name:r,value:o,checked:i,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});vee.displayName=$M;var yee="RadioIndicator",xee=T.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,a=oIe(yee,n);return p.jsx(f0,{present:r||a.checked,children:p.jsx(qt.span,{"data-state":bee(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});xee.displayName=yee;var lIe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=T.useRef(null),s=Kj(n),o=zj(e);return T.useEffect(()=>{const l=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&h){const g=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(g)}},[s,n,r]),p.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bee(t){return t?"checked":"unchecked"}var cIe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],VM="RadioGroup",[uIe,ZGe]=mc(VM,[xS,gee]),_ee=xS(),wee=gee(),[fIe,dIe]=uIe(VM),Eee=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:s=!1,disabled:o=!1,orientation:l,dir:u,loop:d=!0,onValueChange:h,...g}=t,y=_ee(n),_=iS(u),[v,b]=Td({prop:a,defaultProp:i,onChange:h});return p.jsx(fIe,{scope:n,name:r,required:s,disabled:o,value:v,onValueChange:b,children:p.jsx(KQ,{asChild:!0,...y,orientation:l,dir:_,loop:d,children:p.jsx(qt.div,{role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":o?"":void 0,dir:_,...g,ref:e})})})});Eee.displayName=VM;var See="RadioGroupItem",Tee=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,a=dIe(See,n),s=a.disabled||r,o=_ee(n),l=wee(n),u=T.useRef(null),d=or(e,u),h=a.value===i.value,g=T.useRef(!1);return T.useEffect(()=>{const y=v=>{cIe.includes(v.key)&&(g.current=!0)},_=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",_)}},[]),p.jsx(YQ,{asChild:!0,...o,focusable:!s,active:h,children:p.jsx(vee,{disabled:s,required:a.required,checked:h,...l,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:Ht(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Ht(i.onFocus,()=>{var y;g.current&&((y=u.current)==null||y.click())})})})});Tee.displayName=See;var hIe="RadioGroupIndicator",Aee=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=wee(n);return p.jsx(xee,{...i,...r,ref:e})});Aee.displayName=hIe;var pIe=Eee,mIe=Tee,gIe=Aee;function A$({className:t,...e}){return p.jsx(pIe,{"data-slot":"radio-group",className:Lt("grid gap-3",t),...e})}function T_({className:t,...e}){return p.jsx(mIe,{"data-slot":"radio-group-item",className:Lt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(gIe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:p.jsx(oge,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const vIe=({activeColumnFilter:t,setActiveColumnFilter:e,clinicFilter:n,partnerFilter:r,doctorFilter:i,dateRange:a,clinicOptions:s,doctorOptions:o,partnerOptions:l,handleFilterApply:u,handleSingleFilterReset:d})=>{const[h,g]=T.useState(""),[y,_]=T.useState(o);return T.useEffect(()=>{_(o.filter(v=>v.label.toLowerCase().includes(h.toLowerCase())))},[h,o]),p.jsxs("tr",{className:"bg-gray-50 border-b",children:[p.jsx("th",{className:"p-3 text-left font-medium min-w-[140px]",children:p.jsxs("div",{className:"flex items-center justify-between gap-1",children:[p.jsx("span",{children:"Clinic Code"}),p.jsxs(w_,{open:t==="clinic",onOpenChange:v=>e(v?"clinic":null),children:[p.jsx(E_,{asChild:!0,children:p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:p.jsx(ru,{className:`h-3.5 w-3.5 ${n!=="all"?"text-blue-500":""}`})})}),p.jsx(S_,{className:"w-60 p-3",align:"start",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"font-medium text-sm",children:"Filter by Clinic"}),p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>d("clinic"),children:p.jsx(od,{className:"h-3.5 w-3.5"})})]}),p.jsx("div",{className:"max-h-48 overflow-y-auto",children:p.jsxs(A$,{value:n,onValueChange:v=>u("clinic",v),children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(T_,{value:"all",id:"clinic-all"}),p.jsx(Dl,{htmlFor:"clinic-all",children:"All Clinics"})]}),s.map(v=>p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(T_,{value:v.value,id:`clinic-${v.value}`}),p.jsx(Dl,{htmlFor:`clinic-${v.value}`,children:v.label})]},v.value))]})})]})})]})]})}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[140px]",children:"Manual Clinic Code"}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[100px]",children:p.jsxs("div",{className:"flex items-center justify-between gap-1",children:[p.jsx("span",{children:"Partner"}),p.jsxs(w_,{open:t==="partner",onOpenChange:v=>{e(v?"partner":null)},children:[p.jsx(E_,{asChild:!0,children:p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:p.jsx(ru,{className:`h-3.5 w-3.5 ${r.length>0?"text-blue-500":""}`})})}),p.jsx(S_,{className:"w-60 p-3",align:"start",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"font-medium text-sm",children:"Filter by Partner"}),p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>d("partner"),children:p.jsx(od,{className:"h-3.5 w-3.5"})})]}),p.jsx("div",{className:"max-h-48 overflow-y-auto",children:l.map(v=>p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx("input",{type:"checkbox",id:`partner-${v.value}`,checked:r.includes(v.value),onChange:b=>{const E=b.target.checked?[...r,v.value]:r.filter(N=>N!==v.value);u("partner",E)}}),p.jsx(Dl,{htmlFor:`partner-${v.value}`,children:v.label})]},v.value))})]})})]})]})}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[140px]",children:p.jsxs("div",{className:"flex items-center justify-between gap-1",children:[p.jsx("span",{children:"Doctor"}),p.jsxs(w_,{open:t==="doctor",onOpenChange:v=>e(v?"doctor":null),children:[p.jsx(E_,{asChild:!0,children:p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:p.jsx(ru,{className:`h-3.5 w-3.5 ${i!=="all"?"text-blue-500":""}`})})}),p.jsx(S_,{className:"w-60 p-3",align:"start",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"font-medium text-sm",children:"Filter by Doctor Name"}),p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>d("doctor"),children:p.jsx(od,{className:"h-3.5 w-3.5"})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("input",{type:"text",placeholder:"Search doctors...",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md",onChange:v=>g(v.target.value)}),p.jsx("div",{className:"max-h-48 overflow-y-auto",children:p.jsxs(A$,{value:i,onValueChange:v=>u("doctor",v),children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(T_,{value:"all",id:"clinic-all"}),p.jsx(Dl,{htmlFor:"clinic-all",children:"All Doctors"})]}),y.map(v=>p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(T_,{value:v.value,id:`clinic-${v.value}`}),p.jsx(Dl,{htmlFor:`clinic-${v.value}`,children:v.label})]},v.value))]})})]})]})})]})]})}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[140px]",children:p.jsxs("div",{className:"flex items-center justify-between gap-1",children:[p.jsx("span",{children:"Doctor Joined Time"}),p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 invisible",children:p.jsx(ru,{className:"h-3.5 w-3.5"})})]})}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[140px]",children:p.jsxs("div",{className:"flex items-center justify-between gap-1",children:[p.jsx("span",{children:"Doctor TAT"}),p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 invisible",children:p.jsx(ru,{className:"h-3.5 w-3.5"})})]})}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[140px]",children:p.jsxs("div",{className:"flex items-center justify-between gap-1",children:[p.jsx("span",{children:"Overall TAT"}),p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 invisible",children:p.jsx(ru,{className:"h-3.5 w-3.5"})})]})}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[140px]",children:p.jsxs("div",{className:"flex items-center justify-between gap-1",children:[p.jsx("span",{children:"Created"}),p.jsxs(w_,{open:t==="date",onOpenChange:v=>e(v?"date":null),children:[p.jsx(E_,{asChild:!0,children:p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:p.jsx(ru,{className:`h-3.5 w-3.5 ${a.from||a.to?"text-blue-500":""}`})})}),p.jsx(S_,{className:"w-64 p-3",align:"start",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"font-medium text-sm",children:"Filter by Date"}),p.jsx(nt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>d("date"),children:p.jsx(od,{className:"h-3.5 w-3.5"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx(Dl,{htmlFor:"date-from",className:"text-xs mb-1 block",children:"From"}),p.jsx("input",{id:"date-from",type:"date",value:a.from?a.from.toISOString().substring(0,10):"",onChange:v=>{const b=v.target.value?new Date(v.target.value):null;u("date",{...a,from:b})},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md"})]}),p.jsxs("div",{children:[p.jsx(Dl,{htmlFor:"date-to",className:"text-xs mb-1 block",children:"To"}),p.jsx("input",{id:"date-to",type:"date",value:a.to?a.to.toISOString().substring(0,10):"",onChange:v=>{const b=v.target.value?new Date(v.target.value):null;u("date",{...a,to:b})},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md"})]})]})]})})]})]})}),p.jsx("th",{className:"p-3 text-center font-medium min-w-[40px]",children:"Meeting"}),p.jsx("th",{className:"p-3 text-left font-medium min-w-[40px]",children:"Actions"})]})},yIe=()=>p.jsx(ei,{className:"bg-gray-50 border border-dashed border-gray-300 mt-4",children:p.jsxs(xi,{className:"flex flex-col items-center justify-center py-12",children:[p.jsx("div",{className:"rounded-full bg-blue-100 p-3 mb-4",children:p.jsx(ru,{className:"h-6 w-6 text-blue-600"})}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a tab to view cases"}),p.jsx("p",{className:"text-sm text-gray-500 text-center max-w-md mb-6",children:"Click one of the tabs above to load and view cases."})]})}),xIe=({userRole:t})=>p.jsx("tr",{children:p.jsx("td",{colSpan:"10",className:"text-center py-8 text-gray-500",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(Ti,{className:"h-8 w-8 text-gray-400 mb-2"}),p.jsx("p",{children:"No cases found matching your criteria"}),(t==="doctor"||t==="pharmacist"||t==="clinic"||t==="nurse")&&p.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Note: Based on your role, you can only see cases that are directly related to you"})]})})}),bIe=({userRole:t})=>p.jsxs("div",{className:"text-xs text-gray-500 bg-blue-50 p-2 rounded-md mt-4 flex items-center",children:[p.jsx(Wge,{className:"h-4 w-4 mr-2 text-blue-600"}),p.jsxs("span",{children:[p.jsx("strong",{children:"Access Note:"})," As a",t==="doctor"?" Doctor":t==="pharmacist"?" Pharmacist":t==="clinic"||t==="nurse"?" Clinic/Nurse":" Team Leader",", you can only see cases that are"," ",t==="doctor"?"assigned to you":t==="pharmacist"?"assigned to you for review":t==="clinic"||t==="nurse"?"created by you":"within your team hierarchy","."]})]}),Rg=new Map,d2=new Map;let A_=null,C$=0;const _Ie=5*60*1e3,wIe=async(t,e,n,r={},i={page:1,pageSize:50,lastDoc:null},a)=>{var s,o,l,u,d,h,g,y,_,v,b,E,N,C,k;try{let O;const I=dn(st,"cases"),A=[];switch(e){case"doctor":A.push(tt("assignedDoctors.primary","==",t));break;case"pharmacist":A.push(tt("pharmacistId","==",t));break;case"clinic":case"nurse":A.push(tt("createdBy","==",t));break}switch(n){case"doctor":A.push(tt("status","==","pending"),tt("doctorCompleted","==",!1),tt("isIncomplete","!=",!0),Jr("isIncomplete"),Jr("createdAt","desc"));break;case"pharmacist":A.push(tt("status","==","doctor_completed"),tt("isIncomplete","!=",!0),Jr("isIncomplete"),Jr("createdAt","desc"));break;case"completed":A.push(tt("pharmacistCompleted","==",!0),tt("isIncomplete","!=",!0),Jr("isIncomplete"),Jr("createdAt","desc"));break;case"incomplete":A.push(tt("isIncomplete","==",!0),Jr("createdAt","desc"));break;default:A.push(Jr("createdAt","desc"));break}const R=Math.min(i.pageSize||50,1e3);i.lastDoc&&i.page>1&&A.push(Eme(i.lastDoc)),A.push(sd(R));const D=kt(I,...A),L=await ur(D),j=[],B=new Set,F=new Set,re=new Set;for(const X of L.docs){const Q={...X.data(),id:X.id};if(EIe(e,Q,r,a)){Q.partnerName&&B.add(Q.partnerName),(Q.clinicCode||Q.clinicName)&&F.add(Q.clinicCode||Q.clinicName),(s=Q.assignedDoctors)!=null&&s.primaryName&&re.add(Q.assignedDoctors.primaryName);const ie={...Q,createdAt:((l=(o=Q.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))||Q.createdAt||new Date,updatedAt:((d=(u=Q.updatedAt)==null?void 0:u.toDate)==null?void 0:d.call(u))||Q.updatedAt||new Date,startTime:((g=(h=Q.startTime)==null?void 0:h.toDate)==null?void 0:g.call(h))||((_=(y=Q.createdAt)==null?void 0:y.toDate)==null?void 0:_.call(y))||new Date,endTime:((b=(v=Q.pharmacistCompletedAt)==null?void 0:v.toDate)==null?void 0:b.call(v))||null,doctorCompletedAt:((N=(E=Q.doctorCompletedAt)==null?void 0:E.toDate)==null?void 0:N.call(E))||null,pharmacistCompletedAt:((k=(C=Q.pharmacistCompletedAt)==null?void 0:C.toDate)==null?void 0:k.call(C))||null,pendingQueue:SIe(Q)};j.push(ie)}}const q=j.length>0?await AIe(j,a):[],V=L.docs[L.docs.length-1];return{cases:q,uniquePartners:Array.from(B),uniqueClinics:Array.from(F),uniqueDoctors:Array.from(re),pagination:{page:i.page,pageSize:R,lastDoc:V,hasMore:L.docs.length===R}}}catch(O){return console.error("Error fetching tab data:",O),{cases:[],uniquePartners:[],uniqueClinics:[],uniqueDoctors:[],pagination:{page:i.page||1,pageSize:i.pageSize||50,hasMore:!1}}}},EIe=(t,e,n,r)=>{var i,a,s,o,l;if(!n||Object.keys(n).length===0)return!0;if(n.status){let u=!1;switch(t){case"doctor":u=e.status==="doctor_incomplete";break;case"pharmacist":u=e.status==="pharmacist_incomplete";break;default:u=e.isIncomplete}switch(n.status){case"completed":if(!e.doctorCompleted||!e.pharmacistCompleted||u)return!1;break;case"pending":if(e.doctorCompleted&&e.pharmacistCompleted||u)return!1;break;case"incomplete":if(!u)return!1;break}}if(((i=n.partner)==null?void 0:i.length)>0){const u=r.get(e.clinicId);if(!u||!n.partner.includes(u.partnerName))return!1}if(n.clinic&&(e.clinicCode||e.clinicName)!==n.clinic||n.doctor&&((a=e.assignedDoctors)==null?void 0:a.primaryName)!==n.doctor)return!1;if(n.dateFrom||n.dateTo){const u=((o=(s=e.createdAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||e.createdAt;if(n.dateFrom&&u<new Date(n.dateFrom))return!1;if(n.dateTo){const d=new Date(n.dateTo);if(d.setHours(23,59,59,999),u>d)return!1}}if((l=n.searchTerm)!=null&&l.trim()){const u=n.searchTerm.toLowerCase().trim();return["emrNumber","emrNumbers","caseNumber","id"].some(h=>{const g=e[h];return g?typeof g=="string"?g.toLowerCase()===u:typeof g=="number"?g.toString()===u:Array.isArray(g)?g.some(y=>typeof y=="string"?y.toLowerCase()===u:typeof y=="number"?y.toString()===u:!1):!1:!1})}return!0},SIe=t=>t.isIncomplete||t.status==="doctor_incomplete"||t.status==="pharmacist_incomplete"?"incomplete":t.doctorCompleted&&t.pharmacistCompleted?"completed":t.doctorCompleted?"pharmacist":"doctor",C_=(t,e,n,r,i)=>{var u,d;const a={totalCases:0,pendingCases:0,completedCases:0,doctorPendingCases:0,pharmacistPendingCases:0,incompleteCases:0,todayCases:0,todayCompleted:0,todayIncomplete:0};if(r){const h=i.get(t.clinicId);if(!h||r!==h.partnerName)return a}const s=((u=t.emrNumbers)==null?void 0:u.length)>0?t.emrNumbers.length:1;a.totalCases=s;const o=((d=t.createdAt)==null?void 0:d.seconds)&&e<=t.createdAt.seconds&&t.createdAt.seconds<n;return o&&(a.todayCases=s),t.isIncomplete||t.status==="doctor_incomplete"||t.status==="pharmacist_incomplete"?(a.incompleteCases=s,o&&(a.todayIncomplete=s)):t.doctorCompleted&&t.pharmacistCompleted?(a.completedCases=s,o&&(a.todayCompleted=s)):t.doctorCompleted?a.pharmacistPendingCases=s:a.doctorPendingCases=s,a.pendingCases=a.doctorPendingCases+a.pharmacistPendingCases,a},TIe=async()=>{const t=Date.now();if(Rg.size>0&&A_&&t-C$<_Ie)return[Rg,A_];try{const e=new Map,n=new Set,r=kt(dn(st,"users"),tt("role","==","nurse"));return(await ur(r)).forEach(a=>{const s=a.data();e.set(a.id,{clinicCode:s.clinicCode,name:s.name,partnerName:s.partnerName}),s.partnerName&&n.add(s.partnerName)}),Rg.clear(),e.forEach((a,s)=>Rg.set(s,a)),A_=Array.from(n),C$=t,[Rg,A_]}catch(e){return console.error("Error fetching clinic mapping:",e),[new Map,[]]}},AIe=async(t,e)=>{if(!t.length)return[];const n=new Set;t.forEach(s=>{var o;s.createdBy&&n.add(s.createdBy),(o=s.assignedDoctors)!=null&&o.primary&&n.add(s.assignedDoctors.primary),s.pharmacistId&&n.add(s.pharmacistId)});const r=new Map,i=30,a=Array.from(n);try{for(let s=0;s<a.length;s+=i){const o=a.slice(s,s+i),l=o.map(d=>d2.has(d)?Promise.resolve({exists:()=>!0,data:()=>d2.get(d)}):ar(hn(st,"users",d)));(await Promise.all(l)).forEach((d,h)=>{if(d.exists()){const g=d.data(),y=o[h],_={name:g.name,role:g.role,partnerName:g.partnerName||"N/A"};r.set(y,_),d2.set(y,_)}})}}catch(s){console.error("Error fetching user data:",s)}return t.map(s=>{var l,u;const o={...s};return o.startTime=s.createdAt,s.pharmacistCompletedAt&&(o.endTime=s.pharmacistCompletedAt),s.clinicId&&e.has(s.clinicId)&&(o.clinicCode=e.get(s.clinicId).clinicCode),s.createdBy&&r.has(s.createdBy)&&(o.createdByName=r.get(s.createdBy).name),(l=s.assignedDoctors)!=null&&l.primary&&r.has(s.assignedDoctors.primary)?o.doctorName=r.get(s.assignedDoctors.primary).name:(u=s.assignedDoctors)!=null&&u.primaryName&&(o.doctorName=s.assignedDoctors.primaryName),s.pharmacistId&&r.has(s.pharmacistId)&&(o.pharmacistName=r.get(s.pharmacistId).name),!o.partnerName&&s.createdBy&&r.has(s.createdBy)&&(o.partnerName=r.get(s.createdBy).partnerName),s.isIncomplete===!0?o.statusLabel="Incomplete":s.pharmacistCompleted?o.statusLabel="Completed":o.statusLabel="Pending",o})},CIe=({currentUser:t})=>{const[e,n]=T.useState(!1),[r,i]=T.useState(""),[a,s]=T.useState(!1),[o,l]=T.useState(null),[u,d]=T.useState(null),[h,g]=T.useState(null),[y,_]=T.useState(!1),[v,b]=T.useState(6e4),[E,N]=T.useState({from:null,to:null}),[C,k]=T.useState(""),[O,I]=T.useState("all"),[A,R]=T.useState("all"),[D,L]=T.useState([]),[j,B]=T.useState([]),[F,re]=T.useState("all"),[q,V]=T.useState("all"),[X,Q]=T.useState(null),[ie,W]=T.useState(Date.now()),[ce,z]=T.useState(!1),[Y,K]=T.useState(!1),[J,fe]=T.useState(new Date().toISOString().split("T")[0]),[pe,ye]=T.useState(null),[de,he]=T.useState(!1),[Ce,me]=T.useState({totalCases:0,pendingCases:0,completedCases:0,doctorPendingCases:0,pharmacistPendingCases:0,incompleteCases:0,todayCases:0,todayCompleted:0,todayIncomplete:0}),[Ue,$e]=T.useState(!1),[Je,it]=T.useState(null),Fe=T.useRef(null),Rt=T.useRef(new Map),Ft=T.useRef(!1),nr=T.useRef(!1),cr=T.useCallback(async()=>{try{const[et,qe]=await TIe();it(et);const It=qe.map(_t=>({value:_t,label:_t}));L(It),["ro"].includes(t==null?void 0:t.role)&&(t!=null&&t.uid)&&(l(t.partnerName),L([{value:t.partnerName,label:t.partnerName}]))}catch(et){console.error("Error setting up clinic data:",et),i("Failed to load clinic data")}},[t==null?void 0:t.role,t==null?void 0:t.uid,t==null?void 0:t.partnerName]);T.useEffect(()=>{cr()},[cr]);const zi=T.useCallback(et=>{const qe=et?et.value:null;if(l(qe),Fe.current&&(Fe.current(),Fe.current=null),Rt.current.clear(),Ft.current=!1,nr.current=!1,Ci(!1),me({totalCases:0,pendingCases:0,completedCases:0,doctorPendingCases:0,pharmacistPendingCases:0,incompleteCases:0,todayCases:0,todayCompleted:0,todayIncomplete:0}),h){const It={status:O!=="all"?O:null,queue:A!=="all"?A:null,partner:qe,clinic:F!=="all"?F:null,doctor:q!=="all"?q:null,dateFrom:E.from,dateTo:E.to,searchTerm:C||null};Nr(h,It)}},[h,O,A,F,q,E,C]),vr=T.useCallback(async()=>{if(!(t!=null&&t.uid)||!(t!=null&&t.role)||!st||!Je){console.log("Missing requirements for loadSummaryCounts:",{uid:!!(t!=null&&t.uid),role:!!(t!=null&&t.role),firestore:!!st,clinicMapping:!!Je});return}$e(!0);try{const et=new Date;et.setHours(0,0,0,0);const qe=new Date(et);qe.setDate(qe.getDate()+1);let It;switch(t.role){case"superAdmin":case"zonalHead":case"drManager":case"teamLeader":break;case"doctor":It=tt("assignedDoctors.primary","==",t.uid);break;case"pharmacist":It=tt("pharmacistId","==",t.uid);break;default:It=tt("createdBy","==",t.uid);break}const _t=dn(st,"cases"),_n=qn=>{const hr=It?[It,...qn]:qn;return o?[tt("partnerName","==",o),...hr]:hr},zn=[eu(kt(_t,..._n([]))),eu(kt(_t,..._n([tt("status","==","completed")])))],[oi,yr]=await Promise.all(zn);me(qn=>({...qn,totalCases:oi.data().count,completedCases:yr.data().count})),$e(!1),setTimeout(async()=>{try{const[qn,hr,pn,Ac,ba,as]=await Promise.all([eu(kt(_t,..._n([tt("isIncomplete","==",!0)]))),eu(kt(_t,..._n([tt("doctorCompleted","==",!1)]))),eu(kt(_t,..._n([tt("doctorCompleted","==",!0),tt("pharmacistCompleted","==",!1),tt("isIncomplete","==",!1)]))),eu(kt(_t,..._n([tt("createdAt",">=",et),tt("createdAt","<",qe)]))),eu(kt(_t,..._n([tt("status","==","completed"),tt("createdAt",">=",et),tt("createdAt","<",qe)]))),eu(kt(_t,..._n([tt("isIncomplete","==",!0),tt("createdAt",">=",et),tt("createdAt","<",qe)])))]),Cc=hr.data().count+pn.data().count;me({totalCases:oi.data().count,pendingCases:Cc,completedCases:yr.data().count,doctorPendingCases:hr.data().count,pharmacistPendingCases:pn.data().count,incompleteCases:qn.data().count,todayCases:Ac.data().count,todayCompleted:ba.data().count,todayIncomplete:as.data().count})}catch(qn){console.error("Background count loading failed:",qn)}},100)}catch(et){console.error("Initial Load Error:",et),i("Failed to load summary data."),$e(!1)}},[t,o,Je]),[Wt,Ci]=T.useState(!1),Hn=T.useCallback(()=>{!Wt&&Je&&(Ci(!0),vr())},[Wt,Je,vr]);T.useEffect(()=>{Wt&&Je&&vr()},[o,vr,Wt,Je]),T.useEffect(()=>{Je&&!Wt&&(Ci(!0),vr())},[Je,Wt,vr]),T.useEffect(()=>{Je&&o!==null&&setTimeout(()=>{Wt||Ci(!0),vr()},100)},[o,Je,vr,Wt]);const Mn=T.useCallback((et,qe)=>{me(It=>{const _t={...It},_n=qe==="add"?1:-1;for(const zn in et)_t[zn]=(_t[zn]||0)+_n*et[zn];return(et.doctorPendingCases!==void 0||et.pharmacistPendingCases!==void 0)&&(_t.pendingCases=(_t.doctorPendingCases||0)+(_t.pharmacistPendingCases||0)),_t})},[]),Ir=T.useCallback(()=>{if(!(t!=null&&t.uid)||!(t!=null&&t.role)||!st||Fe.current){console.log("Cannot setup listener - missing requirements:",{uid:!!(t!=null&&t.uid),role:!!(t!=null&&t.role),firestore:!!st,alreadyExists:!!Fe.current});return}try{let et;const qe=dn(st,"cases");switch(t.role){case"superAdmin":case"zonalHead":case"drManager":case"teamLeader":et=kt(qe,Jr("createdAt","desc"),sd(1e3));break;case"doctor":et=kt(qe,tt("assignedDoctors.primary","==",t.uid),Jr("createdAt","desc"),sd(1e3));break;case"pharmacist":et=kt(qe,tt("pharmacistId","==",t.uid),Jr("createdAt","desc"),sd(1e3));break;default:et=kt(qe,tt("createdBy","==",t.uid),Jr("createdAt","desc"),sd(1e3));break}Fe.current=Au(et,It=>{if(!Ft.current){It.docs.forEach(yr=>{Rt.current.set(yr.id,yr.data())}),nr.current=!0,Ft.current=!0;return}const _t=new Date;_t.setHours(0,0,0,0);const _n=new Date(_t);_n.setDate(_n.getDate()+1);const zn=Math.floor(_t.getTime()/1e3),oi=Math.floor(_n.getTime()/1e3);It.docChanges().forEach(yr=>{const qn=yr.doc.id,hr=yr.doc.exists()?yr.doc.data():null,pn=Rt.current.get(qn);yr.type==="added"&&hr&&!pn?(Mn(C_(hr,zn,oi,o,Je),"add"),Rt.current.set(qn,hr)):yr.type==="modified"&&hr&&pn?(Mn(C_(pn,zn,oi,o,Je),"subtract"),Mn(C_(hr,zn,oi,o,Je),"add"),Rt.current.set(qn,hr)):yr.type==="removed"&&pn&&(Mn(C_(pn,zn,oi,o,Je),"subtract"),Rt.current.delete(qn))})},It=>{console.error("Listener Error:",It),i("Real-time updates failed.")})}catch(et){console.error("Error setting up listener:",et)}},[t,Mn,o,Je]),Tc=T.useCallback(async()=>{if(!J){alert("Please select a date for export.");return}he(!0);try{const et=new Date(J);et.setHours(0,0,0,0);const qe=new Date(et);qe.setDate(qe.getDate()+1);const It=dn(st,"cases");let _t=[tt("createdAt",">=",et),tt("createdAt","<",qe),Jr("createdAt","desc")];pe&&_t.unshift(tt("partnerName","==",pe));const _n=await ur(kt(It,..._t)),zn=[];if(_n.forEach(qn=>{const hr=qn.data();zn.push({id:qn.id,...hr})}),console.log(`Found ${zn.length} cases for export on ${J}`),zn.length===0){alert(`No cases found for ${J}${pe?` for partner: ${pe}`:""}.`);return}const oi=pe?`_${pe.replace(/\s+/g,"_")}`:"",yr=`cases_export_${J}${oi}.xlsx`;u$(zn,yr),K(!1),alert(`Successfully exported ${zn.length} cases for ${J}${pe?` (Partner: ${pe})`:""}.`)}catch(et){console.error("Error exporting Excel:",et),alert("Failed to export data. Please try again.")}finally{he(!1)}},[J,pe,t,Je]);T.useCallback(()=>{if(!(u!=null&&u.cases)||u.cases.length===0){alert("No data available to export.");return}const It=`cases_export_${new Date().toISOString().split("T")[0]}.xlsx`;try{u$(u.cases,It)}catch(_t){console.error("Error exporting to Excel:",_t),alert("Failed to export data. Please try again.")}},[u==null?void 0:u.cases]);const Ia=T.useCallback(async()=>{if(z(!ce),h){const et={status:O!=="all"?O:null,queue:A!=="all"?A:null,partner:o||(j.length>0?j:null),clinic:F!=="all"?F:null,doctor:q!=="all"?q:null,dateFrom:E.from,dateTo:E.to,searchTerm:C||null};Nr(h,et)}},[h,O,A,o,j,F,q,E,C]);T.useEffect(()=>{if(v===0)return;const et=setInterval(Ia,v);return()=>clearInterval(et)},[v,Ia]);const Nr=T.useCallback(async(et,qe={})=>{if(!(!(t!=null&&t.role)||!(t!=null&&t.uid)||!Je)){s(!0);try{const It={status:qe.status!==void 0?qe.status:O!=="all"?O:null,queue:qe.queue!==void 0?qe.queue:A!=="all"?A:null,partner:qe.partner!==void 0?qe.partner:o||(j!=="all"?j:null),clinic:qe.clinic!==void 0?qe.clinic:F!=="all"?F:null,doctor:qe.doctor!==void 0?qe.doctor:q!=="all"?q:null,dateFrom:qe.dateFrom!==void 0?qe.dateFrom:E.from,dateTo:qe.dateTo!==void 0?qe.dateTo:E.to,searchTerm:qe.searchTerm!==void 0?qe.searchTerm:C||null},_t=await wIe(t.uid,t.role,et,It,{page:1,pageSize:1e3},Je);d({cases:_t.cases,uniquePartners:_t.uniquePartners,uniqueClinics:_t.uniqueClinics,uniqueDoctors:_t.uniqueDoctors,pagination:_t.pagination}),_(!0)}catch(It){console.error("Error fetching tab data:",It),i("Failed to load case data. Please try again.")}finally{s(!1)}}},[t==null?void 0:t.uid,t==null?void 0:t.role,O,A,o,j,F,E,C,Je]),is=T.useCallback(()=>{const et={status:null,queue:null,partner:null,clinic:null,doctor:null,dateFrom:null,dateTo:null,searchTerm:null};N({from:null,to:null}),k(""),I("all"),R("all"),B("all"),re("all"),Q(null),W(Date.now()),h&&Nr(h,et)},[h,Nr]),Da=T.useCallback(et=>{let qe={status:O!=="all"?O:null,queue:A!=="all"?A:null,partner:o||(j.length>0?j:null),clinic:F!=="all"?F:null,doctor:q!=="all"?q:null,dateFrom:E.from,dateTo:E.to,searchTerm:C||null};switch(et){case"status":I("all"),qe.status=null;break;case"queue":R("all"),qe.queue=null;break;case"partner":B([]),qe.partner=null;break;case"clinic":re("all"),qe.clinic=null;break;case"doctor":V("all"),qe.doctor=null;break;case"date":N({from:null,to:null}),qe.dateFrom=null,qe.dateTo=null;break;case"search":k(""),qe.searchTerm=null;break}Q(null),h&&Nr(h,qe)},[h,Nr,O,A,o,j,F,E,C]),Or=T.useCallback((et,qe)=>{let It={status:O!=="all"?O:null,queue:A!=="all"?A:null,partner:o||(j.length>0?j:null),clinic:F!=="all"?F:null,doctor:q!=="all"?q:null,dateFrom:E.from,dateTo:E.to,searchTerm:C||null};switch(et){case"status":I(qe),It.status=qe==="all"?null:qe;break;case"queue":R(qe),It.queue=qe==="all"?null:qe;break;case"partner":B(qe),It.partner=qe.length===0?null:qe;break;case"clinic":re(qe),It.clinic=qe==="all"?null:qe;break;case"doctor":V(qe),It.doctor=qe==="all"?null:qe;break;case"date":N(qe),It.dateFrom=qe.from,It.dateTo=qe.to;break}et!=="partner"&&Q(null),h&&Nr(h,It)},[h,Nr,O,A,o,j,F,E,C]),yo=T.useCallback(et=>{if(k(et),et===""&&h){const qe={status:O!=="all"?O:null,queue:A!=="all"?A:null,partner:o||(j!=="all"?j:null),clinic:F!=="all"?F:null,doctor:q!=="all"?q:null,dateFrom:E.from,dateTo:E.to,searchTerm:""};Nr(h,qe)}},[h,Nr,O,A,o,j,F,E]),xa=T.useCallback(et=>{if(k(et),h){const qe={status:O!=="all"?O:null,queue:A!=="all"?A:null,partner:o||(j!=="all"?j:null),clinic:F!=="all"?F:null,doctor:q!=="all"?q:null,dateFrom:E.from,dateTo:E.to,searchTerm:et};Nr(h,qe)}},[h,Nr,O,A,o,j,F,E]),qr=T.useCallback(et=>{if(et===h||!Je)return;g(et),Hn(),!Fe.current&&st&&Ir(),Nr(et,{status:O!=="all"?O:null,queue:A!=="all"?A:null,partner:o||(j!=="all"?j:null),clinic:F!=="all"?F:null,doctor:q!=="all"?q:null,searchTerm:C||null})},[h,Nr,O,A,o,j,F,C,Je,Hn,Ir]),xo=T.useMemo(()=>{var et;return((et=u==null?void 0:u.uniqueClinics)==null?void 0:et.map(qe=>({value:qe,label:qe})))||[]},[u==null?void 0:u.uniqueClinics]),ol=T.useMemo(()=>{var et;return((et=u==null?void 0:u.uniqueDoctors)==null?void 0:et.map(qe=>({value:qe,label:qe})))||[]},[u==null?void 0:u.uniqueDoctors]);return T.useEffect(()=>()=>{Fe.current&&Fe.current()},[]),t!=null&&t.role?e&&!Je&&!r?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})}):r?p.jsxs(nn,{variant:"destructive",className:"mb-6",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:r})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Cases Dashboard"}),p.jsxs("div",{className:"flex items-center gap-2",children:[t.role==="superAdmin"&&p.jsxs(nt,{variant:"outline",size:"sm",onClick:()=>K(!0),className:"bg-green-50 border-green-200 hover:bg-green-100",children:[p.jsx(w8,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),p.jsx(Gn,{variant:"outline",className:"text-sm px-3 py-1",children:t.role?t.role.charAt(0).toUpperCase()+t.role.slice(1):""}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm text-gray-500",children:"Auto-refresh:"}),p.jsxs("select",{className:"border rounded p-1 text-sm",value:v,onChange:et=>b(Number(et.target.value)),children:[p.jsx("option",{value:0,children:"Off"}),p.jsx("option",{value:3e4,children:"30 seconds"}),p.jsx("option",{value:6e4,children:"1 minute"}),p.jsx("option",{value:3e5,children:"5 minutes"})]})]}),p.jsx("button",{onClick:Ia,disabled:a||e,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm disabled:opacity-50",children:"Refresh Now"}),["superAdmin","zonalHead","teamLeader","drManager"].includes(t.role)&&p.jsx("div",{className:"w-64",children:p.jsx(Wu,{options:D,isClearable:!0,placeholder:"Filter by Partner",value:o?{value:o,label:o}:null,onChange:zi})})]})]}),Y&&t.role==="superAdmin"&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-lg",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[p.jsx(M1,{className:"h-5 w-5 mr-2"}),"Export Cases by Date"]}),p.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",disabled:de,children:""})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date *"}),p.jsx("input",{type:"date",value:J,onChange:et=>fe(et.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:de})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Partner (Optional)"}),p.jsx(Wu,{options:D,isClearable:!0,placeholder:"All Partners",value:pe?{value:pe,label:pe}:null,onChange:et=>ye(et?et.value:null),isDisabled:de})]}),p.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:p.jsxs("p",{className:"text-sm text-blue-800",children:[p.jsx("strong",{children:"Export Details:"}),p.jsx("br",{})," Date: ",J?new Date(J).toLocaleDateString():"Not selected",p.jsx("br",{})," Partner: ",pe||"All Partners",p.jsx("br",{})," File will include all case data for the selected date"]})})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(nt,{variant:"outline",onClick:()=>K(!1),disabled:de,children:"Cancel"}),p.jsx(nt,{onClick:Tc,disabled:!J||de,className:"bg-green-600 hover:bg-green-700",children:de?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent mr-2"}),"Exporting..."]}):p.jsxs(p.Fragment,{children:[p.jsx(w8,{className:"h-4 w-4 mr-2"}),"Export Excel"]})})]})]})}),p.jsx(ZPe,{data:Ce,loading:Ue,onLoadCounts:Hn}),p.jsx(eRe,{activeTab:h,onTabChange:qr,handleTableRefresh:Ia}),h&&p.jsx(tRe,{searchTerm:C,onSearchChange:yo,onSearchSubmit:xa,onFilterReset:is},ie),h?p.jsx(ei,{children:p.jsx(xi,{className:"p-0",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full border-collapse",children:[p.jsx("thead",{children:p.jsx(vIe,{activeColumnFilter:X,setActiveColumnFilter:Q,clinicFilter:F,partnerFilter:j,doctorFilter:q,dateRange:E,clinicOptions:xo,doctorOptions:ol,partnerOptions:D,handleFilterApply:Or,handleSingleFilterReset:Da})}),a?p.jsx("tbody",{children:p.jsx("tr",{children:p.jsx("td",{colSpan:"9",children:p.jsx("div",{className:"flex justify-center py-8",children:p.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})})})})}):p.jsx("tbody",{children:u!=null&&u.cases&&u.cases.length>0?p.jsx(QPe,{data:u.cases,loading:!1,userRole:t.role,currentUser:t,showHeader:!1,pagination:u.pagination}):p.jsx(xIe,{userRole:t.role})})]})})})}):p.jsx(yIe,{}),t.role!=="superAdmin"&&t.role!=="zonalHead"&&p.jsx(bIe,{userRole:t.role})]}):p.jsxs(nn,{variant:"destructive",className:"mb-6",children:[p.jsx(Ti,{className:"h-4 w-4 mr-2"}),p.jsx(rn,{children:"User Role Not Recognised"})]})},N$=12,NIe=async(t,e)=>{try{const n=[],r=new Set,i=kt(dn(st,"users"),tt("role","==",e));return(await ur(i)).forEach(s=>{const o=s.data();n.push({id:s.id,name:o.name||"Unknown "+e.charAt(0).toUpperCase()+e.slice(1),email:o.email||"",empId:o.empId||"",availabilityStatus:o.availabilityStatus||"unavailable",lastStatusUpdate:o.lastStatusUpdate||null,assignedClinics:o.assignedClinics||{},reportingTo:o.reportingTo||"",reportingToName:o.reportingToName||"",partnerName:o.partnerName||"Unknown",availabilityHistory:o.availabilityHistory||[],breakStartedAt:o.breakStartedAt||null,breakDuration:o.breakDuration||0,todayCases:0,pendingCases:0,completedCases:0,incompleteCases:0,averageTAT:0,shiftTiming:"",shiftType:"",hourlyTarget:N$,dailyTarget:N$*8}),o.partnerName&&r.add(o.partnerName)}),{docList:n,partnerNames:Array.from(r)}}catch(n){return console.error("Error fetching user hierarchy:",n),{userIds:new Set([t]),doctorIds:new Set,hierarchyDepth:0}}};var O$={};const P$="@firebase/database",R$="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cee="";function OIe(t){Cee=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PIe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ti(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ov(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RIe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hc(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PIe(e)}}catch{}return new RIe},ld=Nee("localStorage"),IIe=Nee("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new CE("@firebase/database"),DIe=function(){let t=1;return function(){return t++}}(),Oee=function(t){const e=Gle(t),n=new Hle;n.update(e);const r=n.digest();return Sk.encodeByteArray(r)},yx=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yx.apply(null,r):typeof r=="object"?e+=ti(r):e+=r,e+=" "}return e};let hv=null,I$=!0;const kIe=function(t,e){Qe(!0,"Can't turn on custom loggers persistently."),$p.logLevel=Yt.VERBOSE,hv=$p.log.bind($p)},Qi=function(...t){if(I$===!0&&(I$=!1,hv===null&&IIe.get("logging_enabled")===!0&&kIe()),hv){const e=yx.apply(null,t);hv(e)}},xx=function(t){return function(...e){Qi(t,...e)}},RI=function(...t){const e="FIREBASE INTERNAL ERROR: "+yx(...t);$p.error(e)},oc=function(...t){const e=`FIREBASE FATAL ERROR: ${yx(...t)}`;throw $p.error(e),new Error(e)},ts=function(...t){const e="FIREBASE WARNING: "+yx(...t);$p.warn(e)},jIe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ts("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pee=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},MIe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},dm="[MIN_NAME]",Id="[MAX_NAME]",g0=function(t,e){if(t===e)return 0;if(t===dm||e===Id)return-1;if(e===dm||t===Id)return 1;{const n=D$(t),r=D$(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},LIe=function(t,e){return t===e?0:t<e?-1:1},Ig=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ti(e))},UM=function(t){if(typeof t!="object"||t===null)return ti(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ti(e[r]),n+=":",n+=UM(t[e[r]]);return n+="}",n},Ree=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Pa(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Iee=function(t){Qe(!Pee(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,a,s,o,l;t===0?(a=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=o+r,s=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(a=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(i?1:0),u.reverse();const d=u.join("");let h="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),h=h+g}return h.toLowerCase()},FIe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BIe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $Ie(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const VIe=new RegExp("^-?(0*)\\d{1,10}$"),UIe=-2147483648,HIe=2147483647,D$=function(t){if(VIe.test(t)){const e=Number(t);if(e>=UIe&&e<=HIe)return e}return null},bx=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ts("Exception was thrown by user callback.",n),e},Math.floor(0))}},zIe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pv=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qIe{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ka(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ts(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WIe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ts(e)}}class u1{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}u1.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="5",Dee="v",kee="s",jee="r",Mee="f",Lee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fee="ls",Bee="p",II="ac",$ee="websocket",Vee="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(e,n,r,i,a=!1,s="",o=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ld.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ld.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function GIe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Hee(t,e,n){Qe(typeof e=="string","typeof type must == string"),Qe(typeof n=="object","typeof params must == object");let r;if(e===$ee)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Vee)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);GIe(t)&&(n.ns=t.namespace);const i=[];return Pa(n,(a,s)=>{i.push(a+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KIe{constructor(){this.counters_={}}incrementCounter(e,n=1){hc(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Sle(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={},p2={};function zM(t){const e=t.toString();return h2[e]||(h2[e]=new KIe),h2[e]}function YIe(t,e){const n=t.toString();return p2[n]||(p2[n]=e()),p2[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XIe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&bx(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="start",QIe="close",ZIe="pLPCommand",JIe="pRTLPCB",zee="id",qee="pw",Wee="ser",eDe="cb",tDe="seg",nDe="ts",rDe="d",iDe="dframe",Gee=1870,Kee=30,aDe=Gee-Kee,sDe=25e3,oDe=3e4;class bp{constructor(e,n,r,i,a,s,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xx(e),this.stats_=zM(n),this.urlFn=l=>(this.appCheckToken&&(l[II]=this.appCheckToken),Hee(n,Vee,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new XIe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oDe)),MIe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qM((...a)=>{const[s,o,l,u,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===k$)this.id=o,this.password=l;else if(s===QIe)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...a)=>{const[s,o]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(s,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[k$]="t",r[Wee]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eDe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Dee]=HM,this.transportSessionId&&(r[kee]=this.transportSessionId),this.lastSessionId&&(r[Fee]=this.lastSessionId),this.applicationId&&(r[Bee]=this.applicationId),this.appCheckToken&&(r[II]=this.appCheckToken),typeof location<"u"&&location.hostname&&Lee.test(location.hostname)&&(r[jee]=Mee);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bp.forceAllow_=!0}static forceDisallow(){bp.forceDisallow_=!0}static isAvailable(){return bp.forceAllow_?!0:!bp.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FIe()&&!BIe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ti(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RW(n),i=Ree(r,aDe);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iDe]="t",r[zee]=e,r[qee]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ti(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qM{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=DIe(),window[ZIe+this.uniqueCallbackIdentifier]=e,window[JIe+this.uniqueCallbackIdentifier]=n,this.myIFrame=qM.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(o){Qi("frame writing exception"),o.stack&&Qi(o.stack),Qi(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zee]=this.myID,e[qee]=this.myPW,e[Wee]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Kee+r.length<=Gee;){const s=this.pendingSegs.shift();r=r+"&"+tDe+i+"="+s.seg+"&"+nDe+i+"="+s.ts+"&"+rDe+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(sDe)),a=()=>{clearTimeout(i),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lDe=16384,cDe=45e3;let uw=null;typeof MozWebSocket<"u"?uw=MozWebSocket:typeof WebSocket<"u"&&(uw=WebSocket);class Qs{constructor(e,n,r,i,a,s,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xx(this.connId),this.stats_=zM(n),this.connURL=Qs.connectionURL_(n,s,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,a){const s={};return s[Dee]=HM,typeof location<"u"&&location.hostname&&Lee.test(location.hostname)&&(s[jee]=Mee),n&&(s[kee]=n),r&&(s[Fee]=r),i&&(s[II]=i),a&&(s[Bee]=a),Hee(e,$ee,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ld.set("previous_websocket_failure",!0);try{let r;kle(),this.mySock=new uw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&uw!==null&&!Qs.forceDisallow_}static previouslyFailed(){return ld.isInMemoryStorage||ld.get("previous_websocket_failure")===!0}markConnectionHealthy(){ld.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ov(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Qe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ti(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ree(n,lDe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cDe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qs.responsesRequiredToBeHealthy=2;Qs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{static get ALL_TRANSPORTS(){return[bp,Qs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Qs&&Qs.isAvailable();let r=n&&!Qs.previouslyFailed();if(e.webSocketOnly&&(n||ts("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qs];else{const i=this.transports_=[];for(const a of ty.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);ty.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ty.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uDe=6e4,fDe=5e3,dDe=10*1024,hDe=100*1024,m2="t",j$="d",pDe="s",M$="r",mDe="e",L$="o",F$="a",B$="n",$$="p",gDe="h";class vDe{constructor(e,n,r,i,a,s,o,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xx("c:"+this.id+":"),this.transportManager_=new ty(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=pv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hDe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dDe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(m2 in e){const n=e[m2];n===F$?this.upgradeIfSecondaryHealthy_():n===M$?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===L$&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ig("t",e),r=Ig("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$$,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:F$,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:B$,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ig("t",e),r=Ig("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ig(m2,e);if(j$ in e){const r=e[j$];if(n===gDe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===B$){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pDe?this.onConnectionShutdown_(r):n===M$?this.onReset_(r):n===mDe?RI("Server Error: "+r):n===L$?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RI("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),HM!==r&&ts("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uDe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fDe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$$,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ld.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xee=class{constructor(e){this.allowedEvents_=e,this.listeners_={},Qe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(e){Qe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Xee{static getInstance(){return new fw}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ak()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Qe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=32,U$=768;let Yn=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function xn(){return new Yn("")}function tn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ju(t){return t.pieces_.length-t.pieceNum_}function er(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Yn(t.pieces_,e)}function Qee(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yDe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zee(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Jee(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Yn(e,0)}function ri(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Yn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Yn(n,0)}function Qt(t){return t.pieceNum_>=t.pieces_.length}function fa(t,e){const n=tn(t),r=tn(e);if(n===null)return e;if(n===r)return fa(er(t),er(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ete(t,e){if(Ju(t)!==Ju(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function to(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ju(t)>Ju(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class xDe{constructor(e,n){this.errorPrefix_=n,this.parts_=Zee(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=AE(this.parts_[r]);tte(this)}}function bDe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=AE(e),tte(t)}function _De(t){const e=t.parts_.pop();t.byteLength_-=AE(e),t.parts_.length>0&&(t.byteLength_-=1)}function tte(t){if(t.byteLength_>U$)throw new Error(t.errorPrefix_+"has a key path longer than "+U$+" bytes ("+t.byteLength_+").");if(t.parts_.length>V$)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+V$+") or object contains a cycle "+ed(t))}function ed(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM extends Xee{static getInstance(){return new WM}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Qe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=1e3,wDe=60*5*1e3,H$=30*1e3,EDe=1.3,SDe=3e4,TDe="server_kill",z$=3;class Kl extends Yee{constructor(e,n,r,i,a,s,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=Kl.nextPersistentConnectionId_++,this.log_=xx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dg,this.maxReconnectDelay_=wDe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WM.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fw.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,a={r:i,a:e,b:n};this.log_(ti(a)),Qe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Tk,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const o=s.d;s.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,i){this.initConnection_();const a=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),Qe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Qe(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(a,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},s="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(s,a,o=>{const l=o.d,u=o.s;Kl.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&hc(e,"w")){const r=Wp(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();ts(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ule(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=H$)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Vle(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,s=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Qe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const a={p:e},s="n";i&&(a.q=r,a.t=i),this.sendRequest(s,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,a){this.initConnection_();const s={p:n,d:r};a!==void 0&&(s.h=a),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ti(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):RI("Unrecognized action received from server: "+ti(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Qe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SDe&&(this.reconnectDelay_=Dg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*EDe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Kl.nextConnectionId_++,a=this.lastSessionId;let s=!1,o=null;const l=function(){o?o.close():(s=!0,r())},u=function(h){Qe(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Qi("getToken() completed but was canceled"):(Qi("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=g&&g.token,o=new vDe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{ts(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(TDe)},a))}catch(h){this.log_("Failed to get token: "+h),s||(this.repoInfo_.nodeAdmin&&ts(h),l())}}}interrupt(e){Qi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],SR(this.interruptReasons_)&&(this.reconnectDelay_=Dg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>UM(a)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Yn(e).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Qi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=z$&&(this.reconnectDelay_=H$,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=z$&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Cee.replace(/\./g,"-")]=1,Ak()?e["framework.cordova"]=1:FW()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fw.getInstance().currentlyOnline();return SR(this.interruptReasons_)&&e}}Kl.nextPersistentConnectionId_=0;Kl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new zt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new zt(dm,e),i=new zt(dm,n);return this.compare(r,i)!==0}minPost(){return zt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_;class nte extends OS{static get __EMPTY_NODE(){return N_}static set __EMPTY_NODE(e){N_=e}compare(e,n){return g0(e.name,n.name)}isDefinedOn(e){throw Km("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return zt.MIN}maxPost(){return new zt(Id,N_)}makePost(e,n){return Qe(typeof e=="string","KeyIndex indexValue must always be a string."),new zt(e,N_)}toString(){return".key"}}const Vp=new nte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class yi{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yi.RED,this.left=i??Ea.EMPTY_NODE,this.right=a??Ea.EMPTY_NODE}copy(e,n,r,i,a){return new yi(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ea.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ea.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}yi.RED=!0;yi.BLACK=!1;class ADe{copy(e,n,r,i,a){return this}insert(e,n,r){return new yi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ea{constructor(e,n=Ea.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ea(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,yi.BLACK,null,null))}remove(e){return new Ea(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new O_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new O_(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new O_(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new O_(this.root_,null,this.comparator_,!0,e)}}Ea.EMPTY_NODE=new ADe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CDe(t,e){return g0(t.name,e.name)}function GM(t,e){return g0(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DI;function NDe(t){DI=t}const rte=function(t){return typeof t=="number"?"number:"+Iee(t):"string:"+t},ite=function(t){if(t.isLeafNode()){const e=t.val();Qe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hc(e,".sv"),"Priority must be a string or number.")}else Qe(t===DI||t.isEmpty(),"priority of unexpected type.");Qe(t===DI||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q$;class mi{static set __childrenNodeConstructor(e){q$=e}static get __childrenNodeConstructor(){return q$}constructor(e,n=mi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Qe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ite(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new mi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:mi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qt(e)?this:tn(e)===".priority"?this.priorityNode_:mi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:mi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=tn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Qe(r!==".priority"||Ju(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,mi.__childrenNodeConstructor.EMPTY_NODE.updateChild(er(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rte(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Iee(this.value_):e+=this.value_,this.lazyHash_=Oee(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===mi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof mi.__childrenNodeConstructor?-1:(Qe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=mi.VALUE_TYPE_ORDER.indexOf(n),a=mi.VALUE_TYPE_ORDER.indexOf(r);return Qe(i>=0,"Unknown leaf type: "+n),Qe(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}mi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ate,ste;function ODe(t){ate=t}function PDe(t){ste=t}class RDe extends OS{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?g0(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return zt.MIN}maxPost(){return new zt(Id,new mi("[PRIORITY-POST]",ste))}makePost(e,n){const r=ate(e);return new zt(n,new mi("[PRIORITY-POST]",r))}toString(){return".priority"}}const Tr=new RDe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDe=Math.log(2);class DDe{constructor(e){const n=a=>parseInt(Math.log(a)/IDe,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dw=function(t,e,n,r){t.sort(e);const i=function(l,u){const d=u-l;let h,g;if(d===0)return null;if(d===1)return h=t[l],g=n?n(h):h,new yi(g,h.node,yi.BLACK,null,null);{const y=parseInt(d/2,10)+l,_=i(l,y),v=i(y+1,u);return h=t[y],g=n?n(h):h,new yi(g,h.node,yi.BLACK,_,v)}},a=function(l){let u=null,d=null,h=t.length;const g=function(_,v){const b=h-_,E=h;h-=_;const N=i(b+1,E),C=t[b],k=n?n(C):C;y(new yi(k,C.node,v,null,N))},y=function(_){u?(u.left=_,u=_):(d=_,u=_)};for(let _=0;_<l.count;++_){const v=l.nextBitIsOne(),b=Math.pow(2,l.count-(_+1));v?g(b,yi.BLACK):(g(b,yi.BLACK),g(b,yi.RED))}return d},s=new DDe(t.length),o=a(s);return new Ea(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g2;const sp={};class Fl{static get Default(){return Qe(sp&&Tr,"ChildrenNode.ts has not been loaded"),g2=g2||new Fl({".priority":sp},{".priority":Tr}),g2}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Wp(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ea?n:null}hasIndex(e){return hc(this.indexSet_,e.toString())}addIndex(e,n){Qe(e!==Vp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(zt.Wrap);let s=a.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=a.getNext();let o;i?o=dw(r,e.getCompare()):o=sp;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=o,new Fl(d,u)}addToIndexes(e,n){const r=m1(this.indexes_,(i,a)=>{const s=Wp(this.indexSet_,a);if(Qe(s,"Missing index implementation for "+a),i===sp)if(s.isDefinedOn(e.node)){const o=[],l=n.getIterator(zt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),dw(o,s.getCompare())}else return sp;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new zt(e.name,o))),l.insert(e,e.node)}});return new Fl(r,this.indexSet_)}removeFromIndexes(e,n){const r=m1(this.indexes_,i=>{if(i===sp)return i;{const a=n.get(e.name);return a?i.remove(new zt(e.name,a)):i}});return new Fl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg;class Nt{static get EMPTY_NODE(){return kg||(kg=new Nt(new Ea(GM),null,Fl.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ite(this.priorityNode_),this.children_.isEmpty()&&Qe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kg}updatePriority(e){return this.children_.isEmpty()?this:new Nt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?kg:n}}getChild(e){const n=tn(e);return n===null?this:this.getImmediateChild(n).getChild(er(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Qe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new zt(e,n);let i,a;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?kg:this.priorityNode_;return new Nt(i,s,a)}}updateChild(e,n){const r=tn(e);if(r===null)return n;{Qe(tn(e)!==".priority"||Ju(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(er(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild(Tr,(s,o)=>{n[s]=o.val(e),r++,a&&Nt.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):a=!1}),!e&&a&&i<2*r){const s=[];for(const o in n)s[o]=n[o];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+rte(this.getPriority().val())+":"),this.forEachChild(Tr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Oee(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new zt(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new zt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new zt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,zt.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,zt.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_x?-1:0}withIndex(e){if(e===Vp||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Nt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vp||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Tr),i=n.getIterator(Tr);let a=r.getNext(),s=i.getNext();for(;a&&s;){if(a.name!==s.name||!a.node.equals(s.node))return!1;a=r.getNext(),s=i.getNext()}return a===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Vp?null:this.indexMap_.get(e.toString())}}Nt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kDe extends Nt{constructor(){super(new Ea(GM),Nt.EMPTY_NODE,Fl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nt.EMPTY_NODE}isEmpty(){return!1}}const _x=new kDe;Object.defineProperties(zt,{MIN:{value:new zt(dm,Nt.EMPTY_NODE)},MAX:{value:new zt(Id,_x)}});nte.__EMPTY_NODE=Nt.EMPTY_NODE;mi.__childrenNodeConstructor=Nt;NDe(_x);PDe(_x);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jDe=!0;function Mi(t,e=null){if(t===null)return Nt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Qe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new mi(n,Mi(e))}if(!(t instanceof Array)&&jDe){const n=[];let r=!1;if(Pa(t,(s,o)=>{if(s.substring(0,1)!=="."){const l=Mi(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new zt(s,l)))}}),n.length===0)return Nt.EMPTY_NODE;const a=dw(n,CDe,s=>s.name,GM);if(r){const s=dw(n,Tr.getCompare());return new Nt(a,Mi(e),new Fl({".priority":s},{".priority":Tr}))}else return new Nt(a,Mi(e),Fl.Default)}else{let n=Nt.EMPTY_NODE;return Pa(t,(r,i)=>{if(hc(t,r)&&r.substring(0,1)!=="."){const a=Mi(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Mi(e))}}ODe(Mi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MDe extends OS{constructor(e){super(),this.indexPath_=e,Qe(!Qt(e)&&tn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?g0(e.name,n.name):a}makePost(e,n){const r=Mi(e),i=Nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new zt(n,i)}maxPost(){const e=Nt.EMPTY_NODE.updateChild(this.indexPath_,_x);return new zt(Id,e)}toString(){return Zee(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LDe extends OS{compare(e,n){const r=e.node.compareTo(n.node);return r===0?g0(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return zt.MIN}maxPost(){return zt.MAX}makePost(e,n){const r=Mi(e);return new zt(n,r)}toString(){return".value"}}const FDe=new LDe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ote(t){return{type:"value",snapshotNode:t}}function hm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ny(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ry(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function BDe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.index_=e}updateChild(e,n,r,i,a,s){Qe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ny(n,o)):Qe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(hm(n,r)):s.trackChildChange(ry(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Tr,(i,a)=>{n.hasChild(i)||r.trackChildChange(ny(i,a))}),n.isLeafNode()||n.forEachChild(Tr,(i,a)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(a)||r.trackChildChange(ry(i,a,s))}else r.trackChildChange(hm(i,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Nt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this.indexedFilter_=new KM(e.getIndex()),this.index_=e.getIndex(),this.startPost_=iy.getStartPost_(e),this.endPost_=iy.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,a,s){return this.matches(new zt(n,r))||(r=Nt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,a,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Nt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Nt.EMPTY_NODE);const a=this;return n.forEachChild(Tr,(s,o)=>{a.matches(new zt(s,o))||(i=i.updateImmediateChild(s,Nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $De{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new iy(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,a,s){return this.rangedFilter_.matches(new zt(n,r))||(r=Nt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,a,s):this.fullLimitUpdateChild_(e,n,r,a,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Nt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Nt.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;a.hasNext()&&s<this.limit_;){const o=a.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Nt.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let s=0;for(;a.hasNext();){const o=a.getNext();s<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?s++:i=i.updateImmediateChild(o.name,Nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,a){let s;if(this.reverse_){const h=this.index_.getCompare();s=(g,y)=>h(y,g)}else s=this.index_.getCompare();const o=e;Qe(o.numChildren()===this.limit_,"");const l=new zt(n,r),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(o.hasChild(n)){const h=o.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,u,this.reverse_);for(;g!=null&&(g.name===n||o.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:s(g,l);if(d&&!r.isEmpty()&&y>=0)return a!=null&&a.trackChildChange(ry(n,r,h)),o.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(ny(n,h));const v=o.updateImmediateChild(n,Nt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(a!=null&&a.trackChildChange(hm(g.name,g.node)),v.updateImmediateChild(g.name,g.node)):v}}else return r.isEmpty()?e:d&&s(u,l)>=0?(a!=null&&(a.trackChildChange(ny(u.name,u.node)),a.trackChildChange(hm(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(u.name,Nt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Qe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Qe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dm}hasEnd(){return this.endSet_}getIndexEndValue(){return Qe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Qe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Id}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Qe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tr}copy(){const e=new YM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VDe(t){return t.loadsAllData()?new KM(t.getIndex()):t.hasLimit()?new $De(t):new iy(t)}function W$(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Tr?n="$priority":t.index_===FDe?n="$value":t.index_===Vp?n="$key":(Qe(t.index_ instanceof MDe,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ti(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ti(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ti(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ti(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ti(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function G$(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Tr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends Yee{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Qe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=xx("p:rest:"),this.listens_={}}listen(e,n,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const s=hw.getListenId_(e,r),o={};this.listens_[s]=o;const l=W$(e._queryParams);this.restRequest_(a+".json",l,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(a,h,!1,r),Wp(this.listens_,s)===o){let g;u?u===401?g="permission_denied":g="rest_error:"+u:g="ok",i(g,null)}})}unlisten(e,n){const r=hw.getListenId_(e,n);delete this.listens_[r]}get(e){const n=W$(e._queryParams),r=e._path.toString(),i=new Tk;return this.restRequest_(r+".json",n,(a,s)=>{let o=s;a===404&&(o=null,a=null),a===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ym(n);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=Ov(o.responseText)}catch{ts("Failed to parse JSON response for "+s+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&ts("Got unsuccessful REST response for "+s+" Status: "+o.status),r(o.status);r=null}},o.open("GET",s,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UDe{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return{value:null,children:new Map}}function lte(t,e,n){if(Qt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=tn(e);t.children.has(r)||t.children.set(r,pw());const i=t.children.get(r);e=er(e),lte(i,e,n)}}function kI(t,e,n){t.value!==null?n(e,t.value):HDe(t,(r,i)=>{const a=new Yn(e.toString()+"/"+r);kI(i,a,n)})}function HDe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zDe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Pa(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=10*1e3,qDe=30*1e3,WDe=5*60*1e3;class GDe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zDe(e);const r=K$+(qDe-K$)*Math.random();pv(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Pa(e,(i,a)=>{a>0&&hc(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),pv(this.reportStats_.bind(this),Math.floor(Math.random()*2*WDe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(no||(no={}));function cte(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function XM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function QM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=no.ACK_USER_WRITE,this.source=cte()}operationForChild(e){if(Qt(this.path)){if(this.affectedTree.value!=null)return Qe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Yn(e));return new mw(xn(),n,this.revert)}}else return Qe(tn(this.path)===e,"operationForChild called for unrelated child."),new mw(er(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.source=e,this.path=n,this.type=no.LISTEN_COMPLETE}operationForChild(e){return Qt(this.path)?new ay(this.source,xn()):new ay(this.source,er(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=no.OVERWRITE}operationForChild(e){return Qt(this.path)?new Dd(this.source,xn(),this.snap.getImmediateChild(e)):new Dd(this.source,er(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=no.MERGE}operationForChild(e){if(Qt(this.path)){const n=this.children.subtree(new Yn(e));return n.isEmpty()?null:n.value?new Dd(this.source,xn(),n.value):new sy(this.source,xn(),n)}else return Qe(tn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sy(this.source,er(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Qt(e))return this.isFullyInitialized()&&!this.filtered_;const n=tn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KDe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function YDe(t,e,n,r){const i=[],a=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&a.push(BDe(s.childName,s.snapshotNode))}),jg(t,i,"child_removed",e,r,n),jg(t,i,"child_added",e,r,n),jg(t,i,"child_moved",a,r,n),jg(t,i,"child_changed",e,r,n),jg(t,i,"value",e,r,n),i}function jg(t,e,n,r,i,a){const s=r.filter(o=>o.type===n);s.sort((o,l)=>QDe(t,o,l)),s.forEach(o=>{const l=XDe(t,o,a);i.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function XDe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function QDe(t,e,n){if(e.childName==null||n.childName==null)throw Km("Should only compare child_ events.");const r=new zt(e.childName,e.snapshotNode),i=new zt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){return{eventCache:t,serverCache:e}}function mv(t,e,n,r){return PS(new ef(e,n,r),t.serverCache)}function ute(t,e,n,r){return PS(t.eventCache,new ef(e,n,r))}function gw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function kd(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v2;const ZDe=()=>(v2||(v2=new Ea(LIe)),v2);class rr{static fromObject(e){let n=new rr(null);return Pa(e,(r,i)=>{n=n.set(new Yn(r),i)}),n}constructor(e,n=ZDe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:xn(),value:this.value};if(Qt(e))return null;{const r=tn(e),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(er(e),n);return a!=null?{path:ri(new Yn(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Qt(e))return this;{const n=tn(e),r=this.children.get(n);return r!==null?r.subtree(er(e)):new rr(null)}}set(e,n){if(Qt(e))return new rr(n,this.children);{const r=tn(e),a=(this.children.get(r)||new rr(null)).set(er(e),n),s=this.children.insert(r,a);return new rr(this.value,s)}}remove(e){if(Qt(e))return this.children.isEmpty()?new rr(null):new rr(null,this.children);{const n=tn(e),r=this.children.get(n);if(r){const i=r.remove(er(e));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new rr(null):new rr(this.value,a)}else return this}}get(e){if(Qt(e))return this.value;{const n=tn(e),r=this.children.get(n);return r?r.get(er(e)):null}}setTree(e,n){if(Qt(e))return n;{const r=tn(e),a=(this.children.get(r)||new rr(null)).setTree(er(e),n);let s;return a.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,a),new rr(this.value,s)}}fold(e){return this.fold_(xn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(ri(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,xn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Qt(e))return null;{const a=tn(e),s=this.children.get(a);return s?s.findOnPath_(er(e),ri(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,xn(),n)}foreachOnPath_(e,n,r){if(Qt(e))return this;{this.value&&r(n,this.value);const i=tn(e),a=this.children.get(i);return a?a.foreachOnPath_(er(e),ri(n,i),r):new rr(null)}}foreach(e){this.foreach_(xn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ri(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.writeTree_=e}static empty(){return new ao(new rr(null))}}function gv(t,e,n){if(Qt(e))return new ao(new rr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let a=r.value;const s=fa(i,e);return a=a.updateChild(s,n),new ao(t.writeTree_.set(i,a))}else{const i=new rr(n),a=t.writeTree_.setTree(e,i);return new ao(a)}}}function Y$(t,e,n){let r=t;return Pa(n,(i,a)=>{r=gv(r,ri(e,i),a)}),r}function X$(t,e){if(Qt(e))return ao.empty();{const n=t.writeTree_.setTree(e,new rr(null));return new ao(n)}}function jI(t,e){return oh(t,e)!=null}function oh(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fa(n.path,e)):null}function Q$(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Tr,(r,i)=>{e.push(new zt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new zt(r,i.value))}),e}function Pu(t,e){if(Qt(e))return t;{const n=oh(t,e);return n!=null?new ao(new rr(n)):new ao(t.writeTree_.subtree(e))}}function MI(t){return t.writeTree_.isEmpty()}function pm(t,e){return fte(xn(),t.writeTree_,e)}function fte(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(Qe(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=fte(ri(t,i),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ri(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){return mte(e,t)}function JDe(t,e,n,r,i){Qe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=gv(t.visibleWrites,e,n)),t.lastWriteId=r}function eke(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function tke(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);Qe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,a=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const o=t.allWrites[s];o.visible&&(s>=n&&nke(o,r.path)?i=!1:to(r.path,o.path)&&(a=!0)),s--}if(i){if(a)return rke(t),!0;if(r.snap)t.visibleWrites=X$(t.visibleWrites,r.path);else{const o=r.children;Pa(o,l=>{t.visibleWrites=X$(t.visibleWrites,ri(r.path,l))})}return!0}else return!1}function nke(t,e){if(t.snap)return to(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&to(ri(t.path,n),e))return!0;return!1}function rke(t){t.visibleWrites=dte(t.allWrites,ike,xn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ike(t){return t.visible}function dte(t,e,n){let r=ao.empty();for(let i=0;i<t.length;++i){const a=t[i];if(e(a)){const s=a.path;let o;if(a.snap)to(n,s)?(o=fa(n,s),r=gv(r,o,a.snap)):to(s,n)&&(o=fa(s,n),r=gv(r,xn(),a.snap.getChild(o)));else if(a.children){if(to(n,s))o=fa(n,s),r=Y$(r,o,a.children);else if(to(s,n))if(o=fa(s,n),Qt(o))r=Y$(r,xn(),a.children);else{const l=Wp(a.children,tn(o));if(l){const u=l.getChild(er(o));r=gv(r,xn(),u)}}}else throw Km("WriteRecord should have .snap or .children")}}return r}function hte(t,e,n,r,i){if(!r&&!i){const a=oh(t.visibleWrites,e);if(a!=null)return a;{const s=Pu(t.visibleWrites,e);if(MI(s))return n;if(n==null&&!jI(s,xn()))return null;{const o=n||Nt.EMPTY_NODE;return pm(s,o)}}}else{const a=Pu(t.visibleWrites,e);if(!i&&MI(a))return n;if(!i&&n==null&&!jI(a,xn()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(to(u.path,e)||to(e,u.path))},o=dte(t.allWrites,s,e),l=n||Nt.EMPTY_NODE;return pm(o,l)}}}function ake(t,e,n){let r=Nt.EMPTY_NODE;const i=oh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Tr,(a,s)=>{r=r.updateImmediateChild(a,s)}),r;if(n){const a=Pu(t.visibleWrites,e);return n.forEachChild(Tr,(s,o)=>{const l=pm(Pu(a,new Yn(s)),o);r=r.updateImmediateChild(s,l)}),Q$(a).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const a=Pu(t.visibleWrites,e);return Q$(a).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function ske(t,e,n,r,i){Qe(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=ri(e,n);if(jI(t.visibleWrites,a))return null;{const s=Pu(t.visibleWrites,a);return MI(s)?i.getChild(n):pm(s,i.getChild(n))}}function oke(t,e,n,r){const i=ri(e,n),a=oh(t.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const s=Pu(t.visibleWrites,i);return pm(s,r.getNode().getImmediateChild(n))}else return null}function lke(t,e){return oh(t.visibleWrites,e)}function cke(t,e,n,r,i,a,s){let o;const l=Pu(t.visibleWrites,e),u=oh(l,xn());if(u!=null)o=u;else if(n!=null)o=pm(l,n);else return[];if(o=o.withIndex(s),!o.isEmpty()&&!o.isLeafNode()){const d=[],h=s.getCompare(),g=a?o.getReverseIteratorFrom(r,s):o.getIteratorFrom(r,s);let y=g.getNext();for(;y&&d.length<i;)h(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]}function uke(){return{visibleWrites:ao.empty(),allWrites:[],lastWriteId:-1}}function vw(t,e,n,r){return hte(t.writeTree,t.treePath,e,n,r)}function ZM(t,e){return ake(t.writeTree,t.treePath,e)}function Z$(t,e,n,r){return ske(t.writeTree,t.treePath,e,n,r)}function yw(t,e){return lke(t.writeTree,ri(t.treePath,e))}function fke(t,e,n,r,i,a){return cke(t.writeTree,t.treePath,e,n,r,i,a)}function JM(t,e,n){return oke(t.writeTree,t.treePath,e,n)}function pte(t,e){return mte(ri(t.treePath,e),t.writeTree)}function mte(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dke{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Qe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Qe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,ry(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,ny(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,hm(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,ry(r,e.snapshotNode,i.oldSnap));else throw Km("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hke{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const gte=new hke;class e4{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ef(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return JM(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:kd(this.viewCache_),a=fke(this.writes_,i,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pke(t){return{filter:t}}function mke(t,e){Qe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Qe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function gke(t,e,n,r,i){const a=new dke;let s,o;if(n.type===no.OVERWRITE){const u=n;u.source.fromUser?s=LI(t,e,u.path,u.snap,r,i,a):(Qe(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!Qt(u.path),s=xw(t,e,u.path,u.snap,r,i,o,a))}else if(n.type===no.MERGE){const u=n;u.source.fromUser?s=yke(t,e,u.path,u.children,r,i,a):(Qe(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),s=FI(t,e,u.path,u.children,r,i,o,a))}else if(n.type===no.ACK_USER_WRITE){const u=n;u.revert?s=_ke(t,e,u.path,r,i,a):s=xke(t,e,u.path,u.affectedTree,r,i,a)}else if(n.type===no.LISTEN_COMPLETE)s=bke(t,e,n.path,r,a);else throw Km("Unknown operation type: "+n.type);const l=a.getChanges();return vke(e,s,l),{viewCache:s,changes:l}}function vke(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=gw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(ote(gw(e)))}}function vte(t,e,n,r,i,a){const s=e.eventCache;if(yw(r,n)!=null)return e;{let o,l;if(Qt(n))if(Qe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=kd(e),d=u instanceof Nt?u:Nt.EMPTY_NODE,h=ZM(r,d);o=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{const u=vw(r,kd(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=tn(n);if(u===".priority"){Qe(Ju(n)===1,"Can't have a priority with additional path components");const d=s.getNode();l=e.serverCache.getNode();const h=Z$(r,n,d,l);h!=null?o=t.filter.updatePriority(d,h):o=s.getNode()}else{const d=er(n);let h;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const g=Z$(r,n,s.getNode(),l);g!=null?h=s.getNode().getImmediateChild(u).updateChild(d,g):h=s.getNode().getImmediateChild(u)}else h=JM(r,u,e.serverCache);h!=null?o=t.filter.updateChild(s.getNode(),u,h,d,i,a):o=s.getNode()}}return mv(e,o,s.isFullyInitialized()||Qt(n),t.filter.filtersNodes())}}function xw(t,e,n,r,i,a,s,o){const l=e.serverCache;let u;const d=s?t.filter:t.filter.getIndexedFilter();if(Qt(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),y,null)}else{const y=tn(n);if(!l.isCompleteForPath(n)&&Ju(n)>1)return e;const _=er(n),b=l.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?u=d.updatePriority(l.getNode(),b):u=d.updateChild(l.getNode(),y,b,_,gte,null)}const h=ute(e,u,l.isFullyInitialized()||Qt(n),d.filtersNodes()),g=new e4(i,h,a);return vte(t,h,n,i,g,o)}function LI(t,e,n,r,i,a,s){const o=e.eventCache;let l,u;const d=new e4(i,e,a);if(Qt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=mv(e,u,!0,t.filter.filtersNodes());else{const h=tn(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=mv(e,u,o.isFullyInitialized(),o.isFiltered());else{const g=er(n),y=o.getNode().getImmediateChild(h);let _;if(Qt(g))_=r;else{const v=d.getCompleteChild(h);v!=null?Qee(g)===".priority"&&v.getChild(Jee(g)).isEmpty()?_=v:_=v.updateChild(g,r):_=Nt.EMPTY_NODE}if(y.equals(_))l=e;else{const v=t.filter.updateChild(o.getNode(),h,_,g,d,s);l=mv(e,v,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function J$(t,e){return t.eventCache.isCompleteForChild(e)}function yke(t,e,n,r,i,a,s){let o=e;return r.foreach((l,u)=>{const d=ri(n,l);J$(e,tn(d))&&(o=LI(t,o,d,u,i,a,s))}),r.foreach((l,u)=>{const d=ri(n,l);J$(e,tn(d))||(o=LI(t,o,d,u,i,a,s))}),o}function eV(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function FI(t,e,n,r,i,a,s,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Qt(n)?u=r:u=new rr(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,g)=>{if(d.hasChild(h)){const y=e.serverCache.getNode().getImmediateChild(h),_=eV(t,y,g);l=xw(t,l,new Yn(h),_,i,a,s,o)}}),u.children.inorderTraversal((h,g)=>{const y=!e.serverCache.isCompleteForChild(h)&&g.value===null;if(!d.hasChild(h)&&!y){const _=e.serverCache.getNode().getImmediateChild(h),v=eV(t,_,g);l=xw(t,l,new Yn(h),v,i,a,s,o)}}),l}function xke(t,e,n,r,i,a,s){if(yw(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Qt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xw(t,e,n,l.getNode().getChild(n),i,a,o,s);if(Qt(n)){let u=new rr(null);return l.getNode().forEachChild(Vp,(d,h)=>{u=u.set(new Yn(d),h)}),FI(t,e,n,u,i,a,o,s)}else return e}else{let u=new rr(null);return r.foreach((d,h)=>{const g=ri(n,d);l.isCompleteForPath(g)&&(u=u.set(d,l.getNode().getChild(g)))}),FI(t,e,n,u,i,a,o,s)}}function bke(t,e,n,r,i){const a=e.serverCache,s=ute(e,a.getNode(),a.isFullyInitialized()||Qt(n),a.isFiltered());return vte(t,s,n,r,gte,i)}function _ke(t,e,n,r,i,a){let s;if(yw(r,n)!=null)return e;{const o=new e4(r,e,i),l=e.eventCache.getNode();let u;if(Qt(n)||tn(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=vw(r,kd(e));else{const h=e.serverCache.getNode();Qe(h instanceof Nt,"serverChildren would be complete if leaf node"),d=ZM(r,h)}d=d,u=t.filter.updateFullNode(l,d,a)}else{const d=tn(n);let h=JM(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?u=t.filter.updateChild(l,d,h,er(n),o,a):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,Nt.EMPTY_NODE,er(n),o,a):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=vw(r,kd(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,a)))}return s=e.serverCache.isFullyInitialized()||yw(r,xn())!=null,mv(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wke{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new KM(r.getIndex()),a=VDe(r);this.processor_=pke(a);const s=n.serverCache,o=n.eventCache,l=i.updateFullNode(Nt.EMPTY_NODE,s.getNode(),null),u=a.updateFullNode(Nt.EMPTY_NODE,o.getNode(),null),d=new ef(l,s.isFullyInitialized(),i.filtersNodes()),h=new ef(u,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=PS(h,d),this.eventGenerator_=new KDe(this.query_)}get query(){return this.query_}}function Eke(t){return t.viewCache_.serverCache.getNode()}function Ske(t){return gw(t.viewCache_)}function Tke(t,e){const n=kd(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Qt(e)&&!n.getImmediateChild(tn(e)).isEmpty())?n.getChild(e):null}function tV(t){return t.eventRegistrations_.length===0}function Ake(t,e){t.eventRegistrations_.push(e)}function nV(t,e,n){const r=[];if(n){Qe(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(a=>{const s=a.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let a=0;a<t.eventRegistrations_.length;++a){const s=t.eventRegistrations_[a];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function rV(t,e,n,r){e.type===no.MERGE&&e.source.queryId!==null&&(Qe(kd(t.viewCache_),"We should always have a full cache before handling merges"),Qe(gw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,a=gke(t.processor_,i,e,n,r);return mke(t.processor_,a.viewCache),Qe(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,yte(t,a.changes,a.viewCache.eventCache.getNode(),null)}function Cke(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Tr,(a,s)=>{r.push(hm(a,s))}),n.isFullyInitialized()&&r.push(ote(n.getNode())),yte(t,r,n.getNode(),e)}function yte(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return YDe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bw;class xte{constructor(){this.views=new Map}}function Nke(t){Qe(!bw,"__referenceConstructor has already been defined"),bw=t}function Oke(){return Qe(bw,"Reference.ts has not been loaded"),bw}function Pke(t){return t.views.size===0}function t4(t,e,n,r){const i=e.source.queryId;if(i!==null){const a=t.views.get(i);return Qe(a!=null,"SyncTree gave us an op for an invalid query."),rV(a,e,n,r)}else{let a=[];for(const s of t.views.values())a=a.concat(rV(s,e,n,r));return a}}function bte(t,e,n,r,i){const a=e._queryIdentifier,s=t.views.get(a);if(!s){let o=vw(n,i?r:null),l=!1;o?l=!0:r instanceof Nt?(o=ZM(n,r),l=!1):(o=Nt.EMPTY_NODE,l=!1);const u=PS(new ef(o,l,!1),new ef(r,i,!1));return new wke(e,u)}return s}function Rke(t,e,n,r,i,a){const s=bte(t,e,r,i,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Ake(s,n),Cke(s,n)}function Ike(t,e,n,r){const i=e._queryIdentifier,a=[];let s=[];const o=tf(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(nV(u,n,r)),tV(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||a.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(nV(l,n,r)),tV(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||a.push(l.query)))}return o&&!tf(t)&&a.push(new(Oke())(e._repo,e._path)),{removed:a,events:s}}function _te(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ru(t,e){let n=null;for(const r of t.views.values())n=n||Tke(r,e);return n}function wte(t,e){if(e._queryParams.loadsAllData())return IS(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Ete(t,e){return wte(t,e)!=null}function tf(t){return IS(t)!=null}function IS(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _w;function Dke(t){Qe(!_w,"__referenceConstructor has already been defined"),_w=t}function kke(){return Qe(_w,"Reference.ts has not been loaded"),_w}let jke=1;class iV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rr(null),this.pendingWriteTree_=uke(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mke(t,e,n,r,i){return JDe(t.pendingWriteTree_,e,n,r,i),i?Ex(t,new Dd(cte(),e,n)):[]}function _p(t,e,n=!1){const r=eke(t.pendingWriteTree_,e);if(tke(t.pendingWriteTree_,e)){let a=new rr(null);return r.snap!=null?a=a.set(xn(),!0):Pa(r.children,s=>{a=a.set(new Yn(s),!0)}),Ex(t,new mw(r.path,a,n))}else return[]}function wx(t,e,n){return Ex(t,new Dd(XM(),e,n))}function Lke(t,e,n){const r=rr.fromObject(n);return Ex(t,new sy(XM(),e,r))}function Fke(t,e){return Ex(t,new ay(XM(),e))}function Bke(t,e,n){const r=n4(t,n);if(r){const i=r4(r),a=i.path,s=i.queryId,o=fa(a,e),l=new ay(QM(s),o);return i4(t,a,l)}else return[]}function Ste(t,e,n,r,i=!1){const a=e._path,s=t.syncPointTree_.get(a);let o=[];if(s&&(e._queryIdentifier==="default"||Ete(s,e))){const l=Ike(s,e,n,r);Pke(s)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=l.removed;if(o=l.events,!i){const d=u.findIndex(g=>g._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(a,(g,y)=>tf(y));if(d&&!h){const g=t.syncPointTree_.subtree(a);if(!g.isEmpty()){const y=Hke(g);for(let _=0;_<y.length;++_){const v=y[_],b=v.query,E=Ote(t,v);t.listenProvider_.startListening(vv(b),oy(t,b),E.hashFn,E.onComplete)}}}!h&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(vv(e),null):u.forEach(g=>{const y=t.queryToTagMap.get(DS(g));t.listenProvider_.stopListening(vv(g),y)}))}zke(t,u)}return o}function Tte(t,e,n,r){const i=n4(t,r);if(i!=null){const a=r4(i),s=a.path,o=a.queryId,l=fa(s,e),u=new Dd(QM(o),l,n);return i4(t,s,u)}else return[]}function $ke(t,e,n,r){const i=n4(t,r);if(i){const a=r4(i),s=a.path,o=a.queryId,l=fa(s,e),u=rr.fromObject(n),d=new sy(QM(o),l,u);return i4(t,s,d)}else return[]}function Vke(t,e,n,r=!1){const i=e._path;let a=null,s=!1;t.syncPointTree_.foreachOnPath(i,(g,y)=>{const _=fa(g,i);a=a||Ru(y,_),s=s||tf(y)});let o=t.syncPointTree_.get(i);o?(s=s||tf(o),a=a||Ru(o,xn())):(o=new xte,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;a!=null?l=!0:(l=!1,a=Nt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,_)=>{const v=Ru(_,xn());v&&(a=a.updateImmediateChild(y,v))}));const u=Ete(o,e);if(!u&&!e._queryParams.loadsAllData()){const g=DS(e);Qe(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=qke();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}const d=RS(t.pendingWriteTree_,i);let h=Rke(o,e,n,d,a,l);if(!u&&!s&&!r){const g=wte(o,e);h=h.concat(Wke(t,e,g))}return h}function Ate(t,e,n){const i=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(s,o)=>{const l=fa(s,e),u=Ru(o,l);if(u)return u});return hte(i,e,a,n,!0)}function Uke(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,d)=>{const h=fa(u,n);r=r||Ru(d,h)});let i=t.syncPointTree_.get(n);i?r=r||Ru(i,xn()):(i=new xte,t.syncPointTree_=t.syncPointTree_.set(n,i));const a=r!=null,s=a?new ef(r,!0,!1):null,o=RS(t.pendingWriteTree_,e._path),l=bte(i,e,o,a?s.getNode():Nt.EMPTY_NODE,a);return Ske(l)}function Ex(t,e){return Cte(e,t.syncPointTree_,null,RS(t.pendingWriteTree_,xn()))}function Cte(t,e,n,r){if(Qt(t.path))return Nte(t,e,n,r);{const i=e.get(xn());n==null&&i!=null&&(n=Ru(i,xn()));let a=[];const s=tn(t.path),o=t.operationForChild(s),l=e.children.get(s);if(l&&o){const u=n?n.getImmediateChild(s):null,d=pte(r,s);a=a.concat(Cte(o,l,u,d))}return i&&(a=a.concat(t4(i,t,r,n))),a}}function Nte(t,e,n,r){const i=e.get(xn());n==null&&i!=null&&(n=Ru(i,xn()));let a=[];return e.children.inorderTraversal((s,o)=>{const l=n?n.getImmediateChild(s):null,u=pte(r,s),d=t.operationForChild(s);d&&(a=a.concat(Nte(d,o,l,u)))}),i&&(a=a.concat(t4(i,t,r,n))),a}function Ote(t,e){const n=e.query,r=oy(t,n);return{hashFn:()=>(Eke(e)||Nt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Bke(t,n._path,r):Fke(t,n._path);{const a=$Ie(i,n);return Ste(t,n,null,a)}}}}function oy(t,e){const n=DS(e);return t.queryToTagMap.get(n)}function DS(t){return t._path.toString()+"$"+t._queryIdentifier}function n4(t,e){return t.tagToQueryMap.get(e)}function r4(t){const e=t.indexOf("$");return Qe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Yn(t.substr(0,e))}}function i4(t,e,n){const r=t.syncPointTree_.get(e);Qe(r,"Missing sync point for query tag that we're tracking");const i=RS(t.pendingWriteTree_,e);return t4(r,n,i,null)}function Hke(t){return t.fold((e,n,r)=>{if(n&&tf(n))return[IS(n)];{let i=[];return n&&(i=_te(n)),Pa(r,(a,s)=>{i=i.concat(s)}),i}})}function vv(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(kke())(t._repo,t._path):t}function zke(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=DS(r),a=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(a)}}}function qke(){return jke++}function Wke(t,e,n){const r=e._path,i=oy(t,e),a=Ote(t,n),s=t.listenProvider_.startListening(vv(e),i,a.hashFn,a.onComplete),o=t.syncPointTree_.subtree(r);if(i)Qe(!tf(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((u,d,h)=>{if(!Qt(u)&&d&&tf(d))return[IS(d).query];{let g=[];return d&&(g=g.concat(_te(d).map(y=>y.query))),Pa(h,(y,_)=>{g=g.concat(_)}),g}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(vv(d),oy(t,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new a4(n)}node(){return this.node_}}class s4{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ri(this.path_,e);return new s4(this.syncTree_,n)}node(){return Ate(this.syncTree_,this.path_)}}const Gke=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},aV=function(t,e,n){if(!t||typeof t!="object")return t;if(Qe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Kke(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Yke(t[".sv"],e);Qe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Kke=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Qe(!1,"Unexpected server value: "+t)}},Yke=function(t,e,n){t.hasOwnProperty("increment")||Qe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Qe(!1,"Unexpected increment value: "+r);const i=e.node();if(Qe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Xke=function(t,e,n,r){return o4(e,new s4(n,t),r)},Qke=function(t,e,n){return o4(t,new a4(e),n)};function o4(t,e,n){const r=t.getPriority().val(),i=aV(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const s=t,o=aV(s.getValue(),e,n);return o!==s.getValue()||i!==s.getPriority().val()?new mi(o,Mi(i)):t}else{const s=t;return a=s,i!==s.getPriority().val()&&(a=a.updatePriority(new mi(i))),s.forEachChild(Tr,(o,l)=>{const u=o4(l,e.getImmediateChild(o),n);u!==l&&(a=a.updateImmediateChild(o,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function c4(t,e){let n=e instanceof Yn?e:new Yn(e),r=t,i=tn(n);for(;i!==null;){const a=Wp(r.node.children,i)||{children:{},childCount:0};r=new l4(i,r,a),n=er(n),i=tn(n)}return r}function v0(t){return t.node.value}function Pte(t,e){t.node.value=e,BI(t)}function Rte(t){return t.node.childCount>0}function Zke(t){return v0(t)===void 0&&!Rte(t)}function kS(t,e){Pa(t.node.children,(n,r)=>{e(new l4(n,t,r))})}function Ite(t,e,n,r){n&&e(t),kS(t,i=>{Ite(i,e,!0)})}function Jke(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sx(t){return new Yn(t.parent===null?t.name:Sx(t.parent)+"/"+t.name)}function BI(t){t.parent!==null&&eje(t.parent,t.name,t)}function eje(t,e,n){const r=Zke(n),i=hc(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,BI(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,BI(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tje=/[\[\].#$\/\u0000-\u001F\u007F]/,nje=/[\[\].#$\u0000-\u001F\u007F]/,y2=10*1024*1024,Dte=function(t){return typeof t=="string"&&t.length!==0&&!tje.test(t)},kte=function(t){return typeof t=="string"&&t.length!==0&&!nje.test(t)},rje=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kte(t)},jte=function(t,e,n){const r=n instanceof Yn?new xDe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ed(r));if(typeof e=="function")throw new Error(t+"contains a function "+ed(r)+" with contents = "+e.toString());if(Pee(e))throw new Error(t+"contains "+e.toString()+" "+ed(r));if(typeof e=="string"&&e.length>y2/3&&AE(e)>y2)throw new Error(t+"contains a string greater than "+y2+" utf8 bytes "+ed(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(Pa(e,(s,o)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(a=!0,!Dte(s)))throw new Error(t+" contains an invalid key ("+s+") "+ed(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bDe(r,s),jte(t,o,r),_De(r)}),i&&a)throw new Error(t+' contains ".value" child '+ed(r)+" in addition to actual children.")}},Mte=function(t,e,n,r){if(!kte(n))throw new Error($W(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ije=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mte(t,e,n)},aje=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Dte(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rje(n))throw new Error($W(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sje{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oje(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();n!==null&&!ete(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&t.eventLists_.push(n)}function hf(t,e,n){oje(t,n),lje(t,r=>to(r,e)||to(e,r))}function lje(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const a=i.path;e(a)?(cje(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cje(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();hv&&Qi("event: "+n.toString()),bx(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uje="repo_interrupt",fje=25;class dje{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sje,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pw(),this.transactionQueueTree_=new l4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hje(t,e,n){if(t.stats_=zM(t.repoInfo_),t.forceRestClient_||zIe())t.server_=new hw(t.repoInfo_,(r,i,a,s)=>{sV(t,r,i,a,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>oV(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ti(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Kl(t.repoInfo_,e,(r,i,a,s)=>{sV(t,r,i,a,s)},r=>{oV(t,r)},r=>{mje(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=YIe(t.repoInfo_,()=>new GDe(t.stats_,t.server_)),t.infoData_=new UDe,t.infoSyncTree_=new iV({startListening:(r,i,a,s)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=wx(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),o},stopListening:()=>{}}),u4(t,"connected",!1),t.serverSyncTree_=new iV({startListening:(r,i,a,s)=>(t.server_.listen(r,a,i,(o,l)=>{const u=s(o,l);hf(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function pje(t){const n=t.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Lte(t){return Gke({timestamp:pje(t)})}function sV(t,e,n,r,i){t.dataUpdateCount++;const a=new Yn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=m1(n,u=>Mi(u));s=$ke(t.serverSyncTree_,a,l,i)}else{const l=Mi(n);s=Tte(t.serverSyncTree_,a,l,i)}else if(r){const l=m1(n,u=>Mi(u));s=Lke(t.serverSyncTree_,a,l)}else{const l=Mi(n);s=wx(t.serverSyncTree_,a,l)}let o=a;s.length>0&&(o=h4(t,a)),hf(t.eventQueue_,o,s)}function oV(t,e){u4(t,"connected",e),e===!1&&yje(t)}function mje(t,e){Pa(e,(n,r)=>{u4(t,n,r)})}function u4(t,e,n){const r=new Yn("/.info/"+e),i=Mi(n);t.infoData_.updateSnapshot(r,i);const a=wx(t.infoSyncTree_,r,i);hf(t.eventQueue_,r,a)}function gje(t){return t.nextWriteId_++}function vje(t,e,n){const r=Uke(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const a=Mi(i).withIndex(e._queryParams.getIndex());Vke(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=wx(t.serverSyncTree_,e._path,a);else{const o=oy(t.serverSyncTree_,e);s=Tte(t.serverSyncTree_,e._path,a,o)}return hf(t.eventQueue_,e._path,s),Ste(t.serverSyncTree_,e,n,null,!0),a},i=>(f4(t,"get for query "+ti(e)+" failed: "+i),Promise.reject(new Error(i))))}function yje(t){f4(t,"onDisconnectEvents");const e=Lte(t),n=pw();kI(t.onDisconnect_,xn(),(i,a)=>{const s=Xke(i,a,t.serverSyncTree_,e);lte(n,i,s)});let r=[];kI(n,xn(),(i,a)=>{r=r.concat(wx(t.serverSyncTree_,i,a));const s=wje(t,i);h4(t,s)}),t.onDisconnect_=pw(),hf(t.eventQueue_,xn(),r)}function xje(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uje)}function f4(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qi(n,...e)}function Fte(t,e,n){return Ate(t.serverSyncTree_,e,n)||Nt.EMPTY_NODE}function d4(t,e=t.transactionQueueTree_){if(e||jS(t,e),v0(e)){const n=$te(t,e);Qe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&bje(t,Sx(e),n)}else Rte(e)&&kS(e,n=>{d4(t,n)})}function bje(t,e,n){const r=n.map(u=>u.currentWriteId),i=Fte(t,e,r);let a=i;const s=i.hash();for(let u=0;u<n.length;u++){const d=n[u];Qe(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=fa(e,d.path);a=a.updateChild(h,d.currentOutputSnapshotRaw)}const o=a.val(!0),l=e;t.server_.put(l.toString(),o,u=>{f4(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(_p(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&h.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();jS(t,c4(t.transactionQueueTree_,e)),d4(t,t.transactionQueueTree_),hf(t.eventQueue_,e,d);for(let g=0;g<h.length;g++)bx(h[g])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ts("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}h4(t,e)}},s)}function h4(t,e){const n=Bte(t,e),r=Sx(n),i=$te(t,n);return _je(t,i,r),r}function _je(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=fa(n,l.path);let d=!1,h;if(Qe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(_p(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=fje)d=!0,h="maxretry",i=i.concat(_p(t.serverSyncTree_,l.currentWriteId,!0));else{const g=Fte(t,l.path,s);l.currentInputSnapshot=g;const y=e[o].update(g.val());if(y!==void 0){jte("transaction failed: Data returned ",y,l.path);let _=Mi(y);typeof y=="object"&&y!=null&&hc(y,".priority")||(_=_.updatePriority(g.getPriority()));const b=l.currentWriteId,E=Lte(t),N=Qke(_,g,E);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=N,l.currentWriteId=gje(t),s.splice(s.indexOf(b),1),i=i.concat(Mke(t.serverSyncTree_,l.path,N,l.currentWriteId,l.applyLocally)),i=i.concat(_p(t.serverSyncTree_,b,!0))}else d=!0,h="nodata",i=i.concat(_p(t.serverSyncTree_,l.currentWriteId,!0))}hf(t.eventQueue_,n,i),i=[],d&&(e[o].status=2,function(g){setTimeout(g,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(h==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(h),!1,null))))}jS(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)bx(r[o]);d4(t,t.transactionQueueTree_)}function Bte(t,e){let n,r=t.transactionQueueTree_;for(n=tn(e);n!==null&&v0(r)===void 0;)r=c4(r,n),e=er(e),n=tn(e);return r}function $te(t,e){const n=[];return Vte(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Vte(t,e,n){const r=v0(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kS(e,i=>{Vte(t,i,n)})}function jS(t,e){const n=v0(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Pte(e,n.length>0?n:void 0)}kS(e,r=>{jS(t,r)})}function wje(t,e){const n=Sx(Bte(t,e)),r=c4(t.transactionQueueTree_,e);return Jke(r,i=>{x2(t,i)}),x2(t,r),Ite(r,i=>{x2(t,i)}),n}function x2(t,e){const n=v0(e);if(n){const r=[];let i=[],a=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(Qe(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Qe(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(_p(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Pte(e,void 0):n.length=a+1,hf(t.eventQueue_,Sx(e),i);for(let s=0;s<r.length;s++)bx(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eje(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Sje(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ts(`Invalid query segment '${n}' in query '${t}'`)}return e}const lV=function(t,e){const n=Tje(t),r=n.namespace;n.domain==="firebase.com"&&oc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&oc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||jIe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Uee(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Yn(n.pathString)}},Tje=function(t){let e="",n="",r="",i="",a="",s=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=Eje(t.substring(d,h)));const g=Sje(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(s=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),a=r}"ns"in g&&(a=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:o,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aje{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ti(this.snapshot.exportVal())}}class Cje{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nje{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Qe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Qt(this._path)?null:Qee(this._path)}get ref(){return new xc(this._repo,this._path)}get _queryIdentifier(){const e=G$(this._queryParams),n=UM(e);return n==="{}"?"default":n}get _queryObject(){return G$(this._queryParams)}isEqual(e){if(e=Un(e),!(e instanceof p4))return!1;const n=this._repo===e._repo,r=ete(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+yDe(this._path)}}class xc extends p4{constructor(e,n){super(e,n,new YM,!1)}get parent(){const e=Jee(this._path);return e===null?null:new xc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ly{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Yn(e),r=$I(this.ref,e);return new ly(this._node.getChild(n),r,Tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ly(i,$I(this.ref,r),Tr)))}hasChild(e){const n=new Yn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oje(t,e){return t=Un(t),t._checkNotDeleted("ref"),$I(t._root,e)}function $I(t,e){return t=Un(t),tn(t._path)===null?ije("child","path",e):Mte("child","path",e),new xc(t._repo,ri(t._path,e))}function Pje(t){t=Un(t);const e=new Nje(()=>{}),n=new m4(e);return vje(t._repo,t,n).then(r=>new ly(r,new xc(t._repo,t._path),t._queryParams.getIndex()))}class m4{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Aje("value",this,new ly(e.snapshotNode,new xc(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Cje(this,e,n):null}matches(e){return e instanceof m4?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Nke(xc);Dke(xc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rje="FIREBASE_DATABASE_EMULATOR_HOST",VI={};let Ije=!1;function Dje(t,e,n,r){t.repoInfo_=new Uee(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function kje(t,e,n,r,i){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||oc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qi("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=lV(a,i),o=s.repoInfo,l;typeof process<"u"&&O$&&(l=O$[Rje]),l?(a=`http://${l}?ns=${o.namespace}`,s=lV(a,i),o=s.repoInfo):s.repoInfo.secure;const u=new WIe(t.name,t.options,e);aje("Invalid Firebase Database URL",s),Qt(s.path)||oc("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Mje(o,t,u,new qIe(t,n));return new Lje(d,t)}function jje(t,e){const n=VI[e];(!n||n[t.key]!==t)&&oc(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xje(t),delete n[t.key]}function Mje(t,e,n,r){let i=VI[e.name];i||(i={},VI[e.name]=i);let a=i[t.toURLString()];return a&&oc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new dje(t,Ije,n,r),i[t.toURLString()]=a,a}class Lje{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hje(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xc(this._repo,xn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jje(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&oc("Cannot call "+e+" on a deleted database.")}}function Fje(t=Nk(),e){const n=NE(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=kW("database");r&&Bje(n,...r)}return n}function Bje(t,e,n,r={}){t=Un(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ku(r,a.repoInfo_.emulatorOptions))return;oc("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&oc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new u1(u1.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:LW(r.mockUserToken,t.app.options.projectId);s=new u1(o)}Dje(a,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $je(t){OIe(Vd),vd(new ju("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return kje(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),Ho(P$,R$,t),Ho(P$,R$,"esm2017")}Kl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Kl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$je();const P_=12;let op=null,b2=0;const Vje=30*60*1e3;let R_=null,cV=0;const Uje=5*60*1e3,Hje={apiKey:"AIzaSyDO93Lazw7F3pZXM1u5p-kSdGObza9ZrI0",authDomain:"docmanagement-40261.firebaseapp.com",databaseURL:"https://docmanagement-40261-default-rtdb.firebaseio.com",projectId:"docmanagement-40261",storageBucket:"docmanagement-40261.firebasestorage.app",messagingSenderId:"456008274635",appId:"1:456008274635:web:1d8e9e6246e499df8dc14e"},zje=OE(Hje,"realtimeDb"),qje=async()=>{const t=Date.now();if(op&&t-b2<Vje)return console.log("Using cached realtime data"),op;try{const e=Fje(zje),n=Oje(e,"doctors"),r=await Pje(n);return r.exists()?(op=r.val(),b2=t,console.log("Fetched fresh realtime data"),op):(console.log("No data available in doctors node of realtime database"),op={},b2=t,{})}catch(e){return console.error("Error fetching realtime data:",e),op||{}}},Ute=async()=>{const t=Date.now();if(R_&&t-cV<Uje)return console.log("Using cached cases data"),R_;const e=new Date;e.setHours(0,0,0,0);const n=new Date(e);n.setDate(n.getDate()+1);try{const r=dn(st,"cases"),i=kt(r,tt("createdAt",">=",fn.fromDate(e)),tt("createdAt","<",fn.fromDate(n)),sd(1e4)),a=await ur(i),s={doctorCases:new Map,pharmacistCases:new Map,allCases:[]};return a.forEach(o=>{var u;const l={id:o.id,...o.data()};if(s.allCases.push(l),(u=l.assignedDoctors)!=null&&u.primary){const d=l.assignedDoctors.primary;s.doctorCases.has(d)||s.doctorCases.set(d,[]),s.doctorCases.get(d).push(l)}if(l.pharmacistId){const d=l.pharmacistId;s.pharmacistCases.has(d)||s.pharmacistCases.set(d,[]),s.pharmacistCases.get(d).push(l)}}),R_=s,cV=t,console.log(`Fetched ${s.allCases.length} cases for today`),s}catch(r){return console.error("Error fetching today's cases:",r),R_||{doctorCases:new Map,pharmacistCases:new Map,allCases:[]}}},Wje=(t,e)=>{const n={todayCases:0,pendingCases:0,completedCases:0,incompleteCases:0,totalTAT:0,validTatCases:0};if(!t||t.length===0)return{...e,...n,averageTAT:0,completionPercentage:0};t.forEach(a=>{const s=a.emrNumbers&&a.emrNumbers.length>0?a.emrNumbers.length:1;if(n.todayCases+=s,a.status==="doctor_incomplete")n.incompleteCases+=s;else if(a.doctorCompleted||a.status==="pharmacist_incomplete"){if(n.completedCases+=s,a.createdAt&&a.doctorCompletedAt){const o=(a.doctorJoined??a.createdAt).toDate(),u=(a.doctorCompletedAt.toDate()-o)/(1e3*60);u>=0&&(n.totalTAT+=u,n.validTatCases++)}}else n.pendingCases+=s});const r=n.validTatCases>0?Math.round(n.totalTAT/n.validTatCases):0,i=e.dailyTarget>0?Math.round(n.completedCases/e.dailyTarget*100):0;return{...e,...n,averageTAT:r,completionPercentage:i}},Gje=(t,e)=>{const n={todayCases:0,pendingCases:0,completedCases:0,incompleteCases:0,totalTAT:0,validTatCases:0};if(!t||t.length===0)return{...e,...n,averageTAT:0,completionPercentage:0};t.forEach(a=>{const s=a.emrNumbers&&a.emrNumbers.length>0?a.emrNumbers.length:1;if(n.todayCases+=s,a.isIncomplete)n.incompleteCases+=s;else if(a.status==="doctor_completed")n.pendingCases+=s;else if(a.status==="completed"&&(n.completedCases+=s,a.createdAt&&a.pharmacistCompletedAt)){const o=(a.pharmacistJoined??a.createdAt).toDate(),u=(a.pharmacistCompletedAt.toDate()-o)/(1e3*60);u>=0&&(n.totalTAT+=u,n.validTatCases++)}});const r=n.validTatCases>0?Math.round(n.totalTAT/n.validTatCases):0,i=e.dailyTarget>0?Math.round(n.completedCases/e.dailyTarget*100):0;return{...e,...n,averageTAT:r,completionPercentage:i}},Kje=(t,e)=>t.map(n=>{let r={shiftTiming:"9AM-6PM",shiftType:"Full-Time",hourlyTarget:P_,dailyTarget:P_*8};return n.empId&&Object.keys(e||{}).forEach(i=>{const a=e[i];if(a.empId===n.empId){r.shiftTiming=a.shiftTiming||r.shiftTiming,r.shiftType=a.shiftType||r.shiftType;const s=Yje(a.shiftTiming);r.shiftHours=s,a.shiftType==="Part-Time"?r.dailyTarget=P_*s:r.dailyTarget=P_*(s-1)}}),{...n,...r}}),Yje=t=>{if(!t)return 8;try{const e=t.split("-");if(e.length!==2)return 8;const n=e[0].trim(),r=e[1].trim(),i=parseInt(n.replace(/[^0-9]/g,"")),a=parseInt(r.replace(/[^0-9]/g,"")),s=n.toLowerCase().includes("am"),o=r.toLowerCase().includes("am");let l=i;s&&i===12&&(l=0),!s&&i!==12&&(l+=12);let u=a;o&&a===12&&(u=0),!o&&a!==12&&(u+=12);let d=u-l;return d<0&&(d+=24),d>0?d:8}catch(e){return console.error("Error parsing shift timing:",e),8}},uV=async t=>{const e=await Ute();return t.map(n=>{const r=e.doctorCases.get(n.id)||[];return Wje(r,n)})},Xje=t=>t.map(e=>({...e,shiftTiming:"9AM-6PM",shiftType:"Full-Time",hourlyTarget:6.25,dailyTarget:50})),fV=async t=>{const e=await Ute();return t.map(n=>{const r=e.pharmacistCases.get(n.id)||[];return Gje(r,n)})},Qje=({availabilityHistory:t=[]})=>{const[e,n]=T.useState(!1),r=[...t].sort((l,u)=>{var d,h,g,y;return((h=(d=u.changedAt)==null?void 0:d.toDate)==null?void 0:h.call(d))-((y=(g=l.changedAt)==null?void 0:g.toDate)==null?void 0:y.call(g))||0}),i=e?r:r.slice(0,5),a=l=>l?(l.toDate?l.toDate():new Date(l)).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",s=l=>{switch(l){case"available":return"bg-green-100 text-green-800";case"busy":return"bg-yellow-100 text-yellow-800";case"on_break":return"bg-blue-100 text-blue-800";case"unavailable":default:return"bg-red-100 text-red-800"}},o=l=>{switch(l){case"available":return"Available";case"busy":return"Busy";case"on_break":return"On Break";case"unavailable":return"Unavailable";default:return l||"Unknown"}};return p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status History"}),i.length===0?p.jsx("p",{className:"text-gray-500 text-sm",children:"No history available"}):p.jsx("ul",{className:"space-y-3",children:i.map((l,u)=>p.jsxs("li",{className:"border-b border-gray-100 pb-2",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${s(l.newStatus)}`,children:o(l.newStatus)}),l.expectedDuration&&p.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",l.expectedDuration," min break)"]})]}),p.jsx("span",{className:"text-xs text-gray-500",children:a(l.changedAt)})]}),l.reason&&p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.reason}),p.jsxs("div",{className:"flex justify-between items-start",children:[l.previousStatus&&p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Previous: ",o(l.previousStatus)]}),l.casesNo&&p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Doctor had ",l.casesNo," active case(s) at this time."]})]})]},u))}),r.length>5&&p.jsx("button",{onClick:()=>n(!e),className:"mt-3 text-sm text-blue-600 hover:text-blue-800",children:e?"Show less":`Show all (${r.length})`})]})},Zje=({caseData:t,doctor:e})=>{const{totalCases:n=0,completedCases:r=0,pendingCases:i=0,incompleteCases:a=0}=t,s=()=>!(e!=null&&e.dailyTarget)||e.dailyTarget===0?0:Math.round(r/e.dailyTarget*100);return p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Today's Cases"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Total Cases"}),p.jsx("div",{className:"text-2xl font-bold text-blue-900",children:n})]}),p.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Completed"}),p.jsx("div",{className:"text-2xl font-bold text-green-900",children:r})]}),p.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-yellow-700 font-medium",children:"Pending"}),p.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:i})]}),p.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-red-700 font-medium",children:"Incomplete"}),p.jsx("div",{className:"text-2xl font-bold text-red-900",children:a})]})]}),e&&p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"text-sm text-gray-700 font-medium",children:"Daily Target"}),p.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[e.dailyTarget," cases"]})]}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Based on ",e.shiftType==="Part-Time"?"no break":"1 hour break"," for ",e.shiftTiming," shift"]})]}),p.jsx("div",{className:"mt-4",children:p.jsxs("div",{className:"relative pt-1",children:[p.jsx("div",{className:"flex mb-2 items-center justify-between",children:p.jsx("div",{children:p.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Case Distribution"})})}),p.jsxs("div",{className:"flex h-4 overflow-hidden text-xs bg-gray-200 rounded",children:[p.jsx("div",{style:{width:`${n?r/n*100:0}%`},className:"flex flex-col justify-center text-center text-white bg-green-500 shadow-none whitespace-nowrap"}),p.jsx("div",{style:{width:`${n?i/n*100:0}%`},className:"flex flex-col justify-center text-center text-white bg-yellow-500 shadow-none whitespace-nowrap"}),p.jsx("div",{style:{width:`${n?a/n*100:0}%`},className:"flex flex-col justify-center text-center text-white bg-red-500 shadow-none whitespace-nowrap"})]}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[p.jsxs("span",{children:[Math.round(n?r/n*100:0),"% Completed"]}),p.jsxs("span",{children:[Math.round(n?i/n*100:0),"% Pending"]}),p.jsxs("span",{children:[Math.round(n?a/n*100:0),"% Incomplete"]})]})]})}),e&&p.jsxs("div",{className:"mt-4",children:[p.jsx("div",{className:"flex mb-1 items-center justify-between",children:p.jsx("div",{children:p.jsxs("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:["Completion: ",s(),"%"]})})}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:p.jsx("div",{style:{width:`${Math.min(s(),100)}%`},className:`h-2.5 rounded-full ${s()>=100?"bg-green-500":s()>=75?"bg-lime-500":s()>=50?"bg-yellow-500":"bg-red-500"}`})}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[p.jsx("span",{children:"0"}),p.jsx("span",{children:e.dailyTarget})]})]})]})},Jje=({doctor:t,availabilityHistory:e=[]})=>{const n=()=>{if(!e||e.length===0)return"N/A";const s=e.filter(h=>{var g;return h.previousStatus==="unavailable"&&h.newStatus==="available"&&((g=h.changedAt)==null?void 0:g.toDate)&&i(h.changedAt.toDate(),7,11)});if(s.length===0)return"N/A";let o=0;s.forEach(h=>{const g=h.changedAt.toDate();o+=g.getHours()*60+g.getMinutes()});const l=Math.round(o/s.length),u=Math.floor(l/60),d=l%60;return`${u}:${d.toString().padStart(2,"0")} ${u>=12?"PM":"AM"}`},r=()=>{if(!e||e.length===0)return"N/A";const s={};e.forEach(d=>{var h;if(d.newStatus==="on_break"&&((h=d.changedAt)!=null&&h.toDate)){const y=d.changedAt.toDate().toLocaleDateString();s[y]||(s[y]=0),s[y]++}});const o=Object.keys(s).length;return o===0?"N/A":(Object.values(s).reduce((d,h)=>d+h,0)/o).toFixed(1)+" per day"},i=(s,o,l)=>{const u=s.getHours();return u>=o&&u<=l},a=(t==null?void 0:t.averageTAT)||0;return p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Metrics"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-700 font-medium",children:"Average TAT"}),p.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[a," min"]}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Per completed case"})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-700 font-medium",children:"Completion Rate"}),p.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[(t==null?void 0:t.completionPercentage)||0,"%"]}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Of daily target"})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-700 font-medium",children:"Avg. Daily Login"}),p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n()}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Based on login history"})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-700 font-medium",children:"Break Frequency"}),p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r()}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Average across working days"})]})]})]})},eMe=({doctorPharmacist:t,doctor:e,onClose:n})=>{const[r,i]=T.useState(!0),[a,s]=T.useState({totalCases:0,completedCases:0,pendingCases:0,incompleteCases:0}),o=t.charAt(0).toUpperCase()+t.slice(1);T.useEffect(()=>{const u=async()=>{try{i(!0);const d=new Date;d.setHours(0,0,0,0);const h=new Date(d);h.setDate(h.getDate()+1);const g=dn(st,"cases"),_=kt(g,tt(t==="doctor"?"assignedDoctors.primary":"pharmacistId","==",e.id),tt("createdAt",">=",fn.fromDate(d)),tt("createdAt","<",fn.fromDate(h)),Jr("createdAt","desc"),sd(500)),v=await ur(_);let b=v.size,E=0,N=0,C=0;v.forEach(k=>{const O=k.data();t==="doctor"?O.isIncomplete||O.status==="doctor_incomplete"?C++:O.doctorCompleted?E++:N++:t==="pharmacist"&&(O.isIncomplete||O.status==="pharmacist_incomplete"?C++:O.status==="doctor_completed"?N++:O.status==="completed"&&E++)}),s({totalCases:b,completedCases:E,pendingCases:N,incompleteCases:C}),i(!1)}catch(d){console.error("Error fetching doctor cases:",d),i(!1)}};e&&e.id&&u()},[e]);const l=u=>u?(u.toDate?u.toDate():new Date(u)).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A";return e?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[p.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 flex justify-between items-center",children:[p.jsxs("h2",{className:"text-xl font-semibold",children:[o," Details"]}),p.jsx("button",{onClick:n,className:"text-white hover:text-gray-200",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-4rem)]",children:r?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.name}),p.jsx("p",{className:"text-gray-600",children:e.empId||"No ID"}),p.jsx("p",{className:"text-gray-600",children:e.email}),p.jsxs("p",{className:"text-gray-600",children:["Reporting to: ",e.reportingToName||"N/A"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"mb-2",children:p.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${e.availabilityStatus==="available"?"bg-green-100 text-green-800":e.availabilityStatus==="busy"?"bg-yellow-100 text-yellow-800":e.availabilityStatus==="on_break"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.availabilityStatus==="available"?"Available":e.availabilityStatus==="busy"?"Busy":e.availabilityStatus==="on_break"?"On Break":"Unavailable"})}),p.jsxs("p",{className:"text-gray-600 text-sm",children:["Since ",l(e.lastStatusUpdate)]}),e.availabilityStatus==="on_break"&&e.breakStartedAt&&p.jsxs("p",{className:"text-gray-600 text-sm",children:["Break started at ",l(e.breakStartedAt),e.breakDuration&&` (${e.breakDuration} min)`]}),p.jsxs("div",{className:"mt-2",children:[p.jsxs("p",{className:"text-gray-600 text-sm",children:[p.jsx("span",{className:"font-medium",children:"Shift:"})," ",e.shiftTiming||"Not set"]}),p.jsxs("p",{className:"text-gray-600 text-sm",children:[p.jsx("span",{className:"font-medium",children:"Type:"})," ",e.shiftType||"Standard"]})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(Zje,{caseData:a,doctor:e}),p.jsx(Qje,{availabilityHistory:e.availabilityHistory})]}),e.availabilityHistory&&p.jsx("div",{className:"mt-6",children:p.jsx(Jje,{doctor:e,availabilityHistory:e.availabilityHistory||[]})})]})})]})}):null},tMe=({viewMode:t,setViewMode:e,doctorPharmacist:n,setDoctorPharmacist:r,refreshInterval:i,setRefreshInterval:a,onRefresh:s,showCaseTransfer:o=!1,isRefreshing:l=!1})=>{const[u,d]=T.useState(!1),h=n.charAt(0).toUpperCase()+n.slice(1),g=T.useCallback(async v=>{v!==t&&(v==="cases"?(d(!0),requestAnimationFrame(()=>{setTimeout(()=>{e(v),d(!1)},50)})):e(v))},[t,e]),y=T.useCallback(v=>{v!==n&&r(v)},[n,r]),_=T.useCallback(v=>{const b=Number(v.target.value);b!==i&&a(b)},[i,a]);return p.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:t==="cases"?"Case Transfer Management":`${h} Dashboard`}),u&&p.jsxs("div",{className:"ml-3 flex items-center text-blue-600",children:[p.jsx(kC,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{className:"text-sm",children:"Loading..."})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t!=="cases"&&p.jsxs("div",{className:"flex border rounded overflow-hidden",children:[p.jsx("button",{onClick:()=>y("doctor"),disabled:l,className:`px-3 py-1 text-sm transition-colors duration-200 ${n==="doctor"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"} ${l?"opacity-50 cursor-not-allowed":""}`,children:"Doctors"}),p.jsx("button",{onClick:()=>y("pharmacist"),disabled:l,className:`px-3 py-1 text-sm transition-colors duration-200 ${n==="pharmacist"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"} ${l?"opacity-50 cursor-not-allowed":""}`,children:"Pharmacists"})]}),p.jsxs("div",{className:"flex border rounded overflow-hidden",children:[p.jsx("button",{onClick:()=>g("table"),disabled:u,className:`px-3 py-1 text-sm transition-colors duration-200 ${t==="table"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"} ${u?"opacity-50 cursor-not-allowed":""}`,children:"Table View"}),p.jsx("button",{onClick:()=>g("cards"),disabled:u,className:`px-3 py-1 text-sm transition-colors duration-200 ${t==="cards"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"} ${u?"opacity-50 cursor-not-allowed":""}`,children:"Card View"}),o&&p.jsx("button",{onClick:()=>g("cases"),disabled:u,className:`px-3 py-1 text-sm transition-colors duration-200 relative ${t==="cases"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"} ${u?"opacity-50 cursor-not-allowed":""}`,children:u&&t!=="cases"?p.jsxs("div",{className:"flex items-center",children:[p.jsx(kC,{className:"h-3 w-3 animate-spin mr-1"}),"Loading..."]}):"Transfer Cases"})]}),t!=="cases"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm text-gray-500",children:"Auto-refresh:"}),p.jsxs("select",{className:"border rounded p-1 text-sm transition-colors duration-200 hover:border-blue-300 focus:border-blue-500 focus:outline-none",value:i,onChange:_,disabled:l,children:[p.jsx("option",{value:15e3,children:"15 seconds"}),p.jsx("option",{value:3e4,children:"30 seconds"}),p.jsx("option",{value:6e4,children:"1 minute"}),p.jsx("option",{value:3e5,children:"5 minutes"})]})]}),p.jsx("button",{onClick:s,disabled:l,className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm transition-colors duration-200 flex items-center ${l?"opacity-50 cursor-not-allowed":""}`,children:l?p.jsxs(p.Fragment,{children:[p.jsx(kC,{className:"h-3 w-3 animate-spin mr-1"}),"Refreshing..."]}):"Refresh Now"})]})]})]})},nMe=ae.memo(tMe),rMe=({doctors:t,doctorPharmacist:e,casesData:n=[]})=>{const r=t.filter(v=>v.availabilityStatus==="available").length,i=t.filter(v=>v.availabilityStatus==="busy").length,a=t.reduce((v,b)=>v+(b.todayCases||0),0),s=t.reduce((v,b)=>v+(b.completedCases||0),0),o=Math.round(t.reduce((v,b)=>v+(b.averageTAT||0),0)/(t.filter(v=>v.averageTAT>0).length||1)),l=t.filter(v=>v.availabilityStatus==="on_break").length,u=t.filter(v=>v.availabilityStatus==="unavailable"),d=u.filter(v=>e==="doctor"?n.some(b=>{var E;return((E=b.assignedDoctors)==null?void 0:E.primary)===v.id&&b.doctorCompleted===!1}):n.some(b=>b.pharmacistId===v.id&&b.status==="doctor_completed")),h=u.length,g=d.length,y=h-g,_=e.charAt(0).toUpperCase()+e.slice(1);return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[p.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[p.jsxs("h3",{className:"text-sm font-medium text-gray-500",children:["Available ",_,"s"]}),p.jsx("p",{className:"text-3xl font-bold text-green-600",children:r}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["out of ",t.length," total"]})]}),p.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[p.jsxs("h3",{className:"text-sm font-medium text-gray-500",children:["Busy ",_,"s"]}),p.jsx("p",{className:"text-3xl font-bold text-orange-600",children:i}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"currently working on cases"})]}),p.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Cases Today"}),p.jsx("p",{className:"text-3xl font-bold text-gray-800",children:a}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s," completed (",a>0?Math.round(s/a*100):0,"%)"]})]}),p.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average TAT"}),p.jsx("p",{className:"text-3xl font-bold text-gray-800",children:o}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"minutes per case"})]}),p.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"On Break / Unavailable"}),p.jsx("p",{className:"text-3xl font-bold text-red-600",children:l+h}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[l," on break, ",y," unavailable",g>0&&p.jsxs(p.Fragment,{children:[", ",g," unavailable but have cases in queue"]})]})]})]})},iMe=({doctor:t,onViewDetails:e})=>{const n=s=>s?(s.toDate?s.toDate():new Date(s)).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",r=s=>s||"Not set",i=s=>{switch(s){case"available":return"bg-green-100 text-green-800";case"busy":return"bg-yellow-100 text-yellow-800";case"on_break":return"bg-blue-100 text-blue-800";case"unavailable":default:return"bg-red-100 text-red-800"}},a=s=>{switch(s){case"available":return"Available";case"busy":return"Busy";case"on_break":return"On Break";case"unavailable":return"Unavailable";default:return"Unknown"}};return p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"flex items-center",children:p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),p.jsx("div",{className:"text-sm text-gray-500",children:t.empId&&p.jsxs("span",{children:["ID: ",t.empId]})})]})})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${i(t.availabilityStatus)}`,children:a(t.availabilityStatus)}),t.lastStatusUpdate&&p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Since ",n(t.lastStatusUpdate)]})]}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[p.jsx("div",{children:r(t.shiftTiming)}),p.jsx("div",{className:"text-xs text-gray-400",children:t.shiftType||"Standard"})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:t.todayCases}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:[p.jsx("span",{className:"text-green-600 font-medium",children:t.completedCases}),p.jsxs("div",{className:"text-xs text-gray-400",children:[p.jsx("span",{className:"text-yellow-600",children:t.pendingCases})," pending,",p.jsxs("span",{className:"text-red-600",children:[" ",t.incompleteCases]})," incomplete"]})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:p.jsx("span",{className:"font-medium",children:t.dailyTarget})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
            ${t.completionPercentage>=100?"bg-green-100 text-green-800":t.completionPercentage>=75?"bg-lime-100 text-lime-800":t.completionPercentage>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.completionPercentage,"%"]}),p.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5 mt-1",children:p.jsx("div",{className:`h-1.5 rounded-full ${t.completionPercentage>=100?"bg-green-500":t.completionPercentage>=75?"bg-lime-500":t.completionPercentage>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(t.completionPercentage,100)}%`}})})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:t.averageTAT}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:p.jsx("button",{onClick:()=>e(t),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]})},aMe=({doctorPharmacist:t,doctors:e,onViewDoctorDetails:n,partnerNames:r})=>{const[i,a]=T.useState(1),[s]=T.useState(8),[o,l]=T.useState(null),[u,d]=T.useState(null),[h,g]=T.useState(null),[y,_]=T.useState(null),[v,b]=T.useState(e);var E=Math.ceil(v.length/s);const N=(i-1)*s,C=N+s,k=()=>{i>1&&a(i-1)},O=()=>{i<E&&a(i+1)},I=t.charAt(0).toUpperCase()+t.slice(1),A=r.map(D=>({value:D,label:D})),R=D=>{t==="doctor"?d(D?D.value:null):t==="pharmacist"&&g(D?D.value:null),a(1),_(D?D.value:null)};return T.useEffect(()=>{t==="doctor"?_(u):t==="pharmacist"&&_(h)},[t]),T.useEffect(()=>{if(y){const D=e.filter(L=>L.partnerName===y);b(D)}else b(e);E=Math.ceil(v.length/s)},[e,y]),p.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[p.jsx("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:[I," Status & Cases"]}),p.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:y?`Showing ${v.length} ${t}s under ${y}`:`Showing all ${v.length} ${t}s`})]}),p.jsx("div",{className:"w-64",children:p.jsx(Wu,{options:A,isClearable:!0,placeholder:"Filter by Partner",value:A.find(D=>D.value===y||null),onChange:R})})]})}),p.jsxs("div",{className:"overflow-x-auto",children:[p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:I}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shift"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Today's Cases"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed / Pending"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% Complete"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. TAT (min)"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No doctors found under this partner, or some other issue occurred."})}):v.slice(N,C).map(D=>p.jsx(iMe,{doctor:D,onViewDetails:n},D.id))})]}),p.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-t",children:[p.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",s*(i-1)+1," to ",Math.min(s*i,v.length)," of ",v.length," ",t,"s"]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(nt,{variant:"outline",size:"sm",onClick:k,disabled:i===1,children:p.jsx(L1,{className:"h-4 w-4"})}),p.jsxs("span",{className:"text-sm",children:["Page ",i," of ",E]}),p.jsx(nt,{variant:"outline",size:"sm",onClick:O,disabled:i===E,children:p.jsx(F1,{className:"h-4 w-4"})})]})]})]})]})},sMe=({doctor:t,onViewDetails:e})=>{const n=a=>{switch(a){case"available":return"bg-green-100 text-green-800";case"busy":return"bg-yellow-100 text-yellow-800";case"on_break":return"bg-blue-100 text-blue-800";case"unavailable":default:return"bg-red-100 text-red-800"}},r=a=>{switch(a){case"available":return"Available";case"busy":return"Busy";case"on_break":return"On Break";case"unavailable":return"Unavailable";default:return"Unknown"}},i=a=>a||"Not set";return p.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[p.jsxs("div",{className:`px-4 py-2 ${t.availabilityStatus==="available"?"bg-green-50":t.availabilityStatus==="busy"?"bg-yellow-50":t.availabilityStatus==="on_break"?"bg-blue-50":"bg-red-50"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-semibold",children:t.name}),p.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${n(t.availabilityStatus)}`,children:r(t.availabilityStatus)})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[t.empId&&`ID: ${t.empId}`,"  ",i(t.shiftTiming)]})]}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[p.jsxs("div",{className:"bg-gray-50 p-2 rounded text-center",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Today's Cases"}),p.jsx("div",{className:"text-xl font-bold",children:t.todayCases})]}),p.jsxs("div",{className:"bg-gray-50 p-2 rounded text-center",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Target"}),p.jsx("div",{className:"text-xl font-bold",children:t.dailyTarget})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{className:"p-2 border border-gray-100 rounded",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Completed"}),p.jsx("div",{className:"text-lg font-medium text-green-600",children:t.completedCases})]}),p.jsxs("div",{className:"p-2 border border-gray-100 rounded",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Pending"}),p.jsx("div",{className:"text-lg font-medium text-yellow-600",children:t.pendingCases})]}),p.jsxs("div",{className:"p-2 border border-gray-100 rounded",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Incomplete"}),p.jsx("div",{className:"text-lg font-medium text-red-600",children:t.incompleteCases})]}),p.jsxs("div",{className:"p-2 border border-gray-100 rounded",children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Avg. TAT"}),p.jsxs("div",{className:"text-lg font-medium",children:[t.averageTAT," ",p.jsx("span",{className:"text-xs",children:"min"})]})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:p.jsx("div",{className:`h-2.5 rounded-full ${t.completionPercentage>=100?"bg-green-500":t.completionPercentage>=75?"bg-lime-500":t.completionPercentage>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(t.completionPercentage,100)}%`}})}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[p.jsx("span",{children:"0%"}),p.jsxs("span",{children:[Math.min(t.completionPercentage,100),"%"]}),p.jsx("span",{children:"100%"})]})]}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx("button",{onClick:()=>e(t),className:"inline-flex items-center px-3 py-1 border border-blue-300 text-sm leading-5 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:"View Details"})})]})]})},oMe=({doctors:t,onViewDoctorDetails:e})=>p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.length===0?p.jsx("div",{className:"col-span-full text-center py-10 bg-white rounded-lg shadow",children:p.jsx("p",{className:"text-gray-500",children:"No doctors found in your hierarchy"})}):t.map(n=>p.jsx(sMe,{doctor:n,onViewDetails:e},n.id))}),lMe=({doctors:t,doctorPharmacist:e,onFilteredDataChange:n,casesData:r=[]})=>{const[i,a]=T.useState([]),[s,o]=T.useState(!1),l=T.useMemo(()=>{const v={available:0,busy:0,on_break:0,unavailable:0,unavailable_with_cases:0};return t.forEach(b=>{const E=b.availabilityStatus;E==="unavailable"?(e==="doctor"?r.some(C=>{var k;return((k=C.assignedDoctors)==null?void 0:k.primary)===b.id&&C.doctorCompleted===!1}):r.some(C=>C.pharmacistId===b.id&&C.status==="doctor_completed"))?v.unavailable_with_cases++:v.unavailable++:v.hasOwnProperty(E)&&v[E]++}),v},[t,e,r]),u=T.useMemo(()=>i.length===0?t:t.filter(v=>{const b=v.availabilityStatus;if(b==="unavailable"){const E=e==="doctor"?r.some(N=>{var C;return((C=N.assignedDoctors)==null?void 0:C.primary)===v.id&&N.doctorCompleted===!1}):r.some(N=>N.pharmacistId===v.id&&N.status==="doctor_completed");return E&&i.includes("unavailable_with_cases")?!0:!!(!E&&i.includes("unavailable"))}return i.includes(b)}),[t,i,e,r]);ae.useEffect(()=>{n(u)},[u,n]);const d=v=>{a(b=>b.includes(v)?b.filter(E=>E!==v):[...b,v])},h=()=>{a([])},g=()=>{a(["available","busy","on_break","unavailable","unavailable_with_cases"])},y=[{key:"available",label:"Available",color:"bg-green-100 text-green-800 border-green-200",icon:""},{key:"busy",label:"Busy",color:"bg-orange-100 text-orange-800 border-orange-200",icon:""},{key:"on_break",label:"On Break",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:""},{key:"unavailable",label:"Unavailable",color:"bg-gray-100 text-gray-800 border-gray-200",icon:""},{key:"unavailable_with_cases",label:"Unavailable (with cases)",color:"bg-red-100 text-red-800 border-red-200",icon:""}],_=e.charAt(0).toUpperCase()+e.slice(1);return p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Filter ",_,"s by Status"]}),p.jsx("button",{onClick:()=>o(!s),className:"text-sm text-blue-600 hover:text-blue-800 focus:outline-none",children:s?"Hide Filters":"Show Filters"})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",u.length," of ",t.length," ",_.toLowerCase(),"s"]})]}),s&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex space-x-2 mb-3",children:[p.jsx("button",{onClick:g,className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:"Select All"}),p.jsx("button",{onClick:h,className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Clear Filters"})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(v=>p.jsxs("button",{onClick:()=>d(v.key),className:`
                  flex items-center space-x-2 px-3 py-2 rounded-lg border text-sm font-medium transition-all
                  ${i.includes(v.key)?`${v.color} ring-2 ring-offset-1 ring-blue-500`:"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}
                `,children:[p.jsx("span",{children:v.icon}),p.jsx("span",{children:v.label}),p.jsx("span",{className:"bg-white bg-opacity-70 px-2 py-0.5 rounded-full text-xs font-semibold",children:l[v.key]})]},v.key))}),i.length>0&&p.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:p.jsxs("div",{className:"text-sm text-blue-800",children:[p.jsx("strong",{children:"Active Filters:"})," ",i.map(v=>{const b=y.find(E=>E.key===v);return b==null?void 0:b.label}).join(", ")]})})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 mt-4",children:y.map(v=>p.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-md ${i.includes(v.key)?`${v.color} ring-1 ring-blue-400`:"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>d(v.key),children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"text-2xl",children:v.icon}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-lg font-bold text-gray-900",children:l[v.key]}),p.jsx("div",{className:"text-xs text-gray-600",children:v.label})]})]})},v.key))})]})},cMe=T.lazy(()=>ux(()=>import("./CaseTransfer-BylRSwFk.js"),__vite__mapDeps([6,2]))),uMe=()=>p.jsx("div",{className:"flex justify-center items-center py-12 border rounded-lg bg-white",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading case transfer module..."}),p.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we initialize the transfer system..."})]})}),fMe=(t,e)=>{switch(e.type){case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_REFRESHING":return{...t,isRefreshing:e.payload};case"SET_ERROR":return{...t,error:e.payload,isLoading:!1};case"SET_DOCTORS":return{...t,doctors:e.payload,isLoading:!1,error:null};case"SET_PHARMACISTS":return{...t,pharmacists:e.payload,isLoading:!1,error:null};case"SET_REALTIME_DATA":return{...t,realtimeData:e.payload};case"SET_CASES_DATA":return{...t,casesData:e.payload};case"SET_FILTERED_DATA":return{...t,filteredData:e.payload};case"SET_PARTNER_NAMES":return{...t,partnerNames:e.payload};case"SET_SELECTED_DOCTOR":return{...t,selectedDoctor:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"SET_DOCTOR_PHARMACIST":return{...t,doctorPharmacist:e.payload};case"SET_SELECTED_PARTNER":return{...t,selectedPartner:e.payload};case"SET_REFRESH_INTERVAL":return{...t,refreshInterval:e.payload};case"CLEAR_ERROR":return{...t,error:null};default:return t}},dMe={doctors:[],pharmacists:[],isLoading:!0,isRefreshing:!1,error:null,refreshInterval:3e4,realtimeData:{},selectedDoctor:null,viewMode:"table",doctorPharmacist:"doctor",partnerNames:[],selectedPartner:null,casesData:[],filteredData:[]},hMe=({currentUser:t})=>{const[e,n]=T.useReducer(fMe,dMe),[r,i]=T.useState([]),[a,s]=T.useState(!1),o=T.useMemo(()=>(t==null?void 0:t.role)&&["superAdmin","teamLeader","drManager"].includes(t.role),[t==null?void 0:t.role]),l=T.useMemo(()=>e.doctorPharmacist==="doctor"?e.doctors:e.pharmacists,[e.doctorPharmacist,e.doctors,e.pharmacists]),u=T.useMemo(()=>e.filteredData.length>0?e.filteredData:l,[l,e.filteredData]),d=T.useMemo(()=>(t==null?void 0:t.role)&&["zonalHead","teamLeader","drManager","superAdmin"].includes(t.role),[t==null?void 0:t.role]),h=T.useCallback(I=>{n({type:"SET_FILTERED_DATA",payload:I})},[]),g=T.useCallback(async()=>{try{const I=new Date;I.setHours(0,0,0,0);const A=new Date(I);A.setDate(A.getDate()+1);const R=kt(dn(st,"cases"),tt("createdAt",">=",fn.fromDate(I)),tt("createdAt","<",fn.fromDate(A))),L=(await ur(R)).docs.map(j=>({id:j.id,...j.data()}));n({type:"SET_CASES_DATA",payload:L})}catch(I){console.error("Error fetching cases data:",I)}},[]),y=T.useCallback(async()=>{try{if(l.length===0)return;const I=l.map(D=>D.id),A=10,R=[...l];for(let D=0;D<I.length;D+=A){const L=I.slice(D,D+A);(await Promise.all(L.map(B=>ar(hn(st,"users",B))))).forEach((B,F)=>{const re=D+F;if(B.exists()){const q=B.data();R[re]={...R[re],availabilityStatus:q.availabilityStatus,availabilityHistory:q.availabilityHistory}}})}e.doctorPharmacist==="doctor"?n({type:"SET_DOCTORS",payload:R}):n({type:"SET_PHARMACISTS",payload:R})}catch(I){console.error("Error fetching availability data:",I)}},[l,e.doctorPharmacist]),_=T.useCallback(async I=>{try{n({type:"SET_LOADING",payload:!0}),n({type:"CLEAR_ERROR"});const A=await NIe(t.uid,I),R=A.docList;if(n({type:"SET_PARTNER_NAMES",payload:A.partnerNames}),R.length===0){console.log(`No ${I}s found in hierarchy. Check role relationships.`),n(I==="doctor"?{type:"SET_DOCTORS",payload:[]}:{type:"SET_PHARMACISTS",payload:[]});return}if(I==="doctor"){const D=await qje();n({type:"SET_REALTIME_DATA",payload:D});const L=Kje(R,D),j=await uV(L);n({type:"SET_DOCTORS",payload:j})}else if(I==="pharmacist"){const D=Xje(R),L=await fV(D);n({type:"SET_PHARMACISTS",payload:L})}}catch(A){console.error(`Error loading ${I} dashboard:`,A),n({type:"SET_ERROR",payload:`Failed to load ${I} data. Please try again later.`})}},[t==null?void 0:t.uid]),v=T.useCallback(async()=>{if(l.length>0)try{if(n({type:"SET_REFRESHING",payload:!0}),await y(),e.doctorPharmacist==="doctor"){const I=await uV(e.doctors);n({type:"SET_DOCTORS",payload:I})}else{const I=await fV(e.pharmacists);n({type:"SET_PHARMACISTS",payload:I})}await g()}catch(I){console.error(`Error refreshing ${e.doctorPharmacist} data:`,I),n({type:"SET_ERROR",payload:`Failed to refresh ${e.doctorPharmacist} data.`})}finally{n({type:"SET_REFRESHING",payload:!1})}else await _(e.doctorPharmacist)},[l.length,e.doctorPharmacist,e.doctors,e.pharmacists,y,_,g]);T.useEffect(()=>{l.length===0&&e.viewMode!=="cases"&&_(e.doctorPharmacist)},[e.doctorPharmacist,l.length,_,e.viewMode]),T.useEffect(()=>{d&&g()},[d,g]),T.useEffect(()=>{if(!t||!t.uid||!t.role){n({type:"SET_ERROR",payload:"User information not available"});return}if(!d){n({type:"SET_ERROR",payload:"You don't have permission to access this dashboard"});return}e.error&&d&&n({type:"CLEAR_ERROR"})},[t,d,e.error]),T.useEffect(()=>{if(!d||l.length===0||e.viewMode==="cases")return;r.forEach(A=>A());const I=l.map(A=>{const R=hn(st,"users",A.id);return Au(R,D=>{if(D.exists()){const L=D.data(),j=l.map(B=>B.id===A.id?{...B,availabilityStatus:L.availabilityStatus,availabilityHistory:L.availabilityHistory}:B);e.doctorPharmacist==="doctor"?n({type:"SET_DOCTORS",payload:j}):n({type:"SET_PHARMACISTS",payload:j})}},D=>{console.error("Real-time listener error:",D)})});return i(I),()=>{I.forEach(A=>A())}},[d,l.length,e.doctorPharmacist,e.viewMode]),T.useEffect(()=>{if(!d||l.length===0||e.viewMode==="cases")return;const I=setInterval(()=>{!e.isLoading&&!e.isRefreshing&&v()},e.refreshInterval);return()=>clearInterval(I)},[d,l.length,e.viewMode,e.refreshInterval,e.isLoading,e.isRefreshing,v]),T.useEffect(()=>()=>{r.forEach(I=>I())},[r]);const b=T.useCallback(I=>{n({type:"SET_SELECTED_DOCTOR",payload:I})},[]);T.useCallback(I=>{n({type:"SET_SELECTED_PARTNER",payload:I})},[]);const E=T.useCallback(I=>{I!==e.viewMode&&(I==="cases"?(s(!0),requestAnimationFrame(()=>{setTimeout(()=>{n({type:"SET_VIEW_MODE",payload:I}),s(!1)},50)})):(n({type:"SET_VIEW_MODE",payload:I}),e.viewMode==="cases"&&l.length===0&&_(e.doctorPharmacist)))},[e.viewMode,l.length,e.doctorPharmacist,_]),N=T.useCallback(I=>{I!==e.doctorPharmacist&&(n({type:"SET_DOCTOR_PHARMACIST",payload:I}),n({type:"SET_FILTERED_DATA",payload:[]}))},[e.doctorPharmacist]),C=T.useCallback(I=>{I!==e.refreshInterval&&n({type:"SET_REFRESH_INTERVAL",payload:I})},[e.refreshInterval]),k=T.useCallback(()=>{n({type:"SET_SELECTED_DOCTOR",payload:null})},[]),O=T.useCallback(()=>{o&&ux(()=>import("./CaseTransfer-BylRSwFk.js"),__vite__mapDeps([6,2]))},[o]);return e.isLoading&&e.viewMode!=="cases"?p.jsxs("div",{className:"flex justify-center items-center h-64",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),p.jsx("span",{className:"ml-3 text-gray-600",children:"Loading dashboard..."})]}):e.error?p.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[p.jsx("strong",{className:"font-bold",children:"Error: "}),p.jsx("span",{className:"block sm:inline",children:e.error}),p.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Reload Page"})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx(nMe,{viewMode:e.viewMode,setViewMode:E,doctorPharmacist:e.doctorPharmacist,setDoctorPharmacist:N,refreshInterval:e.refreshInterval,setRefreshInterval:C,onRefresh:v,showCaseTransfer:o,isRefreshing:e.isRefreshing,isTransitioning:a,onCaseTransferHover:O}),e.viewMode==="cases"&&o?p.jsx(T.Suspense,{fallback:p.jsx(uMe,{}),children:p.jsx(cMe,{currentUser:t})}):e.viewMode==="cases"&&!o?p.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:p.jsxs("div",{className:"text-yellow-800",children:[p.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Restricted"}),p.jsx("p",{className:"text-sm",children:"Case transfer functionality is only available to Team Leaders. Please contact your administrator if you need access."})]})}):p.jsxs(p.Fragment,{children:[p.jsx(rMe,{doctorPharmacist:e.doctorPharmacist,doctors:l,isRefreshing:e.isRefreshing,casesData:e.casesData}),p.jsx(lMe,{doctors:l,doctorPharmacist:e.doctorPharmacist,onFilteredDataChange:h,casesData:e.casesData}),l.length===0?p.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 p-4 rounded-lg text-center",children:[p.jsxs("p",{className:"text-yellow-700 font-medium mb-2",children:["No ",e.doctorPharmacist,"s found in your hierarchy"]}),p.jsxs("p",{className:"text-yellow-600 text-sm mb-3",children:["This might happen if there are no ",e.doctorPharmacist,"s reporting to you or assigned to clinics in your hierarchy."]}),p.jsx("button",{onClick:v,disabled:e.isRefreshing,className:"bg-blue-500 hover:bg-blue-700 disabled:bg-blue-300 text-white font-bold py-2 px-4 rounded text-sm transition-colors",children:e.isRefreshing?"Refreshing...":"Refresh Now"})]}):e.viewMode==="table"?p.jsx(aMe,{doctorPharmacist:e.doctorPharmacist,doctors:u,onViewDoctorDetails:b,partnerNames:e.partnerNames,isRefreshing:e.isRefreshing}):e.viewMode==="cards"?p.jsx(oMe,{doctors:u,onViewDoctorDetails:b,isRefreshing:e.isRefreshing}):null]}),e.selectedDoctor&&p.jsx(eMe,{doctorPharmacist:e.doctorPharmacist,doctor:e.selectedDoctor,onClose:k}),!1]})},pMe=ae.memo(hMe);var _2,dV;function Ra(){if(dV)return _2;dV=1;var t=Array.isArray;return _2=t,_2}var w2,hV;function Hte(){if(hV)return w2;hV=1;var t=typeof Gb=="object"&&Gb&&Gb.Object===Object&&Gb;return w2=t,w2}var E2,pV;function al(){if(pV)return E2;pV=1;var t=Hte(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return E2=n,E2}var S2,mV;function Tx(){if(mV)return S2;mV=1;var t=al(),e=t.Symbol;return S2=e,S2}var T2,gV;function mMe(){if(gV)return T2;gV=1;var t=Tx(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var d=r.call(s);return u&&(o?s[i]=l:delete s[i]),d}return T2=a,T2}var A2,vV;function gMe(){if(vV)return A2;vV=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return A2=n,A2}var C2,yV;function bc(){if(yV)return C2;yV=1;var t=Tx(),e=mMe(),n=gMe(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?e(o):n(o)}return C2=s,C2}var N2,xV;function _c(){if(xV)return N2;xV=1;function t(e){return e!=null&&typeof e=="object"}return N2=t,N2}var O2,bV;function y0(){if(bV)return O2;bV=1;var t=bc(),e=_c(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return O2=r,O2}var P2,_V;function g4(){if(_V)return P2;_V=1;var t=Ra(),e=y0(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return P2=i,P2}var R2,wV;function pf(){if(wV)return R2;wV=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return R2=t,R2}var I2,EV;function v4(){if(EV)return I2;EV=1;var t=bc(),e=pf(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==a}return I2=s,I2}var D2,SV;function vMe(){if(SV)return D2;SV=1;var t=al(),e=t["__core-js_shared__"];return D2=e,D2}var k2,TV;function yMe(){if(TV)return k2;TV=1;var t=vMe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return k2=n,k2}var j2,AV;function zte(){if(AV)return j2;AV=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return j2=n,j2}var M2,CV;function xMe(){if(CV)return M2;CV=1;var t=v4(),e=yMe(),n=pf(),r=zte(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!n(g)||e(g))return!1;var y=t(g)?d:a;return y.test(r(g))}return M2=h,M2}var L2,NV;function bMe(){if(NV)return L2;NV=1;function t(e,n){return e==null?void 0:e[n]}return L2=t,L2}var F2,OV;function lh(){if(OV)return F2;OV=1;var t=xMe(),e=bMe();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return F2=n,F2}var B2,PV;function MS(){if(PV)return B2;PV=1;var t=lh(),e=t(Object,"create");return B2=e,B2}var $2,RV;function _Me(){if(RV)return $2;RV=1;var t=MS();function e(){this.__data__=t?t(null):{},this.size=0}return $2=e,$2}var V2,IV;function wMe(){if(IV)return V2;IV=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return V2=t,V2}var U2,DV;function EMe(){if(DV)return U2;DV=1;var t=MS(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return r.call(s,a)?s[a]:void 0}return U2=i,U2}var H2,kV;function SMe(){if(kV)return H2;kV=1;var t=MS(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return H2=r,H2}var z2,jV;function TMe(){if(jV)return z2;jV=1;var t=MS(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return z2=n,z2}var q2,MV;function AMe(){if(MV)return q2;MV=1;var t=_Me(),e=wMe(),n=EMe(),r=SMe(),i=TMe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,q2=a,q2}var W2,LV;function CMe(){if(LV)return W2;LV=1;function t(){this.__data__=[],this.size=0}return W2=t,W2}var G2,FV;function y4(){if(FV)return G2;FV=1;function t(e,n){return e===n||e!==e&&n!==n}return G2=t,G2}var K2,BV;function LS(){if(BV)return K2;BV=1;var t=y4();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return K2=e,K2}var Y2,$V;function NMe(){if($V)return Y2;$V=1;var t=LS(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():n.call(a,s,1),--this.size,!0}return Y2=r,Y2}var X2,VV;function OMe(){if(VV)return X2;VV=1;var t=LS();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return X2=e,X2}var Q2,UV;function PMe(){if(UV)return Q2;UV=1;var t=LS();function e(n){return t(this.__data__,n)>-1}return Q2=e,Q2}var Z2,HV;function RMe(){if(HV)return Z2;HV=1;var t=LS();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Z2=e,Z2}var J2,zV;function FS(){if(zV)return J2;zV=1;var t=CMe(),e=NMe(),n=OMe(),r=PMe(),i=RMe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,J2=a,J2}var eN,qV;function x4(){if(qV)return eN;qV=1;var t=lh(),e=al(),n=t(e,"Map");return eN=n,eN}var tN,WV;function IMe(){if(WV)return tN;WV=1;var t=AMe(),e=FS(),n=x4();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return tN=r,tN}var nN,GV;function DMe(){if(GV)return nN;GV=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return nN=t,nN}var rN,KV;function BS(){if(KV)return rN;KV=1;var t=DMe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return rN=e,rN}var iN,YV;function kMe(){if(YV)return iN;YV=1;var t=BS();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return iN=e,iN}var aN,XV;function jMe(){if(XV)return aN;XV=1;var t=BS();function e(n){return t(this,n).get(n)}return aN=e,aN}var sN,QV;function MMe(){if(QV)return sN;QV=1;var t=BS();function e(n){return t(this,n).has(n)}return sN=e,sN}var oN,ZV;function LMe(){if(ZV)return oN;ZV=1;var t=BS();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return oN=e,oN}var lN,JV;function b4(){if(JV)return lN;JV=1;var t=IMe(),e=kMe(),n=jMe(),r=MMe(),i=LMe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,lN=a,lN}var cN,e9;function qte(){if(e9)return cN;e9=1;var t=b4(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=r.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(n.Cache||t),a}return n.Cache=t,cN=n,cN}var uN,t9;function FMe(){if(t9)return uN;t9=1;var t=qte(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return uN=n,uN}var fN,n9;function BMe(){if(n9)return fN;n9=1;var t=FMe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,u){a.push(l?u.replace(n,"$1"):o||s)}),a});return fN=r,fN}var dN,r9;function _4(){if(r9)return dN;r9=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return dN=t,dN}var hN,i9;function $Me(){if(i9)return hN;i9=1;var t=Tx(),e=_4(),n=Ra(),r=y0(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return e(o,s)+"";if(r(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return hN=s,hN}var pN,a9;function Wte(){if(a9)return pN;a9=1;var t=$Me();function e(n){return n==null?"":t(n)}return pN=e,pN}var mN,s9;function Gte(){if(s9)return mN;s9=1;var t=Ra(),e=g4(),n=BMe(),r=Wte();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return mN=i,mN}var gN,o9;function $S(){if(o9)return gN;o9=1;var t=y0();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return gN=e,gN}var vN,l9;function w4(){if(l9)return vN;l9=1;var t=Gte(),e=$S();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return vN=n,vN}var yN,c9;function Kte(){if(c9)return yN;c9=1;var t=w4();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return yN=e,yN}var VMe=Kte();const ns=Rn(VMe);var xN,u9;function UMe(){if(u9)return xN;u9=1;function t(e){return e==null}return xN=t,xN}var HMe=UMe();const bt=Rn(HMe);var bN,f9;function zMe(){if(f9)return bN;f9=1;var t=bc(),e=Ra(),n=_c(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return bN=i,bN}var qMe=zMe();const Ax=Rn(qMe);var WMe=v4();const xt=Rn(WMe);var GMe=pf();const x0=Rn(GMe);var _N={exports:{}},On={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d9;function KMe(){if(d9)return On;d9=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case n:case i:case r:case u:case d:return b;default:switch(b=b&&b.$$typeof,b){case o:case s:case l:case g:case h:case a:return b;default:return E}}case e:return E}}}return On.ContextConsumer=s,On.ContextProvider=a,On.Element=t,On.ForwardRef=l,On.Fragment=n,On.Lazy=g,On.Memo=h,On.Portal=e,On.Profiler=i,On.StrictMode=r,On.Suspense=u,On.SuspenseList=d,On.isAsyncMode=function(){return!1},On.isConcurrentMode=function(){return!1},On.isContextConsumer=function(b){return v(b)===s},On.isContextProvider=function(b){return v(b)===a},On.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},On.isForwardRef=function(b){return v(b)===l},On.isFragment=function(b){return v(b)===n},On.isLazy=function(b){return v(b)===g},On.isMemo=function(b){return v(b)===h},On.isPortal=function(b){return v(b)===e},On.isProfiler=function(b){return v(b)===i},On.isStrictMode=function(b){return v(b)===r},On.isSuspense=function(b){return v(b)===u},On.isSuspenseList=function(b){return v(b)===d},On.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===u||b===d||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===h||b.$$typeof===a||b.$$typeof===s||b.$$typeof===l||b.$$typeof===_||b.getModuleId!==void 0)},On.typeOf=v,On}var h9;function YMe(){return h9||(h9=1,_N.exports=KMe()),_N.exports}var XMe=YMe(),wN,p9;function Yte(){if(p9)return wN;p9=1;var t=bc(),e=_c(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return wN=r,wN}var EN,m9;function QMe(){if(m9)return EN;m9=1;var t=Yte();function e(n){return t(n)&&n!=+n}return EN=e,EN}var ZMe=QMe();const b0=Rn(ZMe);var JMe=Yte();const e4e=Rn(JMe);var da=function(e){return e===0?0:e>0?1:-1},cd=function(e){return Ax(e)&&e.indexOf("%")===e.length-1},We=function(e){return e4e(e)&&!b0(e)},ii=function(e){return We(e)||Ax(e)},t4e=0,mf=function(e){var n=++t4e;return"".concat(e||"").concat(n)},ha=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(e)&&!Ax(e))return r;var a;if(cd(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return b0(a)&&(a=r),i&&a>n&&(a=n),a},hu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},n4e=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},gr=function(e,n){return We(e)&&We(n)?function(r){return e+r*(n-e)}:function(){return n}};function ww(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ns(r,e))===n})}var r4e=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,a=0,s=0,o=1/0,l=-1/0,u=0,d=0,h=0;h<n;h++)u=e[h].cx||0,d=e[h].cy||0,r+=u,i+=d,a+=u*d,s+=u*u,o=Math.min(o,u),l=Math.max(l,u);var g=n*s!==r*r?(n*a-r*i)/(n*s-r*r):0;return{xmin:o,xmax:l,a:g,b:(i-g*r)/n}};function Up(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function UI(t){"@babel/helpers - typeof";return UI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UI(t)}var i4e=["viewBox","children"],a4e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],g9=["points","pathLength"],SN={svg:i4e,polygon:g9,polyline:g9},E4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ew=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),!x0(r))return null;var i={};return Object.keys(r).forEach(function(a){E4.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},s4e=function(e,n,r){return function(i){return e(n,r,i),null}},nf=function(e,n,r){if(!x0(e)||UI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];E4.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=s4e(s,n,r))}),i},o4e=["children"],l4e=["children"];function v9(t,e){if(t==null)return{};var n=c4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HI(t){"@babel/helpers - typeof";return HI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HI(t)}var y9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},x9=null,TN=null,S4=function t(e){if(e===x9&&Array.isArray(TN))return TN;var n=[];return T.Children.forEach(e,function(r){bt(r)||(XMe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),TN=n,x9=e,n};function va(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Yl(i)}):r=[Yl(e)],S4(t).forEach(function(i){var a=ns(i,"type.displayName")||ns(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ha(t,e){var n=va(t,e);return n&&n[0]}var b9=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!We(r)||r<=0||!We(i)||i<=0)},u4e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],f4e=function(e){return e&&e.type&&Ax(e.type)&&u4e.indexOf(e.type)>=0},Xte=function(e){return e&&HI(e)==="object"&&"clipDot"in e},d4e=function(e,n,r,i){var a,s=(a=SN==null?void 0:SN[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!xt(e)&&(i&&s.includes(n)||a4e.includes(n))||r&&E4.includes(n)},ft=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!x0(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;d4e((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},zI=function t(e,n){if(e===n)return!0;var r=T.Children.count(e);if(r!==T.Children.count(n))return!1;if(r===0)return!0;if(r===1)return _9(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!_9(a,s))return!1}return!0},_9=function(e,n){if(bt(e)&&bt(n))return!0;if(!bt(e)&&!bt(n)){var r=e.props||{},i=r.children,a=v9(r,o4e),s=n.props||{},o=s.children,l=v9(s,l4e);return i&&o?Up(a,l)&&zI(i,o):!i&&!o?Up(a,l):!1}return!1},w9=function(e,n){var r=[],i={};return S4(e).forEach(function(a,s){if(f4e(a))r.push(a);else if(a){var o=Yl(a.type),l=n[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var h=u(a,o,s);r.push(h),i[o]=!0}}}),r},h4e=function(e){var n=e&&e.type;return n&&y9[n]?y9[n]:null},p4e=function(e,n){return S4(n).indexOf(e)},m4e=["children","width","height","viewBox","className","style","title","desc"];function qI(){return qI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qI.apply(this,arguments)}function g4e(t,e){if(t==null)return{};var n=v4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WI(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=g4e(t,m4e),d=i||{width:n,height:r,x:0,y:0},h=Pt("recharts-surface",a);return ae.createElement("svg",qI({},ft(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ae.createElement("title",null,o),ae.createElement("desc",null,l),e)}var y4e=["children","className"];function GI(){return GI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GI.apply(this,arguments)}function x4e(t,e){if(t==null)return{};var n=b4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jt=ae.forwardRef(function(t,e){var n=t.children,r=t.className,i=x4e(t,y4e),a=Pt("recharts-layer",r);return ae.createElement("g",GI({className:a},ft(i,!0),{ref:e}),n)}),so=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},AN,E9;function _4e(){if(E9)return AN;E9=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return AN=t,AN}var CN,S9;function w4e(){if(S9)return CN;S9=1;var t=_4e();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return CN=e,CN}var NN,T9;function Qte(){if(T9)return NN;T9=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function l(u){return o.test(u)}return NN=l,NN}var ON,A9;function E4e(){if(A9)return ON;A9=1;function t(e){return e.split("")}return ON=t,ON}var PN,C9;function S4e(){if(C9)return PN;C9=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",_=u+"?",v="["+a+"]?",b="(?:"+y+"(?:"+[d,h,g].join("|")+")"+v+_+")*",E=v+_+b,N="(?:"+[d+o+"?",o,h,g,s].join("|")+")",C=RegExp(l+"(?="+l+")|"+N+E,"g");function k(O){return O.match(C)||[]}return PN=k,PN}var RN,N9;function T4e(){if(N9)return RN;N9=1;var t=E4e(),e=Qte(),n=S4e();function r(i){return e(i)?n(i):t(i)}return RN=r,RN}var IN,O9;function A4e(){if(O9)return IN;O9=1;var t=w4e(),e=Qte(),n=T4e(),r=Wte();function i(a){return function(s){s=r(s);var o=e(s)?n(s):void 0,l=o?o[0]:s.charAt(0),u=o?t(o,1).join(""):s.slice(1);return l[a]()+u}}return IN=i,IN}var DN,P9;function C4e(){if(P9)return DN;P9=1;var t=A4e(),e=t("toUpperCase");return DN=e,DN}var N4e=C4e();const VS=Rn(N4e);function Jn(t){return function(){return t}}const Zte=Math.cos,Sw=Math.sin,vo=Math.sqrt,Tw=Math.PI,US=2*Tw,KI=Math.PI,YI=2*KI,td=1e-6,O4e=YI-td;function Jte(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function P4e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Jte;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class R4e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Jte:P4e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,d=s-e,h=o-n,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>td)if(!(Math.abs(h*l-u*d)>td)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,_=i-o,v=l*l+u*u,b=y*y+_*_,E=Math.sqrt(v),N=Math.sqrt(g),C=a*Math.tan((KI-Math.acos((v+g-b)/(2*E*N)))/2),k=C/N,O=C/E;Math.abs(k-1)>td&&this._append`L${e+k*d},${n+k*h}`,this._append`A${a},${a},0,0,${+(h*y>d*_)},${this._x1=e+O*l},${this._y1=n+O*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=n+l,h=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>td||Math.abs(this._y1-d)>td)&&this._append`L${u},${d}`,r&&(g<0&&(g=g%YI+YI),g>O4e?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:g>td&&this._append`A${r},${r},0,${+(g>=KI)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function T4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new R4e(e)}function A4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ene(t){this._context=t}ene.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function HS(t){return new ene(t)}function tne(t){return t[0]}function nne(t){return t[1]}function rne(t,e){var n=Jn(!0),r=null,i=HS,a=null,s=T4(o);t=typeof t=="function"?t:t===void 0?tne:Jn(t),e=typeof e=="function"?e:e===void 0?nne:Jn(e);function o(l){var u,d=(l=A4(l)).length,h,g=!1,y;for(r==null&&(a=i(y=s())),u=0;u<=d;++u)!(u<d&&n(h=l[u],u,l))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(h,u,l),+e(h,u,l));if(y)return a=null,y+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Jn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Jn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Jn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function I_(t,e,n){var r=null,i=Jn(!0),a=null,s=HS,o=null,l=T4(u);t=typeof t=="function"?t:t===void 0?tne:Jn(+t),e=typeof e=="function"?e:Jn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?nne:Jn(+n);function u(h){var g,y,_,v=(h=A4(h)).length,b,E=!1,N,C=new Array(v),k=new Array(v);for(a==null&&(o=s(N=l())),g=0;g<=v;++g){if(!(g<v&&i(b=h[g],g,h))===E)if(E=!E)y=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=g-1;_>=y;--_)o.point(C[_],k[_]);o.lineEnd(),o.areaEnd()}E&&(C[g]=+t(b,g,h),k[g]=+e(b,g,h),o.point(r?+r(b,g,h):C[g],n?+n(b,g,h):k[g]))}if(N)return o=null,N+""||null}function d(){return rne().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Jn(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Jn(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Jn(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Jn(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Jn(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Jn(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Jn(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class ine{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function I4e(t){return new ine(t,!0)}function D4e(t){return new ine(t,!1)}const C4={draw(t,e){const n=vo(e/Tw);t.moveTo(n,0),t.arc(0,0,n,0,US)}},k4e={draw(t,e){const n=vo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ane=vo(1/3),j4e=ane*2,M4e={draw(t,e){const n=vo(e/j4e),r=n*ane;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},L4e={draw(t,e){const n=vo(e),r=-n/2;t.rect(r,r,n,n)}},F4e=.8908130915292852,sne=Sw(Tw/10)/Sw(7*Tw/10),B4e=Sw(US/10)*sne,$4e=-Zte(US/10)*sne,V4e={draw(t,e){const n=vo(e*F4e),r=B4e*n,i=$4e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=US*a/5,o=Zte(s),l=Sw(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},kN=vo(3),U4e={draw(t,e){const n=-vo(e/(kN*3));t.moveTo(0,n*2),t.lineTo(-kN*n,-n),t.lineTo(kN*n,-n),t.closePath()}},_s=-.5,ws=vo(3)/2,XI=1/vo(12),H4e=(XI/2+1)*3,z4e={draw(t,e){const n=vo(e/H4e),r=n/2,i=n*XI,a=r,s=n*XI+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(_s*r-ws*i,ws*r+_s*i),t.lineTo(_s*a-ws*s,ws*a+_s*s),t.lineTo(_s*o-ws*l,ws*o+_s*l),t.lineTo(_s*r+ws*i,_s*i-ws*r),t.lineTo(_s*a+ws*s,_s*s-ws*a),t.lineTo(_s*o+ws*l,_s*l-ws*o),t.closePath()}};function q4e(t,e){let n=null,r=T4(i);t=typeof t=="function"?t:Jn(t||C4),e=typeof e=="function"?e:Jn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Jn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Jn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Aw(){}function Cw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function one(t){this._context=t}one.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function W4e(t){return new one(t)}function lne(t){this._context=t}lne.prototype={areaStart:Aw,areaEnd:Aw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G4e(t){return new lne(t)}function cne(t){this._context=t}cne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K4e(t){return new cne(t)}function une(t){this._context=t}une.prototype={areaStart:Aw,areaEnd:Aw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Y4e(t){return new une(t)}function R9(t){return t<0?-1:1}function I9(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(R9(a)+R9(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function D9(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jN(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Nw(t){this._context=t}Nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jN(this,this._t0,D9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jN(this,D9(this,n=I9(this,t,e)),n);break;default:jN(this,this._t0,n=I9(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function fne(t){this._context=new dne(t)}(fne.prototype=Object.create(Nw.prototype)).point=function(t,e){Nw.prototype.point.call(this,e,t)};function dne(t){this._context=t}dne.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function X4e(t){return new Nw(t)}function Q4e(t){return new fne(t)}function hne(t){this._context=t}hne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=k9(t),i=k9(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function k9(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Z4e(t){return new hne(t)}function zS(t,e){this._context=t,this._t=e}zS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function J4e(t){return new zS(t,.5)}function eLe(t){return new zS(t,0)}function tLe(t){return new zS(t,1)}function mm(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function QI(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function nLe(t,e){return t[e]}function rLe(t){const e=[];return e.key=t,e}function iLe(){var t=Jn([]),e=QI,n=mm,r=nLe;function i(a){var s=Array.from(t.apply(this,arguments),rLe),o,l=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(h,s[o].key,u,a)]).data=h;for(o=0,d=A4(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Jn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Jn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?QI:typeof a=="function"?a:Jn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??mm,i):n},i}function aLe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}mm(t,e)}}function sLe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}mm(t,e)}}function oLe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],h=d[r][1]||0,g=d[r-1][1]||0,y=(h-g)/2,_=0;_<o;++_){var v=t[e[_]],b=v[r][1]||0,E=v[r-1][1]||0;y+=b-E}l+=h,u+=y*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,mm(t,e)}}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var lLe=["type","size","sizeType"];function ZI(){return ZI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZI.apply(this,arguments)}function j9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(n),!0).forEach(function(r){cLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cLe(t,e,n){return e=uLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uLe(t){var e=fLe(t,"string");return cy(e)=="symbol"?e:e+""}function fLe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dLe(t,e){if(t==null)return{};var n=hLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pne={symbolCircle:C4,symbolCross:k4e,symbolDiamond:M4e,symbolSquare:L4e,symbolStar:V4e,symbolTriangle:U4e,symbolWye:z4e},pLe=Math.PI/180,mLe=function(e){var n="symbol".concat(VS(e));return pne[n]||C4},gLe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*pLe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vLe=function(e,n){pne["symbol".concat(VS(e))]=n},qS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=dLe(e,lLe),u=M9(M9({},l),{},{type:r,size:a,sizeType:o}),d=function(){var b=mLe(r),E=q4e().type(b).size(gLe(a,o,r));return E()},h=u.className,g=u.cx,y=u.cy,_=ft(u,!0);return g===+g&&y===+y&&a===+a?ae.createElement("path",ZI({},_,{className:Pt("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(y,")"),d:d()})):null};qS.registerSymbol=vLe;function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function JI(){return JI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JI.apply(this,arguments)}function L9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yLe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(n),!0).forEach(function(r){uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gne(r.key),r)}}function _Le(t,e,n){return e&&bLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wLe(t,e,n){return e=Ow(e),ELe(t,mne()?Reflect.construct(e,n||[],Ow(t).constructor):e.apply(t,n))}function ELe(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SLe(t)}function SLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mne=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(t)}function TLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eD(t,e)}function eD(t,e){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eD(t,e)}function uy(t,e,n){return e=gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gne(t){var e=ALe(t,"string");return gm(e)=="symbol"?e:e+""}function ALe(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zs=32,N4=function(t){function e(){return xLe(this,e),wLe(this,e,arguments)}return TLe(e,t),_Le(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=zs/2,s=zs/6,o=zs/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:zs,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(zs,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ae.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zs/8,"h").concat(zs,"v").concat(zs*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(r.legendIcon)){var u=yLe({},r);return delete u.legendIcon,ae.cloneElement(r.legendIcon,u)}return ae.createElement(qS,{fill:l,cx:a,cy:a,size:zs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:zs,height:zs},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,_){var v=y.formatter||l,b=Pt(uy(uy({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",y.inactive));if(y.type==="none")return null;var E=xt(y.value)?null:y.value;so(!xt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=y.inactive?u:y.color;return ae.createElement("li",JI({className:b,style:h,key:"legend-item-".concat(_)},nf(r.props,y,_)),ae.createElement(WI,{width:s,height:s,viewBox:d,style:g},r.renderIcon(y)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},v?v(E,y,_):E))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(T.PureComponent);uy(N4,"displayName","Legend");uy(N4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var MN,F9;function CLe(){if(F9)return MN;F9=1;var t=FS();function e(){this.__data__=new t,this.size=0}return MN=e,MN}var LN,B9;function NLe(){if(B9)return LN;B9=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return LN=t,LN}var FN,$9;function OLe(){if($9)return FN;$9=1;function t(e){return this.__data__.get(e)}return FN=t,FN}var BN,V9;function PLe(){if(V9)return BN;V9=1;function t(e){return this.__data__.has(e)}return BN=t,BN}var $N,U9;function RLe(){if(U9)return $N;U9=1;var t=FS(),e=x4(),n=b4(),r=200;function i(a,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(a,s),this.size=o.size,this}return $N=i,$N}var VN,H9;function vne(){if(H9)return VN;H9=1;var t=FS(),e=CLe(),n=NLe(),r=OLe(),i=PLe(),a=RLe();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,VN=s,VN}var UN,z9;function ILe(){if(z9)return UN;z9=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return UN=e,UN}var HN,q9;function DLe(){if(q9)return HN;q9=1;function t(e){return this.__data__.has(e)}return HN=t,HN}var zN,W9;function yne(){if(W9)return zN;W9=1;var t=b4(),e=ILe(),n=DLe();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,zN=r,zN}var qN,G9;function xne(){if(G9)return qN;G9=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return qN=t,qN}var WN,K9;function bne(){if(K9)return WN;K9=1;function t(e,n){return e.has(n)}return WN=t,WN}var GN,Y9;function _ne(){if(Y9)return GN;Y9=1;var t=yne(),e=xne(),n=bne(),r=1,i=2;function a(s,o,l,u,d,h){var g=l&r,y=s.length,_=o.length;if(y!=_&&!(g&&_>y))return!1;var v=h.get(s),b=h.get(o);if(v&&b)return v==o&&b==s;var E=-1,N=!0,C=l&i?new t:void 0;for(h.set(s,o),h.set(o,s);++E<y;){var k=s[E],O=o[E];if(u)var I=g?u(O,k,E,o,s,h):u(k,O,E,s,o,h);if(I!==void 0){if(I)continue;N=!1;break}if(C){if(!e(o,function(A,R){if(!n(C,R)&&(k===A||d(k,A,l,u,h)))return C.push(R)})){N=!1;break}}else if(!(k===O||d(k,O,l,u,h))){N=!1;break}}return h.delete(s),h.delete(o),N}return GN=a,GN}var KN,X9;function kLe(){if(X9)return KN;X9=1;var t=al(),e=t.Uint8Array;return KN=e,KN}var YN,Q9;function jLe(){if(Q9)return YN;Q9=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return YN=t,YN}var XN,Z9;function O4(){if(Z9)return XN;Z9=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return XN=t,XN}var QN,J9;function MLe(){if(J9)return QN;J9=1;var t=Tx(),e=kLe(),n=y4(),r=_ne(),i=jLe(),a=O4(),s=1,o=2,l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",g="[object Number]",y="[object RegExp]",_="[object Set]",v="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",N="[object DataView]",C=t?t.prototype:void 0,k=C?C.valueOf:void 0;function O(I,A,R,D,L,j,B){switch(R){case N:if(I.byteLength!=A.byteLength||I.byteOffset!=A.byteOffset)return!1;I=I.buffer,A=A.buffer;case E:return!(I.byteLength!=A.byteLength||!j(new e(I),new e(A)));case l:case u:case g:return n(+I,+A);case d:return I.name==A.name&&I.message==A.message;case y:case v:return I==A+"";case h:var F=i;case _:var re=D&s;if(F||(F=a),I.size!=A.size&&!re)return!1;var q=B.get(I);if(q)return q==A;D|=o,B.set(I,A);var V=r(F(I),F(A),D,L,j,B);return B.delete(I),V;case b:if(k)return k.call(I)==k.call(A)}return!1}return QN=O,QN}var ZN,eU;function wne(){if(eU)return ZN;eU=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return ZN=t,ZN}var JN,tU;function LLe(){if(tU)return JN;tU=1;var t=wne(),e=Ra();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return JN=n,JN}var eO,nU;function FLe(){if(nU)return eO;nU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var o=e[r];n(o,r,e)&&(s[a++]=o)}return s}return eO=t,eO}var tO,rU;function BLe(){if(rU)return tO;rU=1;function t(){return[]}return tO=t,tO}var nO,iU;function $Le(){if(iU)return nO;iU=1;var t=FLe(),e=BLe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return r.call(s,o)}))}:e;return nO=a,nO}var rO,aU;function VLe(){if(aU)return rO;aU=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return rO=t,rO}var iO,sU;function ULe(){if(sU)return iO;sU=1;var t=bc(),e=_c(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return iO=r,iO}var aO,oU;function P4(){if(oU)return aO;oU=1;var t=ULe(),e=_c(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return aO=a,aO}var Jg={exports:{}},sO,lU;function HLe(){if(lU)return sO;lU=1;function t(){return!1}return sO=t,sO}Jg.exports;var cU;function Ene(){return cU||(cU=1,function(t,e){var n=al(),r=HLe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u}(Jg,Jg.exports)),Jg.exports}var oO,uU;function R4(){if(uU)return oO;uU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return oO=n,oO}var lO,fU;function I4(){if(fU)return lO;fU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return lO=e,lO}var cO,dU;function zLe(){if(dU)return cO;dU=1;var t=bc(),e=I4(),n=_c(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",_="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",N="[object Float32Array]",C="[object Float64Array]",k="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",L="[object Uint32Array]",j={};j[N]=j[C]=j[k]=j[O]=j[I]=j[A]=j[R]=j[D]=j[L]=!0,j[r]=j[i]=j[b]=j[a]=j[E]=j[s]=j[o]=j[l]=j[u]=j[d]=j[h]=j[g]=j[y]=j[_]=j[v]=!1;function B(F){return n(F)&&e(F.length)&&!!j[t(F)]}return cO=B,cO}var uO,hU;function Sne(){if(hU)return uO;hU=1;function t(e){return function(n){return e(n)}}return uO=t,uO}var ev={exports:{}};ev.exports;var pU;function qLe(){return pU||(pU=1,function(t,e){var n=Hte(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(ev,ev.exports)),ev.exports}var fO,mU;function Tne(){if(mU)return fO;mU=1;var t=zLe(),e=Sne(),n=qLe(),r=n&&n.isTypedArray,i=r?e(r):t;return fO=i,fO}var dO,gU;function WLe(){if(gU)return dO;gU=1;var t=VLe(),e=P4(),n=Ra(),r=Ene(),i=R4(),a=Tne(),s=Object.prototype,o=s.hasOwnProperty;function l(u,d){var h=n(u),g=!h&&e(u),y=!h&&!g&&r(u),_=!h&&!g&&!y&&a(u),v=h||g||y||_,b=v?t(u.length,String):[],E=b.length;for(var N in u)(d||o.call(u,N))&&!(v&&(N=="length"||y&&(N=="offset"||N=="parent")||_&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,E)))&&b.push(N);return b}return dO=l,dO}var hO,vU;function GLe(){if(vU)return hO;vU=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return hO=e,hO}var pO,yU;function Ane(){if(yU)return pO;yU=1;function t(e,n){return function(r){return e(n(r))}}return pO=t,pO}var mO,xU;function KLe(){if(xU)return mO;xU=1;var t=Ane(),e=t(Object.keys,Object);return mO=e,mO}var gO,bU;function YLe(){if(bU)return gO;bU=1;var t=GLe(),e=KLe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))r.call(a,o)&&o!="constructor"&&s.push(o);return s}return gO=i,gO}var vO,_U;function Cx(){if(_U)return vO;_U=1;var t=v4(),e=I4();function n(r){return r!=null&&e(r.length)&&!t(r)}return vO=n,vO}var yO,wU;function WS(){if(wU)return yO;wU=1;var t=WLe(),e=YLe(),n=Cx();function r(i){return n(i)?t(i):e(i)}return yO=r,yO}var xO,EU;function XLe(){if(EU)return xO;EU=1;var t=LLe(),e=$Le(),n=WS();function r(i){return t(i,n,e)}return xO=r,xO}var bO,SU;function QLe(){if(SU)return bO;SU=1;var t=XLe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o,l,u,d){var h=o&e,g=t(a),y=g.length,_=t(s),v=_.length;if(y!=v&&!h)return!1;for(var b=y;b--;){var E=g[b];if(!(h?E in s:r.call(s,E)))return!1}var N=d.get(a),C=d.get(s);if(N&&C)return N==s&&C==a;var k=!0;d.set(a,s),d.set(s,a);for(var O=h;++b<y;){E=g[b];var I=a[E],A=s[E];if(l)var R=h?l(A,I,E,s,a,d):l(I,A,E,a,s,d);if(!(R===void 0?I===A||u(I,A,o,l,d):R)){k=!1;break}O||(O=E=="constructor")}if(k&&!O){var D=a.constructor,L=s.constructor;D!=L&&"constructor"in a&&"constructor"in s&&!(typeof D=="function"&&D instanceof D&&typeof L=="function"&&L instanceof L)&&(k=!1)}return d.delete(a),d.delete(s),k}return bO=i,bO}var _O,TU;function ZLe(){if(TU)return _O;TU=1;var t=lh(),e=al(),n=t(e,"DataView");return _O=n,_O}var wO,AU;function JLe(){if(AU)return wO;AU=1;var t=lh(),e=al(),n=t(e,"Promise");return wO=n,wO}var EO,CU;function Cne(){if(CU)return EO;CU=1;var t=lh(),e=al(),n=t(e,"Set");return EO=n,EO}var SO,NU;function e3e(){if(NU)return SO;NU=1;var t=lh(),e=al(),n=t(e,"WeakMap");return SO=n,SO}var TO,OU;function t3e(){if(OU)return TO;OU=1;var t=ZLe(),e=x4(),n=JLe(),r=Cne(),i=e3e(),a=bc(),s=zte(),o="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",g="[object DataView]",y=s(t),_=s(e),v=s(n),b=s(r),E=s(i),N=a;return(t&&N(new t(new ArrayBuffer(1)))!=g||e&&N(new e)!=o||n&&N(n.resolve())!=u||r&&N(new r)!=d||i&&N(new i)!=h)&&(N=function(C){var k=a(C),O=k==l?C.constructor:void 0,I=O?s(O):"";if(I)switch(I){case y:return g;case _:return o;case v:return u;case b:return d;case E:return h}return k}),TO=N,TO}var AO,PU;function n3e(){if(PU)return AO;PU=1;var t=vne(),e=_ne(),n=MLe(),r=QLe(),i=t3e(),a=Ra(),s=Ene(),o=Tne(),l=1,u="[object Arguments]",d="[object Array]",h="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function _(v,b,E,N,C,k){var O=a(v),I=a(b),A=O?d:i(v),R=I?d:i(b);A=A==u?h:A,R=R==u?h:R;var D=A==h,L=R==h,j=A==R;if(j&&s(v)){if(!s(b))return!1;O=!0,D=!1}if(j&&!D)return k||(k=new t),O||o(v)?e(v,b,E,N,C,k):n(v,b,A,E,N,C,k);if(!(E&l)){var B=D&&y.call(v,"__wrapped__"),F=L&&y.call(b,"__wrapped__");if(B||F){var re=B?v.value():v,q=F?b.value():b;return k||(k=new t),C(re,q,E,N,k)}}return j?(k||(k=new t),r(v,b,E,N,C,k)):!1}return AO=_,AO}var CO,RU;function D4(){if(RU)return CO;RU=1;var t=n3e(),e=_c();function n(r,i,a,s,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,o)}return CO=n,CO}var NO,IU;function r3e(){if(IU)return NO;IU=1;var t=vne(),e=D4(),n=1,r=2;function i(a,s,o,l){var u=o.length,d=u,h=!l;if(a==null)return!d;for(a=Object(a);u--;){var g=o[u];if(h&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++u<d;){g=o[u];var y=g[0],_=a[y],v=g[1];if(h&&g[2]){if(_===void 0&&!(y in a))return!1}else{var b=new t;if(l)var E=l(_,v,y,a,s,b);if(!(E===void 0?e(v,_,n|r,l,b):E))return!1}}return!0}return NO=i,NO}var OO,DU;function Nne(){if(DU)return OO;DU=1;var t=pf();function e(n){return n===n&&!t(n)}return OO=e,OO}var PO,kU;function i3e(){if(kU)return PO;kU=1;var t=Nne(),e=WS();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],o=r[s];i[a]=[s,o,t(o)]}return i}return PO=n,PO}var RO,jU;function One(){if(jU)return RO;jU=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return RO=t,RO}var IO,MU;function a3e(){if(MU)return IO;MU=1;var t=r3e(),e=i3e(),n=One();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return IO=r,IO}var DO,LU;function s3e(){if(LU)return DO;LU=1;function t(e,n){return e!=null&&n in Object(e)}return DO=t,DO}var kO,FU;function o3e(){if(FU)return kO;FU=1;var t=Gte(),e=P4(),n=Ra(),r=R4(),i=I4(),a=$S();function s(o,l,u){l=t(l,o);for(var d=-1,h=l.length,g=!1;++d<h;){var y=a(l[d]);if(!(g=o!=null&&u(o,y)))break;o=o[y]}return g||++d!=h?g:(h=o==null?0:o.length,!!h&&i(h)&&r(y,h)&&(n(o)||e(o)))}return kO=s,kO}var jO,BU;function l3e(){if(BU)return jO;BU=1;var t=s3e(),e=o3e();function n(r,i){return r!=null&&e(r,i,t)}return jO=n,jO}var MO,$U;function c3e(){if($U)return MO;$U=1;var t=D4(),e=Kte(),n=l3e(),r=g4(),i=Nne(),a=One(),s=$S(),o=1,l=2;function u(d,h){return r(d)&&i(h)?a(s(d),h):function(g){var y=e(g,d);return y===void 0&&y===h?n(g,d):t(h,y,o|l)}}return MO=u,MO}var LO,VU;function _0(){if(VU)return LO;VU=1;function t(e){return e}return LO=t,LO}var FO,UU;function u3e(){if(UU)return FO;UU=1;function t(e){return function(n){return n==null?void 0:n[e]}}return FO=t,FO}var BO,HU;function f3e(){if(HU)return BO;HU=1;var t=w4();function e(n){return function(r){return t(r,n)}}return BO=e,BO}var $O,zU;function d3e(){if(zU)return $O;zU=1;var t=u3e(),e=f3e(),n=g4(),r=$S();function i(a){return n(a)?t(r(a)):e(a)}return $O=i,$O}var VO,qU;function sl(){if(qU)return VO;qU=1;var t=a3e(),e=c3e(),n=_0(),r=Ra(),i=d3e();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return VO=a,VO}var UO,WU;function Pne(){if(WU)return UO;WU=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return UO=t,UO}var HO,GU;function h3e(){if(GU)return HO;GU=1;function t(e){return e!==e}return HO=t,HO}var zO,KU;function p3e(){if(KU)return zO;KU=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return zO=t,zO}var qO,YU;function m3e(){if(YU)return qO;YU=1;var t=Pne(),e=h3e(),n=p3e();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return qO=r,qO}var WO,XU;function g3e(){if(XU)return WO;XU=1;var t=m3e();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return WO=e,WO}var GO,QU;function v3e(){if(QU)return GO;QU=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return GO=t,GO}var KO,ZU;function y3e(){if(ZU)return KO;ZU=1;function t(){}return KO=t,KO}var YO,JU;function x3e(){if(JU)return YO;JU=1;var t=Cne(),e=y3e(),n=O4(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return YO=i,YO}var XO,e7;function b3e(){if(e7)return XO;e7=1;var t=yne(),e=g3e(),n=v3e(),r=bne(),i=x3e(),a=O4(),s=200;function o(l,u,d){var h=-1,g=e,y=l.length,_=!0,v=[],b=v;if(d)_=!1,g=n;else if(y>=s){var E=u?null:i(l);if(E)return a(E);_=!1,g=r,b=new t}else b=u?[]:v;e:for(;++h<y;){var N=l[h],C=u?u(N):N;if(N=d||N!==0?N:0,_&&C===C){for(var k=b.length;k--;)if(b[k]===C)continue e;u&&b.push(C),v.push(N)}else g(b,C,d)||(b!==v&&b.push(C),v.push(N))}return v}return XO=o,XO}var QO,t7;function _3e(){if(t7)return QO;t7=1;var t=sl(),e=b3e();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return QO=n,QO}var w3e=_3e();const n7=Rn(w3e);function Rne(t,e,n){return e===!0?n7(t,n):xt(e)?n7(t,e):t}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}var E3e=["ref"];function r7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(n),!0).forEach(function(r){GS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dne(r.key),r)}}function T3e(t,e,n){return e&&i7(t.prototype,e),n&&i7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A3e(t,e,n){return e=Pw(e),C3e(t,Ine()?Reflect.construct(e,n||[],Pw(t).constructor):e.apply(t,n))}function C3e(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N3e(t)}function N3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ine(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ine=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(t)}function O3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tD(t,e)}function tD(t,e){return tD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tD(t,e)}function GS(t,e,n){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=P3e(t,"string");return vm(e)=="symbol"?e:e+""}function P3e(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function R3e(t,e){if(t==null)return{};var n=I3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D3e(t){return t.value}function k3e(t,e){if(ae.isValidElement(t))return ae.cloneElement(t,e);if(typeof t=="function")return ae.createElement(t,e);e.ref;var n=R3e(e,E3e);return ae.createElement(N4,n)}var a7=1,Hp=function(t){function e(){var n;S3e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=A3e(this,e,[].concat(i)),GS(n,"lastBoundingBox",{width:-1,height:-1}),n}return O3e(e,t),T3e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>a7||Math.abs(i.height-this.lastBoundingBox.height)>a7)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,h,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();h={left:((u||0)-y.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var _=this.getBBoxSnapshot();g={top:((d||0)-_.height)/2}}else g=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Rl(Rl({},h),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=Rl(Rl({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ae.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(y){r.wrapperNode=y}},k3e(a,Rl(Rl({},this.props),{},{payload:Rne(d,u,D3e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Rl(Rl({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&We(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(T.PureComponent);GS(Hp,"displayName","Legend");GS(Hp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZO,s7;function j3e(){if(s7)return ZO;s7=1;var t=Tx(),e=P4(),n=Ra(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return ZO=i,ZO}var JO,o7;function kne(){if(o7)return JO;o7=1;var t=wne(),e=j3e();function n(r,i,a,s,o){var l=-1,u=r.length;for(a||(a=e),o||(o=[]);++l<u;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,s,o):t(o,d):s||(o[o.length]=d)}return o}return JO=n,JO}var eP,l7;function M3e(){if(l7)return eP;l7=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),o=i(n),l=o.length;l--;){var u=o[e?l:++a];if(r(s[u],u,s)===!1)break}return n}}return eP=t,eP}var tP,c7;function L3e(){if(c7)return tP;c7=1;var t=M3e(),e=t();return tP=e,tP}var nP,u7;function jne(){if(u7)return nP;u7=1;var t=L3e(),e=WS();function n(r,i){return r&&t(r,i,e)}return nP=n,nP}var rP,f7;function F3e(){if(f7)return rP;f7=1;var t=Cx();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,o=r?s:-1,l=Object(i);(r?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return rP=e,rP}var iP,d7;function k4(){if(d7)return iP;d7=1;var t=jne(),e=F3e(),n=e(t);return iP=n,iP}var aP,h7;function Mne(){if(h7)return aP;h7=1;var t=k4(),e=Cx();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(o,l,u){s[++a]=i(o,l,u)}),s}return aP=n,aP}var sP,p7;function B3e(){if(p7)return sP;p7=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return sP=t,sP}var oP,m7;function $3e(){if(m7)return oP;m7=1;var t=y0();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,o=t(n),l=r!==void 0,u=r===null,d=r===r,h=t(r);if(!u&&!h&&!o&&n>r||o&&l&&d&&!u&&!h||a&&l&&d||!i&&d||!s)return 1;if(!a&&!o&&!h&&n<r||h&&i&&s&&!a&&!o||u&&i&&s||!l&&s||!d)return-1}return 0}return oP=e,oP}var lP,g7;function V3e(){if(g7)return lP;g7=1;var t=$3e();function e(n,r,i){for(var a=-1,s=n.criteria,o=r.criteria,l=s.length,u=i.length;++a<l;){var d=t(s[a],o[a]);if(d){if(a>=u)return d;var h=i[a];return d*(h=="desc"?-1:1)}}return n.index-r.index}return lP=e,lP}var cP,v7;function U3e(){if(v7)return cP;v7=1;var t=_4(),e=w4(),n=sl(),r=Mne(),i=B3e(),a=Sne(),s=V3e(),o=_0(),l=Ra();function u(d,h,g){h.length?h=t(h,function(v){return l(v)?function(b){return e(b,v.length===1?v[0]:v)}:v}):h=[o];var y=-1;h=t(h,a(n));var _=r(d,function(v,b,E){var N=t(h,function(C){return C(v)});return{criteria:N,index:++y,value:v}});return i(_,function(v,b){return s(v,b,g)})}return cP=u,cP}var uP,y7;function H3e(){if(y7)return uP;y7=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return uP=t,uP}var fP,x7;function z3e(){if(x7)return fP;x7=1;var t=H3e(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=s[o];return d[i]=a(u),t(r,this,d)}}return fP=n,fP}var dP,b7;function q3e(){if(b7)return dP;b7=1;function t(e){return function(){return e}}return dP=t,dP}var hP,_7;function Lne(){if(_7)return hP;_7=1;var t=lh(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return hP=e,hP}var pP,w7;function W3e(){if(w7)return pP;w7=1;var t=q3e(),e=Lne(),n=_0(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return pP=r,pP}var mP,E7;function G3e(){if(E7)return mP;E7=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return mP=r,mP}var gP,S7;function K3e(){if(S7)return gP;S7=1;var t=W3e(),e=G3e(),n=e(t);return gP=n,gP}var vP,T7;function Y3e(){if(T7)return vP;T7=1;var t=_0(),e=z3e(),n=K3e();function r(i,a){return n(e(i,a,t),i+"")}return vP=r,vP}var yP,A7;function KS(){if(A7)return yP;A7=1;var t=y4(),e=Cx(),n=R4(),r=pf();function i(a,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return yP=i,yP}var xP,C7;function X3e(){if(C7)return xP;C7=1;var t=kne(),e=U3e(),n=Y3e(),r=KS(),i=n(function(a,s){if(a==null)return[];var o=s.length;return o>1&&r(a,s[0],s[1])?s=[]:o>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return xP=i,xP}var Q3e=X3e();const j4=Rn(Q3e);function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nD.apply(this,arguments)}function Z3e(t,e){return nFe(t)||tFe(t,e)||eFe(t,e)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eFe(t,e){if(t){if(typeof t=="string")return N7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N7(t,e)}}function N7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function nFe(t){if(Array.isArray(t))return t}function O7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O7(Object(n),!0).forEach(function(r){rFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rFe(t,e,n){return e=iFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iFe(t){var e=aFe(t,"string");return fy(e)=="symbol"?e:e+""}function aFe(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sFe(t){return Array.isArray(t)&&ii(t[0])&&ii(t[1])?t.join(" ~ "):t}var oFe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,h=e.formatter,g=e.itemSorter,y=e.wrapperClassName,_=e.labelClassName,v=e.label,b=e.labelFormatter,E=e.accessibilityLayer,N=E===void 0?!1:E,C=function(){if(d&&d.length){var B={padding:0,margin:0},F=(g?j4(d,g):d).map(function(re,q){if(re.type==="none")return null;var V=bP({display:"block",paddingTop:4,paddingBottom:4,color:re.color||"#000"},o),X=re.formatter||h||sFe,Q=re.value,ie=re.name,W=Q,ce=ie;if(X&&W!=null&&ce!=null){var z=X(Q,ie,re,q,d);if(Array.isArray(z)){var Y=Z3e(z,2);W=Y[0],ce=Y[1]}else W=z}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:V},ii(ce)?ae.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,ii(ce)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},W),ae.createElement("span",{className:"recharts-tooltip-item-unit"},re.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:B},F)}return null},k=bP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=bP({margin:0},u),I=!bt(v),A=I?v:"",R=Pt("recharts-default-tooltip",y),D=Pt("recharts-tooltip-label",_);I&&b&&d!==void 0&&d!==null&&(A=b(v,d));var L=N?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",nD({className:R,style:k},L),ae.createElement("p",{className:D,style:O},ae.isValidElement(A)?A:"".concat(A)),C())};function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function D_(t,e,n){return e=lFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lFe(t){var e=cFe(t,"string");return dy(e)=="symbol"?e:e+""}function cFe(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mg="recharts-tooltip-wrapper",uFe={visibility:"hidden"};function fFe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Pt(Mg,D_(D_(D_(D_({},"".concat(Mg,"-right"),We(n)&&e&&We(e.x)&&n>=e.x),"".concat(Mg,"-left"),We(n)&&e&&We(e.x)&&n<e.x),"".concat(Mg,"-bottom"),We(r)&&e&&We(e.y)&&r>=e.y),"".concat(Mg,"-top"),We(r)&&e&&We(e.y)&&r<e.y))}function P7(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&We(a[r]))return a[r];var d=n[r]-o-i,h=n[r]+i;if(e[r])return s[r]?d:h;if(s[r]){var g=d,y=l[r];return g<y?Math.max(h,l[r]):Math.max(d,l[r])}var _=h+o,v=l[r]+u;return _>v?Math.max(d,l[r]):Math.max(h,l[r])}function dFe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hFe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,h;return s.height>0&&s.width>0&&n?(d=P7({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=P7({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=dFe({translateX:d,translateY:h,useTranslate3d:o})):u=uFe,{cssProperties:u,cssClasses:fFe({translateX:d,translateY:h,coordinate:n})}}function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function R7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(n),!0).forEach(function(r){iD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bne(r.key),r)}}function gFe(t,e,n){return e&&mFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vFe(t,e,n){return e=Rw(e),yFe(t,Fne()?Reflect.construct(e,n||[],Rw(t).constructor):e.apply(t,n))}function yFe(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xFe(t)}function xFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fne=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rw(t)}function bFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rD(t,e)}function rD(t,e){return rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rD(t,e)}function iD(t,e,n){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t){var e=_Fe(t,"string");return ym(e)=="symbol"?e:e+""}function _Fe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D7=1,wFe=function(t){function e(){var n;pFe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vFe(this,e,[].concat(i)),iD(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iD(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return bFe(e,t),gFe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>D7||Math.abs(r.height-this.state.lastBoundingBox.height)>D7)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,y=i.offset,_=i.position,v=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,N=i.wrapperStyle,C=hFe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:y,position:_,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),k=C.cssClasses,O=C.cssProperties,I=I7(I7({transition:g&&a?"transform ".concat(o,"ms ").concat(l):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},N);return ae.createElement("div",{tabIndex:-1,className:k,style:I,ref:function(R){r.wrapperNode=R}},u)}}])}(T.PureComponent),EFe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wc={isSsr:EFe()};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function k7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k7(Object(n),!0).forEach(function(r){M4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vne(r.key),r)}}function AFe(t,e,n){return e&&TFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CFe(t,e,n){return e=Iw(e),NFe(t,$ne()?Reflect.construct(e,n||[],Iw(t).constructor):e.apply(t,n))}function NFe(t,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OFe(t)}function OFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ne=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iw(t)}function PFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aD(t,e)}function aD(t,e){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aD(t,e)}function M4(t,e,n){return e=Vne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vne(t){var e=RFe(t,"string");return xm(e)=="symbol"?e:e+""}function RFe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IFe(t){return t.dataKey}function DFe(t,e){return ae.isValidElement(t)?ae.cloneElement(t,e):typeof t=="function"?ae.createElement(t,e):ae.createElement(oFe,e)}var Cs=function(t){function e(){return SFe(this,e),CFe(this,e,arguments)}return PFe(e,t),AFe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,g=i.isAnimationActive,y=i.offset,_=i.payload,v=i.payloadUniqBy,b=i.position,E=i.reverseDirection,N=i.useTranslate3d,C=i.viewBox,k=i.wrapperStyle,O=_??[];h&&O.length&&(O=Rne(_.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),v,IFe));var I=O.length>0;return ae.createElement(wFe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:g,active:a,coordinate:d,hasPayload:I,offset:y,position:b,reverseDirection:E,useTranslate3d:N,viewBox:C,wrapperStyle:k},DFe(u,j7(j7({},this.props),{},{payload:O})))}}])}(T.PureComponent);M4(Cs,"displayName","Tooltip");M4(Cs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _P,M7;function kFe(){if(M7)return _P;M7=1;var t=al(),e=function(){return t.Date.now()};return _P=e,_P}var wP,L7;function jFe(){if(L7)return wP;L7=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return wP=e,wP}var EP,F7;function MFe(){if(F7)return EP;F7=1;var t=jFe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return EP=n,EP}var SP,B7;function Une(){if(B7)return SP;B7=1;var t=MFe(),e=pf(),n=y0(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=a.test(u);return h||s.test(u)?o(u.slice(2),h?2:8):i.test(u)?r:+u}return SP=l,SP}var TP,$7;function LFe(){if($7)return TP;$7=1;var t=pf(),e=kFe(),n=Une(),r="Expected a function",i=Math.max,a=Math.min;function s(o,l,u){var d,h,g,y,_,v,b=0,E=!1,N=!1,C=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(u)&&(E=!!u.leading,N="maxWait"in u,g=N?i(n(u.maxWait)||0,l):g,C="trailing"in u?!!u.trailing:C);function k(F){var re=d,q=h;return d=h=void 0,b=F,y=o.apply(q,re),y}function O(F){return b=F,_=setTimeout(R,l),E?k(F):y}function I(F){var re=F-v,q=F-b,V=l-re;return N?a(V,g-q):V}function A(F){var re=F-v,q=F-b;return v===void 0||re>=l||re<0||N&&q>=g}function R(){var F=e();if(A(F))return D(F);_=setTimeout(R,I(F))}function D(F){return _=void 0,C&&d?k(F):(d=h=void 0,y)}function L(){_!==void 0&&clearTimeout(_),b=0,d=v=h=_=void 0}function j(){return _===void 0?y:D(e())}function B(){var F=e(),re=A(F);if(d=arguments,h=this,v=F,re){if(_===void 0)return O(v);if(N)return clearTimeout(_),_=setTimeout(R,l),k(v)}return _===void 0&&(_=setTimeout(R,l)),y}return B.cancel=L,B.flush=j,B}return TP=s,TP}var AP,V7;function FFe(){if(V7)return AP;V7=1;var t=LFe(),e=pf(),n="Expected a function";function r(i,a,s){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(o="leading"in s?!!s.leading:o,l="trailing"in s?!!s.trailing:l),t(i,a,{leading:o,maxWait:a,trailing:l})}return AP=r,AP}var BFe=FFe();const Hne=Rn(BFe);function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function U7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(n),!0).forEach(function(r){$Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Fe(t,e,n){return e=VFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VFe(t){var e=UFe(t,"string");return hy(e)=="symbol"?e:e+""}function UFe(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HFe(t,e){return GFe(t)||WFe(t,e)||qFe(t,e)||zFe()}function zFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qFe(t,e){if(t){if(typeof t=="string")return H7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H7(t,e)}}function H7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function GFe(t){if(Array.isArray(t))return t}var L4=T.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,g=t.maxHeight,y=t.children,_=t.debounce,v=_===void 0?0:_,b=t.id,E=t.className,N=t.onResize,C=t.style,k=C===void 0?{}:C,O=T.useRef(null),I=T.useRef();I.current=N,T.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var A=T.useState({containerWidth:i.width,containerHeight:i.height}),R=HFe(A,2),D=R[0],L=R[1],j=T.useCallback(function(F,re){L(function(q){var V=Math.round(F),X=Math.round(re);return q.containerWidth===V&&q.containerHeight===X?q:{containerWidth:V,containerHeight:X}})},[]);T.useEffect(function(){var F=function(ie){var W,ce=ie[0].contentRect,z=ce.width,Y=ce.height;j(z,Y),(W=I.current)===null||W===void 0||W.call(I,z,Y)};v>0&&(F=Hne(F,v,{trailing:!0,leading:!1}));var re=new ResizeObserver(F),q=O.current.getBoundingClientRect(),V=q.width,X=q.height;return j(V,X),re.observe(O.current),function(){re.disconnect()}},[j,v]);var B=T.useMemo(function(){var F=D.containerWidth,re=D.containerHeight;if(F<0||re<0)return null;so(cd(s)||cd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),so(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=cd(s)?F:s,V=cd(l)?re:l;n&&n>0&&(q?V=q/n:V&&(q=V*n),g&&V>g&&(V=g)),so(q>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,V,s,l,d,h,n);var X=!Array.isArray(y)&&Yl(y.type).endsWith("Chart");return ae.Children.map(y,function(Q){return ae.isValidElement(Q)?T.cloneElement(Q,k_({width:q,height:V},X?{style:k_({height:"100%",width:"100%",maxHeight:V,maxWidth:q},Q.props.style)}:{})):Q})},[n,y,l,g,h,d,D,s]);return ae.createElement("div",{id:b?"".concat(b):void 0,className:Pt("recharts-responsive-container",E),style:k_(k_({},k),{},{width:s,height:l,minWidth:d,minHeight:h,maxHeight:g}),ref:O},B)}),Nx=function(e){return null};Nx.displayName="Cell";function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function z7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(n),!0).forEach(function(r){KFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KFe(t,e,n){return e=YFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YFe(t){var e=XFe(t,"string");return py(e)=="symbol"?e:e+""}function XFe(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lp={widthCache:{},cacheCount:0},QFe=2e3,ZFe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q7="recharts_measurement_span";function JFe(t){var e=sD({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var yv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wc.isSsr)return{width:0,height:0};var r=JFe(n),i=JSON.stringify({text:e,copyStyle:r});if(lp.widthCache[i])return lp.widthCache[i];try{var a=document.getElementById(q7);a||(a=document.createElement("span"),a.setAttribute("id",q7),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=sD(sD({},ZFe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return lp.widthCache[i]=l,++lp.cacheCount>QFe&&(lp.cacheCount=0,lp.widthCache={}),l}catch{return{width:0,height:0}}},e5e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function Dw(t,e){return i5e(t)||r5e(t,e)||n5e(t,e)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n5e(t,e){if(t){if(typeof t=="string")return W7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W7(t,e)}}function W7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function i5e(t){if(Array.isArray(t))return t}function a5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o5e(r.key),r)}}function s5e(t,e,n){return e&&G7(t.prototype,e),n&&G7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o5e(t){var e=l5e(t,"string");return my(e)=="symbol"?e:e+""}function l5e(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,u5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},f5e=Object.keys(zne),wp="NaN";function d5e(t,e){return t*zne[e]}var j_=function(){function t(e,n){a5e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!c5e.test(n)&&(this.num=NaN,this.unit=""),f5e.includes(n)&&(this.num=d5e(e,n),this.unit="px")}return s5e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=u5e.exec(n))!==null&&r!==void 0?r:[],a=Dw(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function qne(t){if(t.includes(wp))return wp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=K7.exec(e))!==null&&n!==void 0?n:[],i=Dw(r,4),a=i[1],s=i[2],o=i[3],l=j_.parse(a??""),u=j_.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return wp;e=e.replace(K7,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,g=(h=Y7.exec(e))!==null&&h!==void 0?h:[],y=Dw(g,4),_=y[1],v=y[2],b=y[3],E=j_.parse(_??""),N=j_.parse(b??""),C=v==="+"?E.add(N):E.subtract(N);if(C.isNaN())return wp;e=e.replace(Y7,C.toString())}return e}var X7=/\(([^()]*)\)/;function h5e(t){for(var e=t;e.includes("(");){var n=X7.exec(e),r=Dw(n,2),i=r[1];e=e.replace(X7,qne(i))}return e}function p5e(t){var e=t.replace(/\s+/g,"");return e=h5e(e),e=qne(e),e}function m5e(t){try{return p5e(t)}catch{return wp}}function CP(t){var e=m5e(t.slice(5,-1));return e===wp?"":e}var g5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],v5e=["dx","dy","angle","className","breakAll"];function oD(){return oD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oD.apply(this,arguments)}function Q7(t,e){if(t==null)return{};var n=y5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z7(t,e){return w5e(t)||_5e(t,e)||b5e(t,e)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b5e(t,e){if(t){if(typeof t=="string")return J7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J7(t,e)}}function J7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function w5e(t){if(Array.isArray(t))return t}var Wne=/[ \f\n\r\t\v\u2028\u2029]+/,Gne=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];bt(n)||(r?a=n.toString().split(""):a=n.toString().split(Wne));var s=a.map(function(l){return{word:l,width:yv(l,i).width}}),o=r?0:yv("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},E5e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=We(s),h=o,g=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(V,X){var Q=X.word,ie=X.width,W=V[V.length-1];if(W&&(i==null||a||W.width+ie+r<Number(i)))W.words.push(Q),W.width+=ie+r;else{var ce={words:[Q],width:ie};V.push(ce)}return V},[])},y=g(n),_=function(q){return q.reduce(function(V,X){return V.width>X.width?V:X})};if(!d)return y;for(var v="",b=function(q){var V=h.slice(0,q),X=Gne({breakAll:u,style:l,children:V+v}).wordsWithComputedWidth,Q=g(X),ie=Q.length>s||_(Q).width>Number(i);return[ie,Q]},E=0,N=h.length-1,C=0,k;E<=N&&C<=h.length-1;){var O=Math.floor((E+N)/2),I=O-1,A=b(I),R=Z7(A,2),D=R[0],L=R[1],j=b(O),B=Z7(j,1),F=B[0];if(!D&&!F&&(E=O+1),D&&F&&(N=O-1),!D&&F){k=L;break}C++}return k||y},eH=function(e){var n=bt(e)?[]:e.toString().split(Wne);return[{words:n}]},S5e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!wc.isSsr){var l,u,d=Gne({breakAll:s,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,g=d.spaceWidth;l=h,u=g}else return eH(i);return E5e({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return eH(i)},tH="#808080",jd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,g=e.textAnchor,y=g===void 0?"start":g,_=e.verticalAnchor,v=_===void 0?"end":_,b=e.fill,E=b===void 0?tH:b,N=Q7(e,g5e),C=T.useMemo(function(){return S5e({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:h,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,h,N.style,N.width]),k=N.dx,O=N.dy,I=N.angle,A=N.className,R=N.breakAll,D=Q7(N,v5e);if(!ii(r)||!ii(a))return null;var L=r+(We(k)?k:0),j=a+(We(O)?O:0),B;switch(v){case"start":B=CP("calc(".concat(u,")"));break;case"middle":B=CP("calc(".concat((C.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:B=CP("calc(".concat(C.length-1," * -").concat(o,")"));break}var F=[];if(h){var re=C[0].width,q=N.width;F.push("scale(".concat((We(q)?q/re:1)/re,")"))}return I&&F.push("rotate(".concat(I,", ").concat(L,", ").concat(j,")")),F.length&&(D.transform=F.join(" ")),ae.createElement("text",oD({},ft(D,!0),{x:L,y:j,className:Pt("recharts-text",A),textAnchor:y,fill:E.includes("url")?tH:E}),C.map(function(V,X){var Q=V.words.join(R?"":" ");return ae.createElement("tspan",{x:L,dy:X===0?B:o,key:"".concat(Q,"-").concat(X)},Q)}))};function Iu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function F4(t){let e,n,r;t.length!==2?(e=Iu,n=(o,l)=>Iu(t(o),l),r=(o,l)=>t(o)-l):(e=t===Iu||t===T5e?t:A5e,n=t,r=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function A5e(){return 0}function Kne(t){return t===null?NaN:+t}function*C5e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const N5e=F4(Iu),Ox=N5e.right;F4(Kne).center;class nH extends Map{constructor(e,n=R5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rH(this,e))}has(e){return super.has(rH(this,e))}set(e,n){return super.set(O5e(this,e),n)}delete(e){return super.delete(P5e(this,e))}}function rH({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function O5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function P5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function R5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function I5e(t=Iu){if(t===Iu)return Yne;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Yne(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const D5e=Math.sqrt(50),k5e=Math.sqrt(10),j5e=Math.sqrt(2);function kw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=D5e?10:a>=k5e?5:a>=j5e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?kw(t,e,n*2):[o,l,u]}function lD(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?kw(e,t,n):kw(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function cD(t,e,n){return e=+e,t=+t,n=+n,kw(t,e,n)[2]}function uD(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?cD(e,t,n):cD(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function iH(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aH(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Xne(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Yne:I5e(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*h/l+g)),_=Math.min(r,Math.floor(e+(l-u)*h/l+g));Xne(t,e,y,_,i)}const a=t[e];let s=n,o=r;for(Lg(t,n,e),i(t[r],a)>0&&Lg(t,n,r);s<o;){for(Lg(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Lg(t,n,o):(++o,Lg(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Lg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function M5e(t,e,n){if(t=Float64Array.from(C5e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return aH(t);if(e>=1)return iH(t);var r,i=(r-1)*e,a=Math.floor(i),s=iH(Xne(t,a).subarray(0,a+1)),o=aH(t.subarray(a+1));return s+(o-s)*(i-a)}}function L5e(t,e,n=Kne){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function F5e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ms(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ec(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fD=Symbol("implicit");function B4(){var t=new nH,e=[],n=[],r=fD;function i(a){let s=t.get(a);if(s===void 0){if(r!==fD)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new nH;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return B4(e,n).unknown(r)},Ms.apply(i,arguments),i}function gy(){var t=B4().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var g=e().length,y=i<r,_=y?i:r,v=y?r:i;a=(v-_)/Math.max(1,g-l+u*2),o&&(a=Math.floor(a)),_+=(v-_-a*(g-l))*d,s=a*(1-l),o&&(_=Math.round(_),s=Math.round(s));var b=F5e(g).map(function(E){return _+a*E});return n(y?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(o=!!g,h()):o},t.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},t.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},t.copy=function(){return gy(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Ms.apply(h(),arguments)}function Qne(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Qne(e())},t}function xv(){return Qne(gy.apply(null,arguments).paddingInner(1))}function $4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Px(){}var vy=.7,jw=1/vy,zp="\\s*([+-]?\\d+)\\s*",yy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B5e=/^#([0-9a-f]{3,8})$/,$5e=new RegExp(`^rgb\\(${zp},${zp},${zp}\\)$`),V5e=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),U5e=new RegExp(`^rgba\\(${zp},${zp},${zp},${yy}\\)$`),H5e=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${yy}\\)$`),z5e=new RegExp(`^hsl\\(${yy},${Yo},${Yo}\\)$`),q5e=new RegExp(`^hsla\\(${yy},${Yo},${Yo},${yy}\\)$`),sH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$4(Px,xy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oH,formatHex:oH,formatHex8:W5e,formatHsl:G5e,formatRgb:lH,toString:lH});function oH(){return this.rgb().formatHex()}function W5e(){return this.rgb().formatHex8()}function G5e(){return Jne(this).formatHsl()}function lH(){return this.rgb().formatRgb()}function xy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=B5e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cH(e):n===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?M_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?M_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$5e.exec(t))?new Sa(e[1],e[2],e[3],1):(e=V5e.exec(t))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U5e.exec(t))?M_(e[1],e[2],e[3],e[4]):(e=H5e.exec(t))?M_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=z5e.exec(t))?dH(e[1],e[2]/100,e[3]/100,1):(e=q5e.exec(t))?dH(e[1],e[2]/100,e[3]/100,e[4]):sH.hasOwnProperty(t)?cH(sH[t]):t==="transparent"?new Sa(NaN,NaN,NaN,0):null}function cH(t){return new Sa(t>>16&255,t>>8&255,t&255,1)}function M_(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sa(t,e,n,r)}function K5e(t){return t instanceof Px||(t=xy(t)),t?(t=t.rgb(),new Sa(t.r,t.g,t.b,t.opacity)):new Sa}function dD(t,e,n,r){return arguments.length===1?K5e(t):new Sa(t,e,n,r??1)}function Sa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$4(Sa,dD,Zne(Px,{brighter(t){return t=t==null?jw:Math.pow(jw,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sa(md(this.r),md(this.g),md(this.b),Mw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uH,formatHex:uH,formatHex8:Y5e,formatRgb:fH,toString:fH}));function uH(){return`#${ud(this.r)}${ud(this.g)}${ud(this.b)}`}function Y5e(){return`#${ud(this.r)}${ud(this.g)}${ud(this.b)}${ud((isNaN(this.opacity)?1:this.opacity)*255)}`}function fH(){const t=Mw(this.opacity);return`${t===1?"rgb(":"rgba("}${md(this.r)}, ${md(this.g)}, ${md(this.b)}${t===1?")":`, ${t})`}`}function Mw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function md(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ud(t){return t=md(t),(t<16?"0":"")+t.toString(16)}function dH(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zs(t,e,n,r)}function Jne(t){if(t instanceof Zs)return new Zs(t.h,t.s,t.l,t.opacity);if(t instanceof Px||(t=xy(t)),!t)return new Zs;if(t instanceof Zs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Zs(s,o,l,t.opacity)}function X5e(t,e,n,r){return arguments.length===1?Jne(t):new Zs(t,e,n,r??1)}function Zs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$4(Zs,X5e,Zne(Px,{brighter(t){return t=t==null?jw:Math.pow(jw,t),new Zs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new Zs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sa(NP(t>=240?t-240:t+120,i,r),NP(t,i,r),NP(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zs(hH(this.h),L_(this.s),L_(this.l),Mw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mw(this.opacity);return`${t===1?"hsl(":"hsla("}${hH(this.h)}, ${L_(this.s)*100}%, ${L_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hH(t){return t=(t||0)%360,t<0?t+360:t}function L_(t){return Math.max(0,Math.min(1,t||0))}function NP(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const V4=t=>()=>t;function Q5e(t,e){return function(n){return t+n*e}}function Z5e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function J5e(t){return(t=+t)==1?ere:function(e,n){return n-e?Z5e(e,n,t):V4(isNaN(e)?n:e)}}function ere(t,e){var n=e-t;return n?Q5e(t,n):V4(isNaN(t)?e:t)}const pH=function t(e){var n=J5e(e);function r(i,a){var s=n((i=dD(i)).r,(a=dD(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=ere(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function e6e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function t6e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function n6e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=w0(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function r6e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Lw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function i6e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=w0(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var hD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,OP=new RegExp(hD.source,"g");function a6e(t){return function(){return t}}function s6e(t){return function(e){return t(e)+""}}function o6e(t,e){var n=hD.lastIndex=OP.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=hD.exec(t))&&(i=OP.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Lw(r,i)})),n=OP.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?s6e(l[0].x):a6e(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function w0(t,e){var n=typeof e,r;return e==null||n==="boolean"?V4(e):(n==="number"?Lw:n==="string"?(r=xy(e))?(e=r,pH):o6e:e instanceof xy?pH:e instanceof Date?r6e:t6e(e)?e6e:Array.isArray(e)?n6e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?i6e:Lw)(t,e)}function U4(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function l6e(t,e){e===void 0&&(e=t,t=w0);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function c6e(t){return function(){return t}}function Fw(t){return+t}var mH=[0,1];function pa(t){return t}function pD(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:c6e(isNaN(e)?NaN:.5)}function u6e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function f6e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=pD(i,r),a=n(s,a)):(r=pD(r,i),a=n(a,s)),function(o){return a(r(o))}}function d6e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=pD(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Ox(t,o,1,r)-1;return a[l](i[l](o))}}function Rx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function YS(){var t=mH,e=mH,n=w0,r,i,a,s=pa,o,l,u;function d(){var g=Math.min(t.length,e.length);return s!==pa&&(s=u6e(t[0],t[g-1])),o=g>2?d6e:f6e,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?a:(l||(l=o(t.map(r),e,n)))(r(s(g)))}return h.invert=function(g){return s(i((u||(u=o(e,t.map(r),Lw)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,Fw),d()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),n=U4,d()},h.clamp=function(g){return arguments.length?(s=g?!0:pa,d()):s!==pa},h.interpolate=function(g){return arguments.length?(n=g,d()):n},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,y){return r=g,i=y,d()}}function H4(){return YS()(pa,pa)}function h6e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bm(t){return t=Bw(Math.abs(t)),t?t[1]:NaN}function p6e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function m6e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var g6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function by(t){if(!(e=g6e.exec(t)))throw new Error("invalid format: "+t);var e;return new z4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}by.prototype=z4.prototype;function z4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}z4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v6e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tre;function y6e(t,e){var n=Bw(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(tre=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bw(t,Math.max(0,e+a-1))[0]}function gH(t,e){var n=Bw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vH={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:h6e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gH(t*100,e),r:gH,s:y6e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yH(t){return t}var xH=Array.prototype.map,bH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function x6e(t){var e=t.grouping===void 0||t.thousands===void 0?yH:p6e(xH.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yH:m6e(xH.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=by(h);var g=h.fill,y=h.align,_=h.sign,v=h.symbol,b=h.zero,E=h.width,N=h.comma,C=h.precision,k=h.trim,O=h.type;O==="n"?(N=!0,O="g"):vH[O]||(C===void 0&&(C=12),k=!0,O="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var I=v==="$"?n:v==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",A=v==="$"?r:/[%p]/.test(O)?s:"",R=vH[O],D=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function L(j){var B=I,F=A,re,q,V;if(O==="c")F=R(j)+F,j="";else{j=+j;var X=j<0||1/j<0;if(j=isNaN(j)?l:R(Math.abs(j),C),k&&(j=v6e(j)),X&&+j==0&&_!=="+"&&(X=!1),B=(X?_==="("?_:o:_==="-"||_==="("?"":_)+B,F=(O==="s"?bH[8+tre/3]:"")+F+(X&&_==="("?")":""),D){for(re=-1,q=j.length;++re<q;)if(V=j.charCodeAt(re),48>V||V>57){F=(V===46?i+j.slice(re+1):j.slice(re))+F,j=j.slice(0,re);break}}}N&&!b&&(j=e(j,1/0));var Q=B.length+j.length+F.length,ie=Q<E?new Array(E-Q+1).join(g):"";switch(N&&b&&(j=e(ie+j,ie.length?E-F.length:1/0),ie=""),y){case"<":j=B+j+F+ie;break;case"=":j=B+ie+j+F;break;case"^":j=ie.slice(0,Q=ie.length>>1)+B+j+F+ie.slice(Q);break;default:j=ie+B+j+F;break}return a(j)}return L.toString=function(){return h+""},L}function d(h,g){var y=u((h=by(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(bm(g)/3)))*3,v=Math.pow(10,-_),b=bH[8+_/3];return function(E){return y(v*E)+b}}return{format:u,formatPrefix:d}}var F_,q4,nre;b6e({thousands:",",grouping:[3],currency:["$",""]});function b6e(t){return F_=x6e(t),q4=F_.format,nre=F_.formatPrefix,F_}function _6e(t){return Math.max(0,-bm(Math.abs(t)))}function w6e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bm(e)/3)))*3-bm(Math.abs(t)))}function E6e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bm(e)-bm(t))+1}function rre(t,e,n,r){var i=uD(t,e,n),a;switch(r=by(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=w6e(i,s))&&(r.precision=a),nre(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=E6e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=_6e(i))&&(r.precision=a-(r.type==="%")*2);break}}return q4(r)}function gf(t){var e=t.domain;return t.ticks=function(n){var r=e();return lD(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return rre(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=cD(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function $w(){var t=H4();return t.copy=function(){return Rx(t,$w())},Ms.apply(t,arguments),gf(t)}function ire(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Fw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ire(t).unknown(e)},t=arguments.length?Array.from(t,Fw):[0,1],gf(n)}function are(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function _H(t){return Math.log(t)}function wH(t){return Math.exp(t)}function S6e(t){return-Math.log(-t)}function T6e(t){return-Math.exp(-t)}function A6e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function C6e(t){return t===10?A6e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function N6e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function EH(t){return(e,n)=>-t(-e,n)}function W4(t){const e=t(_H,wH),n=e.domain;let r=10,i,a;function s(){return i=N6e(r),a=C6e(r),n()[0]<0?(i=EH(i),a=EH(a),t(S6e,T6e)):t(_H,wH),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),y=i(d),_,v;const b=o==null?10:+o;let E=[];if(!(r%1)&&y-g<b){if(g=Math.floor(g),y=Math.ceil(y),u>0){for(;g<=y;++g)for(_=1;_<r;++_)if(v=g<0?_/a(-g):_*a(g),!(v<u)){if(v>d)break;E.push(v)}}else for(;g<=y;++g)for(_=r-1;_>=1;--_)if(v=g>0?_/a(-g):_*a(g),!(v<u)){if(v>d)break;E.push(v)}E.length*2<b&&(E=lD(u,d,b))}else E=lD(g,y,Math.min(y-g,b)).map(a);return h?E.reverse():E},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=by(l)).precision==null&&(l.trim=!0),l=q4(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>n(are(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function sre(){const t=W4(YS()).domain([1,10]);return t.copy=()=>Rx(t,sre()).base(t.base()),Ms.apply(t,arguments),t}function SH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function G4(t){var e=1,n=t(SH(e),TH(e));return n.constant=function(r){return arguments.length?t(SH(e=+r),TH(e)):e},gf(n)}function ore(){var t=G4(YS());return t.copy=function(){return Rx(t,ore()).constant(t.constant())},Ms.apply(t,arguments)}function AH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function O6e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function P6e(t){return t<0?-t*t:t*t}function K4(t){var e=t(pa,pa),n=1;function r(){return n===1?t(pa,pa):n===.5?t(O6e,P6e):t(AH(n),AH(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gf(e)}function Y4(){var t=K4(YS());return t.copy=function(){return Rx(t,Y4()).exponent(t.exponent())},Ms.apply(t,arguments),t}function R6e(){return Y4.apply(null,arguments).exponent(.5)}function CH(t){return Math.sign(t)*t*t}function I6e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lre(){var t=H4(),e=[0,1],n=!1,r;function i(a){var s=I6e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(CH(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Fw)).map(CH)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lre(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ms.apply(i,arguments),gf(i)}function cre(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=L5e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ox(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Iu),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return cre().domain(t).range(e).unknown(r)},Ms.apply(a,arguments)}function ure(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ox(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return ure().domain([t,e]).range(i).unknown(a)},Ms.apply(gf(s),arguments)}function fre(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ox(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fre().domain(t).range(e).unknown(n)},Ms.apply(i,arguments)}const PP=new Date,RP=new Date;function si(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>si(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(PP.setTime(+a),RP.setTime(+s),t(PP),t(RP),Math.floor(n(PP,RP))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Vw=si(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?si(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vw);Vw.range;const Bl=1e3,Os=Bl*60,$l=Os*60,lc=$l*24,X4=lc*7,NH=lc*30,IP=lc*365,fd=si(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bl)},(t,e)=>(e-t)/Bl,t=>t.getUTCSeconds());fd.range;const Q4=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getMinutes());Q4.range;const Z4=si(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCMinutes());Z4.range;const J4=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl-t.getMinutes()*Os)},(t,e)=>{t.setTime(+t+e*$l)},(t,e)=>(e-t)/$l,t=>t.getHours());J4.range;const eL=si(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$l)},(t,e)=>(e-t)/$l,t=>t.getUTCHours());eL.range;const Ix=si(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Os)/lc,t=>t.getDate()-1);Ix.range;const XS=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lc,t=>t.getUTCDate()-1);XS.range;const dre=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lc,t=>Math.floor(t/lc));dre.range;function ch(t){return si(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Os)/X4)}const QS=ch(0),Uw=ch(1),D6e=ch(2),k6e=ch(3),_m=ch(4),j6e=ch(5),M6e=ch(6);QS.range;Uw.range;D6e.range;k6e.range;_m.range;j6e.range;M6e.range;function uh(t){return si(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/X4)}const ZS=uh(0),Hw=uh(1),L6e=uh(2),F6e=uh(3),wm=uh(4),B6e=uh(5),$6e=uh(6);ZS.range;Hw.range;L6e.range;F6e.range;wm.range;B6e.range;$6e.range;const tL=si(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tL.range;const nL=si(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nL.range;const cc=si(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});cc.range;const uc=si(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());uc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});uc.range;function hre(t,e,n,r,i,a){const s=[[fd,1,Bl],[fd,5,5*Bl],[fd,15,15*Bl],[fd,30,30*Bl],[a,1,Os],[a,5,5*Os],[a,15,15*Os],[a,30,30*Os],[i,1,$l],[i,3,3*$l],[i,6,6*$l],[i,12,12*$l],[r,1,lc],[r,2,2*lc],[n,1,X4],[e,1,NH],[e,3,3*NH],[t,1,IP]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const y=h&&typeof h.range=="function"?h:l(u,d,h),_=y?y.range(u,+d+1):[];return g?_.reverse():_}function l(u,d,h){const g=Math.abs(d-u)/h,y=F4(([,,b])=>b).right(s,g);if(y===s.length)return t.every(uD(u/IP,d/IP,h));if(y===0)return Vw.every(Math.max(uD(u,d,h),1));const[_,v]=s[g/s[y-1][2]<s[y][2]/g?y-1:y];return _.every(v)}return[o,l]}const[V6e,U6e]=hre(uc,nL,ZS,dre,eL,Z4),[H6e,z6e]=hre(cc,tL,QS,Ix,J4,Q4);function DP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function q6e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Bg(i),d=$g(i),h=Bg(a),g=$g(a),y=Bg(s),_=$g(s),v=Bg(o),b=$g(o),E=Bg(l),N=$g(l),C={a:X,A:Q,b:ie,B:W,c:null,d:kH,e:kH,f:p8e,g:S8e,G:A8e,H:f8e,I:d8e,j:h8e,L:pre,m:m8e,M:g8e,p:ce,q:z,Q:LH,s:FH,S:v8e,u:y8e,U:x8e,V:b8e,w:_8e,W:w8e,x:null,X:null,y:E8e,Y:T8e,Z:C8e,"%":MH},k={a:Y,A:K,b:J,B:fe,c:null,d:jH,e:jH,f:R8e,g:V8e,G:H8e,H:N8e,I:O8e,j:P8e,L:gre,m:I8e,M:D8e,p:pe,q:ye,Q:LH,s:FH,S:k8e,u:j8e,U:M8e,V:L8e,w:F8e,W:B8e,x:null,X:null,y:$8e,Y:U8e,Z:z8e,"%":MH},O={a:L,A:j,b:B,B:F,c:re,d:IH,e:IH,f:o8e,g:RH,G:PH,H:DH,I:DH,j:r8e,L:s8e,m:n8e,M:i8e,p:D,q:t8e,Q:c8e,s:u8e,S:a8e,u:X6e,U:Q6e,V:Z6e,w:Y6e,W:J6e,x:q,X:V,y:RH,Y:PH,Z:e8e,"%":l8e};C.x=I(n,C),C.X=I(r,C),C.c=I(e,C),k.x=I(n,k),k.X=I(r,k),k.c=I(e,k);function I(de,he){return function(Ce){var me=[],Ue=-1,$e=0,Je=de.length,it,Fe,Rt;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ue<Je;)de.charCodeAt(Ue)===37&&(me.push(de.slice($e,Ue)),(Fe=OH[it=de.charAt(++Ue)])!=null?it=de.charAt(++Ue):Fe=it==="e"?" ":"0",(Rt=he[it])&&(it=Rt(Ce,Fe)),me.push(it),$e=Ue+1);return me.push(de.slice($e,Ue)),me.join("")}}function A(de,he){return function(Ce){var me=Fg(1900,void 0,1),Ue=R(me,de,Ce+="",0),$e,Je;if(Ue!=Ce.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(he&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?($e=kP(Fg(me.y,0,1)),Je=$e.getUTCDay(),$e=Je>4||Je===0?Hw.ceil($e):Hw($e),$e=XS.offset($e,(me.V-1)*7),me.y=$e.getUTCFullYear(),me.m=$e.getUTCMonth(),me.d=$e.getUTCDate()+(me.w+6)%7):($e=DP(Fg(me.y,0,1)),Je=$e.getDay(),$e=Je>4||Je===0?Uw.ceil($e):Uw($e),$e=Ix.offset($e,(me.V-1)*7),me.y=$e.getFullYear(),me.m=$e.getMonth(),me.d=$e.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Je="Z"in me?kP(Fg(me.y,0,1)).getUTCDay():DP(Fg(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Je+5)%7:me.w+me.U*7-(Je+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,kP(me)):DP(me)}}function R(de,he,Ce,me){for(var Ue=0,$e=he.length,Je=Ce.length,it,Fe;Ue<$e;){if(me>=Je)return-1;if(it=he.charCodeAt(Ue++),it===37){if(it=he.charAt(Ue++),Fe=O[it in OH?he.charAt(Ue++):it],!Fe||(me=Fe(de,Ce,me))<0)return-1}else if(it!=Ce.charCodeAt(me++))return-1}return me}function D(de,he,Ce){var me=u.exec(he.slice(Ce));return me?(de.p=d.get(me[0].toLowerCase()),Ce+me[0].length):-1}function L(de,he,Ce){var me=y.exec(he.slice(Ce));return me?(de.w=_.get(me[0].toLowerCase()),Ce+me[0].length):-1}function j(de,he,Ce){var me=h.exec(he.slice(Ce));return me?(de.w=g.get(me[0].toLowerCase()),Ce+me[0].length):-1}function B(de,he,Ce){var me=E.exec(he.slice(Ce));return me?(de.m=N.get(me[0].toLowerCase()),Ce+me[0].length):-1}function F(de,he,Ce){var me=v.exec(he.slice(Ce));return me?(de.m=b.get(me[0].toLowerCase()),Ce+me[0].length):-1}function re(de,he,Ce){return R(de,e,he,Ce)}function q(de,he,Ce){return R(de,n,he,Ce)}function V(de,he,Ce){return R(de,r,he,Ce)}function X(de){return s[de.getDay()]}function Q(de){return a[de.getDay()]}function ie(de){return l[de.getMonth()]}function W(de){return o[de.getMonth()]}function ce(de){return i[+(de.getHours()>=12)]}function z(de){return 1+~~(de.getMonth()/3)}function Y(de){return s[de.getUTCDay()]}function K(de){return a[de.getUTCDay()]}function J(de){return l[de.getUTCMonth()]}function fe(de){return o[de.getUTCMonth()]}function pe(de){return i[+(de.getUTCHours()>=12)]}function ye(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var he=I(de+="",C);return he.toString=function(){return de},he},parse:function(de){var he=A(de+="",!1);return he.toString=function(){return de},he},utcFormat:function(de){var he=I(de+="",k);return he.toString=function(){return de},he},utcParse:function(de){var he=A(de+="",!0);return he.toString=function(){return de},he}}}var OH={"-":"",_:" ",0:"0"},Ai=/^\s*\d+/,W6e=/^%/,G6e=/[\\^$*+?|[\]().{}]/g;function bn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function K6e(t){return t.replace(G6e,"\\$&")}function Bg(t){return new RegExp("^(?:"+t.map(K6e).join("|")+")","i")}function $g(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Y6e(t,e,n){var r=Ai.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function X6e(t,e,n){var r=Ai.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Q6e(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Z6e(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function J6e(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function PH(t,e,n){var r=Ai.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function RH(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function e8e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function t8e(t,e,n){var r=Ai.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function n8e(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function IH(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function r8e(t,e,n){var r=Ai.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function DH(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function i8e(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function a8e(t,e,n){var r=Ai.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function s8e(t,e,n){var r=Ai.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function o8e(t,e,n){var r=Ai.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function l8e(t,e,n){var r=W6e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function c8e(t,e,n){var r=Ai.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function u8e(t,e,n){var r=Ai.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kH(t,e){return bn(t.getDate(),e,2)}function f8e(t,e){return bn(t.getHours(),e,2)}function d8e(t,e){return bn(t.getHours()%12||12,e,2)}function h8e(t,e){return bn(1+Ix.count(cc(t),t),e,3)}function pre(t,e){return bn(t.getMilliseconds(),e,3)}function p8e(t,e){return pre(t,e)+"000"}function m8e(t,e){return bn(t.getMonth()+1,e,2)}function g8e(t,e){return bn(t.getMinutes(),e,2)}function v8e(t,e){return bn(t.getSeconds(),e,2)}function y8e(t){var e=t.getDay();return e===0?7:e}function x8e(t,e){return bn(QS.count(cc(t)-1,t),e,2)}function mre(t){var e=t.getDay();return e>=4||e===0?_m(t):_m.ceil(t)}function b8e(t,e){return t=mre(t),bn(_m.count(cc(t),t)+(cc(t).getDay()===4),e,2)}function _8e(t){return t.getDay()}function w8e(t,e){return bn(Uw.count(cc(t)-1,t),e,2)}function E8e(t,e){return bn(t.getFullYear()%100,e,2)}function S8e(t,e){return t=mre(t),bn(t.getFullYear()%100,e,2)}function T8e(t,e){return bn(t.getFullYear()%1e4,e,4)}function A8e(t,e){var n=t.getDay();return t=n>=4||n===0?_m(t):_m.ceil(t),bn(t.getFullYear()%1e4,e,4)}function C8e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bn(e/60|0,"0",2)+bn(e%60,"0",2)}function jH(t,e){return bn(t.getUTCDate(),e,2)}function N8e(t,e){return bn(t.getUTCHours(),e,2)}function O8e(t,e){return bn(t.getUTCHours()%12||12,e,2)}function P8e(t,e){return bn(1+XS.count(uc(t),t),e,3)}function gre(t,e){return bn(t.getUTCMilliseconds(),e,3)}function R8e(t,e){return gre(t,e)+"000"}function I8e(t,e){return bn(t.getUTCMonth()+1,e,2)}function D8e(t,e){return bn(t.getUTCMinutes(),e,2)}function k8e(t,e){return bn(t.getUTCSeconds(),e,2)}function j8e(t){var e=t.getUTCDay();return e===0?7:e}function M8e(t,e){return bn(ZS.count(uc(t)-1,t),e,2)}function vre(t){var e=t.getUTCDay();return e>=4||e===0?wm(t):wm.ceil(t)}function L8e(t,e){return t=vre(t),bn(wm.count(uc(t),t)+(uc(t).getUTCDay()===4),e,2)}function F8e(t){return t.getUTCDay()}function B8e(t,e){return bn(Hw.count(uc(t)-1,t),e,2)}function $8e(t,e){return bn(t.getUTCFullYear()%100,e,2)}function V8e(t,e){return t=vre(t),bn(t.getUTCFullYear()%100,e,2)}function U8e(t,e){return bn(t.getUTCFullYear()%1e4,e,4)}function H8e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wm(t):wm.ceil(t),bn(t.getUTCFullYear()%1e4,e,4)}function z8e(){return"+0000"}function MH(){return"%"}function LH(t){return+t}function FH(t){return Math.floor(+t/1e3)}var cp,yre,xre;q8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function q8e(t){return cp=q6e(t),yre=cp.format,cp.parse,xre=cp.utcFormat,cp.utcParse,cp}function W8e(t){return new Date(t)}function G8e(t){return t instanceof Date?+t:+new Date(+t)}function rL(t,e,n,r,i,a,s,o,l,u){var d=H4(),h=d.invert,g=d.domain,y=u(".%L"),_=u(":%S"),v=u("%I:%M"),b=u("%I %p"),E=u("%a %d"),N=u("%b %d"),C=u("%B"),k=u("%Y");function O(I){return(l(I)<I?y:o(I)<I?_:s(I)<I?v:a(I)<I?b:r(I)<I?i(I)<I?E:N:n(I)<I?C:k)(I)}return d.invert=function(I){return new Date(h(I))},d.domain=function(I){return arguments.length?g(Array.from(I,G8e)):g().map(W8e)},d.ticks=function(I){var A=g();return t(A[0],A[A.length-1],I??10)},d.tickFormat=function(I,A){return A==null?O:u(A)},d.nice=function(I){var A=g();return(!I||typeof I.range!="function")&&(I=e(A[0],A[A.length-1],I??10)),I?g(are(A,I)):d},d.copy=function(){return Rx(d,rL(t,e,n,r,i,a,s,o,l,u))},d}function K8e(){return Ms.apply(rL(H6e,z6e,cc,tL,QS,Ix,J4,Q4,fd,yre).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Y8e(){return Ms.apply(rL(V6e,U6e,uc,nL,ZS,XS,eL,Z4,fd,xre).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function JS(){var t=0,e=1,n,r,i,a,s=pa,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(g){var y,_;return arguments.length?([y,_]=g,s=h(y,_),u):[s(0),s(1)]}}return u.range=d(w0),u.rangeRound=d(U4),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function vf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bre(){var t=gf(JS()(pa));return t.copy=function(){return vf(t,bre())},Ec.apply(t,arguments)}function _re(){var t=W4(JS()).domain([1,10]);return t.copy=function(){return vf(t,_re()).base(t.base())},Ec.apply(t,arguments)}function wre(){var t=G4(JS());return t.copy=function(){return vf(t,wre()).constant(t.constant())},Ec.apply(t,arguments)}function iL(){var t=K4(JS());return t.copy=function(){return vf(t,iL()).exponent(t.exponent())},Ec.apply(t,arguments)}function X8e(){return iL.apply(null,arguments).exponent(.5)}function Ere(){var t=[],e=pa;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ox(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Iu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>M5e(t,a/r))},n.copy=function(){return Ere(e).domain(t)},Ec.apply(n,arguments)}function eT(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=pa,d,h=!1,g;function y(v){return isNaN(v=+v)?g:(v=.5+((v=+d(v))-a)*(r*v<r*a?o:l),u(h?Math.max(0,Math.min(1,v)):v))}y.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(v){return arguments.length?(h=!!v,y):h},y.interpolator=function(v){return arguments.length?(u=v,y):u};function _(v){return function(b){var E,N,C;return arguments.length?([E,N,C]=b,u=l6e(v,[E,N,C]),y):[u(0),u(.5),u(1)]}}return y.range=_(w0),y.rangeRound=_(U4),y.unknown=function(v){return arguments.length?(g=v,y):g},function(v){return d=v,i=v(t),a=v(e),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function Sre(){var t=gf(eT()(pa));return t.copy=function(){return vf(t,Sre())},Ec.apply(t,arguments)}function Tre(){var t=W4(eT()).domain([.1,1,10]);return t.copy=function(){return vf(t,Tre()).base(t.base())},Ec.apply(t,arguments)}function Are(){var t=G4(eT());return t.copy=function(){return vf(t,Are()).constant(t.constant())},Ec.apply(t,arguments)}function aL(){var t=K4(eT());return t.copy=function(){return vf(t,aL()).exponent(t.exponent())},Ec.apply(t,arguments)}function Q8e(){return aL.apply(null,arguments).exponent(.5)}const BH=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gy,scaleDiverging:Sre,scaleDivergingLog:Tre,scaleDivergingPow:aL,scaleDivergingSqrt:Q8e,scaleDivergingSymlog:Are,scaleIdentity:ire,scaleImplicit:fD,scaleLinear:$w,scaleLog:sre,scaleOrdinal:B4,scalePoint:xv,scalePow:Y4,scaleQuantile:cre,scaleQuantize:ure,scaleRadial:lre,scaleSequential:bre,scaleSequentialLog:_re,scaleSequentialPow:iL,scaleSequentialQuantile:Ere,scaleSequentialSqrt:X8e,scaleSequentialSymlog:wre,scaleSqrt:R6e,scaleSymlog:ore,scaleThreshold:fre,scaleTime:K8e,scaleUtc:Y8e,tickFormat:rre},Symbol.toStringTag,{value:"Module"}));var jP,$H;function tT(){if($H)return jP;$H=1;var t=y0();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var o=n[a],l=r(o);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,d=o}return d}return jP=e,jP}var MP,VH;function Cre(){if(VH)return MP;VH=1;function t(e,n){return e>n}return MP=t,MP}var LP,UH;function Z8e(){if(UH)return LP;UH=1;var t=tT(),e=Cre(),n=_0();function r(i){return i&&i.length?t(i,n,e):void 0}return LP=r,LP}var J8e=Z8e();const yu=Rn(J8e);var FP,HH;function Nre(){if(HH)return FP;HH=1;function t(e,n){return e<n}return FP=t,FP}var BP,zH;function eBe(){if(zH)return BP;zH=1;var t=tT(),e=Nre(),n=_0();function r(i){return i&&i.length?t(i,n,e):void 0}return BP=r,BP}var tBe=eBe();const nT=Rn(tBe);var $P,qH;function nBe(){if(qH)return $P;qH=1;var t=_4(),e=sl(),n=Mne(),r=Ra();function i(a,s){var o=r(a)?t:n;return o(a,e(s,3))}return $P=i,$P}var VP,WH;function rBe(){if(WH)return VP;WH=1;var t=kne(),e=nBe();function n(r,i){return t(e(r,i),1)}return VP=n,VP}var iBe=rBe();const aBe=Rn(iBe);var UP,GH;function sBe(){if(GH)return UP;GH=1;var t=D4();function e(n,r){return t(n,r)}return UP=e,UP}var oBe=sBe();const rf=Rn(oBe);var E0=1e9,lBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oL,fr=!0,Ds="[DecimalError] ",gd=Ds+"Invalid argument: ",sL=Ds+"Exponent out of range: ",S0=Math.floor,nd=Math.pow,cBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,vi=1e7,ir=7,Ore=9007199254740991,zw=S0(Ore/ir),ot={};ot.absoluteValue=ot.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ot.comparedTo=ot.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ir;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ot.dividedBy=ot.div=function(t){return Xl(this,new this.constructor(t))};ot.dividedToIntegerBy=ot.idiv=function(t){var e=this,n=e.constructor;return Kn(Xl(e,new n(t),0,1),n.precision)};ot.equals=ot.eq=function(t){return!this.cmp(t)};ot.exponent=function(){return Ur(this)};ot.greaterThan=ot.gt=function(t){return this.cmp(t)>0};ot.greaterThanOrEqualTo=ot.gte=function(t){return this.cmp(t)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(t){return this.cmp(t)<0};ot.lessThanOrEqualTo=ot.lte=function(t){return this.cmp(t)<1};ot.logarithm=ot.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xa))throw Error(Ds+"NaN");if(n.s<1)throw Error(Ds+(n.s?"NaN":"-Infinity"));return n.eq(Xa)?new r(0):(fr=!1,e=Xl(_y(n,a),_y(t,a),a),fr=!0,Kn(e,i))};ot.minus=ot.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ire(e,t):Pre(e,(t.s=-t.s,t))};ot.modulo=ot.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ds+"NaN");return n.s?(fr=!1,e=Xl(n,t,0,1).times(t),fr=!0,n.minus(e)):Kn(new r(n),i)};ot.naturalExponential=ot.exp=function(){return Rre(this)};ot.naturalLogarithm=ot.ln=function(){return _y(this)};ot.negated=ot.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ot.plus=ot.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Pre(e,t):Ire(e,(t.s=-t.s,t))};ot.precision=ot.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gd+t);if(e=Ur(i)+1,r=i.d.length-1,n=r*ir+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ot.squareRoot=ot.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ds+"NaN")}for(t=Ur(o),fr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Vo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=S0((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Xl(o,a,s+2)).times(.5),Vo(a.d).slice(0,s)===(e=Vo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Kn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return fr=!0,Kn(r,n)};ot.times=ot.mul=function(t){var e,n,r,i,a,s,o,l,u,d=this,h=d.constructor,g=d.d,y=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=g.length,u=y.length,l<u&&(a=g,g=y,y=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+y[r]*g[i-r-1]+e,a[i--]=o%vi|0,e=o/vi|0;a[i]=(a[i]+e)%vi|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,fr?Kn(t,h.precision):t};ot.toDecimalPlaces=ot.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(tl(t,0,E0),e===void 0?e=r.rounding:tl(e,0,8),Kn(n,t+Ur(n)+1,e))};ot.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Md(r,!0):(tl(t,0,E0),e===void 0?e=i.rounding:tl(e,0,8),r=Kn(new i(r),t+1,e),n=Md(r,!0,t+1)),n};ot.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Md(i):(tl(t,0,E0),e===void 0?e=a.rounding:tl(e,0,8),r=Kn(new a(i),t+Ur(i)+1,e),n=Md(r.abs(),!1,t+Ur(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ot.toInteger=ot.toint=function(){var t=this,e=t.constructor;return Kn(new e(t),Ur(t)+1,e.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Xa);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ds+"Infinity");return o}if(o.eq(Xa))return o;if(r=l.precision,t.eq(Xa))return Kn(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=Ore){for(i=new l(Xa),e=Math.ceil(r/ir+4),fr=!1;n%2&&(i=i.times(o),YH(i.d,e)),n=S0(n/2),n!==0;)o=o.times(o),YH(o.d,e);return fr=!0,t.s<0?new l(Xa).div(i):Kn(i,r)}}else if(a<0)throw Error(Ds+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,fr=!1,i=t.times(_y(o,r+u)),fr=!0,i=Rre(i),i.s=a,i};ot.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ur(i),r=Md(i,n<=a.toExpNeg||n>=a.toExpPos)):(tl(t,1,E0),e===void 0?e=a.rounding:tl(e,0,8),i=Kn(new a(i),t,e),n=Ur(i),r=Md(i,t<=n||n<=a.toExpNeg,t)),r};ot.toSignificantDigits=ot.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(tl(t,1,E0),e===void 0?e=r.rounding:tl(e,0,8)),Kn(new r(n),t,e)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ur(t),n=t.constructor;return Md(t,e<=n.toExpNeg||e>=n.toExpPos)};function Pre(t,e){var n,r,i,a,s,o,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),fr?Kn(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(h/ir),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/vi|0,l[a]%=vi;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,fr?Kn(e,h):e}function tl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gd+t)}function Vo(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=ir-r.length,n&&(a+=ou(n)),a+=r;s=t[e],r=s+"",n=ir-r.length,n&&(a+=ou(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Xl=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%vi|0,s=a/vi|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*vi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,d,h,g,y,_,v,b,E,N,C,k,O,I,A,R,D=r.constructor,L=r.s==i.s?1:-1,j=r.d,B=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Ds+"Division by zero");for(l=r.e-i.e,A=B.length,O=j.length,y=new D(L),_=y.d=[],u=0;B[u]==(j[u]||0);)++u;if(B[u]>(j[u]||0)&&--l,a==null?N=a=D.precision:s?N=a+(Ur(r)-Ur(i))+1:N=a,N<0)return new D(0);if(N=N/ir+2|0,u=0,A==1)for(d=0,B=B[0],N++;(u<O||d)&&N--;u++)C=d*vi+(j[u]||0),_[u]=C/B|0,d=C%B|0;else{for(d=vi/(B[0]+1)|0,d>1&&(B=t(B,d),j=t(j,d),A=B.length,O=j.length),k=A,v=j.slice(0,A),b=v.length;b<A;)v[b++]=0;R=B.slice(),R.unshift(0),I=B[0],B[1]>=vi/2&&++I;do d=0,o=e(B,v,A,b),o<0?(E=v[0],A!=b&&(E=E*vi+(v[1]||0)),d=E/I|0,d>1?(d>=vi&&(d=vi-1),h=t(B,d),g=h.length,b=v.length,o=e(h,v,g,b),o==1&&(d--,n(h,A<g?R:B,g))):(d==0&&(o=d=1),h=B.slice()),g=h.length,g<b&&h.unshift(0),n(v,h,b),o==-1&&(b=v.length,o=e(B,v,A,b),o<1&&(d++,n(v,A<b?R:B,b))),b=v.length):o===0&&(d++,v=[0]),_[u++]=d,o&&v[0]?v[b++]=j[k]||0:(v=[j[k]],b=1);while((k++<O||v[0]!==void 0)&&N--)}return _[0]||_.shift(),y.e=l,Kn(y,s?a+Ur(y)+1:a)}}();function Rre(t,e){var n,r,i,a,s,o,l=0,u=0,d=t.constructor,h=d.precision;if(Ur(t)>16)throw Error(sL+Ur(t));if(!t.s)return new d(Xa);for(fr=!1,o=h,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(nd(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Xa),d.precision=o;;){if(i=Kn(i.times(t),o),n=n.times(++l),s=a.plus(Xl(i,n,o)),Vo(s.d).slice(0,o)===Vo(a.d).slice(0,o)){for(;u--;)a=Kn(a.times(a),o);return d.precision=h,e==null?(fr=!0,Kn(a,h)):a}a=s}}function Ur(t){for(var e=t.e*ir,n=t.d[0];n>=10;n/=10)e++;return e}function HP(t,e,n){if(e>t.LN10.sd())throw fr=!0,n&&(t.precision=n),Error(Ds+"LN10 precision limit exceeded");return Kn(new t(t.LN10),e)}function ou(t){for(var e="";t--;)e+="0";return e}function _y(t,e){var n,r,i,a,s,o,l,u,d,h=1,g=10,y=t,_=y.d,v=y.constructor,b=v.precision;if(y.s<1)throw Error(Ds+(y.s?"NaN":"-Infinity"));if(y.eq(Xa))return new v(0);if(e==null?(fr=!1,u=b):u=e,y.eq(10))return e==null&&(fr=!0),HP(v,u);if(u+=g,v.precision=u,n=Vo(_),r=n.charAt(0),a=Ur(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Vo(y.d),r=n.charAt(0),h++;a=Ur(y),r>1?(y=new v("0."+n),a++):y=new v(r+"."+n.slice(1))}else return l=HP(v,u+2,b).times(a+""),y=_y(new v(r+"."+n.slice(1)),u-g).plus(l),v.precision=b,e==null?(fr=!0,Kn(y,b)):y;for(o=s=y=Xl(y.minus(Xa),y.plus(Xa),u),d=Kn(y.times(y),u),i=3;;){if(s=Kn(s.times(d),u),l=o.plus(Xl(s,new v(i),u)),Vo(l.d).slice(0,u)===Vo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(HP(v,u+2,b).times(a+""))),o=Xl(o,new v(h),u),v.precision=b,e==null?(fr=!0,Kn(o,b)):o;o=l,i+=2}}function KH(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=S0(n/ir),t.d=[],r=(n+1)%ir,n<0&&(r+=ir),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ir;r<i;)t.d.push(+e.slice(r,r+=ir));e=e.slice(r),r=ir-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),fr&&(t.e>zw||t.e<-zw))throw Error(sL+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kn(t,e,n){var r,i,a,s,o,l,u,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=ir,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/ir),a=h.length,d>=a)return t;for(u=a=h[d],s=1;a>=10;a/=10)s++;r%=ir,i=r-ir+s}if(n!==void 0&&(a=nd(10,s-i-1),o=u/a%10|0,l=e<0||h[d+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/nd(10,s-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=Ur(t),h.length=1,e=e-a-1,h[0]=nd(10,(ir-e%ir)%ir),t.e=S0(-e/ir)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=nd(10,ir-r),h[d]=i>0?(u/nd(10,s-i)%nd(10,i)|0)*a:0),l)for(;;)if(d==0){(h[0]+=a)==vi&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=vi)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(fr&&(t.e>zw||t.e<-zw))throw Error(sL+Ur(t));return t}function Ire(t,e){var n,r,i,a,s,o,l,u,d,h,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),fr?Kn(e,y):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,o=h.length):(n=h,r=u,o=l.length),i=Math.max(Math.ceil(y/ir),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}s=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=vi-1;--l[a],l[i]+=vi}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,fr?Kn(e,y):e):new g(0)}function Md(t,e,n){var r,i=Ur(t),a=Vo(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ou(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ou(-i-1)+a,n&&(r=n-s)>0&&(a+=ou(r))):i>=s?(a+=ou(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ou(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ou(r))),t.s<0?"-"+a:a}function YH(t,e){if(t.length>e)return t.length=e,!0}function Dre(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gd+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return KH(s,a.toString())}else if(typeof a!="string")throw Error(gd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,cBe.test(a))KH(s,a);else throw Error(gd+a)}if(i.prototype=ot,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Dre,i.config=i.set=uBe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function uBe(t){if(!t||typeof t!="object")throw Error(Ds+"Object expected");var e,n,r,i=["precision",1,E0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(S0(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gd+n+": "+r);return this}var oL=Dre(lBe);Xa=new oL(1);const $n=oL;function fBe(t){return mBe(t)||pBe(t)||hBe(t)||dBe()}function dBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hBe(t,e){if(t){if(typeof t=="string")return mD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mD(t,e)}}function pBe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mBe(t){if(Array.isArray(t))return mD(t)}function mD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gBe=function(e){return e},kre={},jre=function(e){return e===kre},XH=function(e){return function n(){return arguments.length===0||arguments.length===1&&jre(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vBe=function t(e,n){return e===1?n:XH(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==kre}).length;return s>=e?n.apply(void 0,i):t(e-s,XH(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(h){return jre(h)?l.shift():h});return n.apply(void 0,fBe(d).concat(l))}))})},rT=function(e){return vBe(e.length,e)},gD=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},yBe=rT(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),xBe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return gBe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},vD=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Mre=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function bBe(t){var e;return t===0?e=1:e=Math.floor(new $n(t).abs().log(10).toNumber())+1,e}function _Be(t,e,n){for(var r=new $n(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var wBe=rT(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),EBe=rT(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),SBe=rT(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const iT={rangeStep:_Be,getDigitCount:bBe,interpolateNumber:wBe,uninterpolateNumber:EBe,uninterpolateTruncation:SBe};function yD(t){return CBe(t)||ABe(t)||Lre(t)||TBe()}function TBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ABe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function CBe(t){if(Array.isArray(t))return xD(t)}function wy(t,e){return PBe(t)||OBe(t,e)||Lre(t,e)||NBe()}function NBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lre(t,e){if(t){if(typeof t=="string")return xD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xD(t,e)}}function xD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OBe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function PBe(t){if(Array.isArray(t))return t}function Fre(t){var e=wy(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Bre(t,e,n){if(t.lte(0))return new $n(0);var r=iT.getDigitCount(t.toNumber()),i=new $n(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new $n(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new $n(Math.ceil(l))}function RBe(t,e,n){var r=1,i=new $n(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new $n(10).pow(iT.getDigitCount(t)-1),i=new $n(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new $n(Math.floor(t)))}else t===0?i=new $n(Math.floor((e-1)/2)):n||(i=new $n(Math.floor(t)));var s=Math.floor((e-1)/2),o=xBe(yBe(function(l){return i.add(new $n(l-s).mul(r)).toNumber()}),gD);return o(0,e)}function $re(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $n(0),tickMin:new $n(0),tickMax:new $n(0)};var a=Bre(new $n(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new $n(0):(s=new $n(t).add(e).div(2),s=s.sub(new $n(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new $n(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?$re(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new $n(o).mul(a)),tickMax:s.add(new $n(l).mul(a))})}function IBe(t){var e=wy(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Fre([n,r]),l=wy(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(yD(gD(0,i-1).map(function(){return 1/0}))):[].concat(yD(gD(0,i-1).map(function(){return-1/0})),[d]);return n>r?vD(h):h}if(u===d)return RBe(u,i,a);var g=$re(u,d,s,a),y=g.step,_=g.tickMin,v=g.tickMax,b=iT.rangeStep(_,v.add(new $n(.1).mul(y)),y);return n>r?vD(b):b}function DBe(t,e){var n=wy(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Fre([r,i]),o=wy(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),h=Bre(new $n(u).sub(l).div(d-1),a,0),g=[].concat(yD(iT.rangeStep(new $n(l),new $n(u).sub(new $n(.99).mul(h)),h)),[u]);return r>i?vD(g):g}var kBe=Mre(IBe),jBe=Mre(DBe),MBe="Invariant failed";function Ld(t,e){throw new Error(MBe)}var LBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function FBe(t,e){return UBe(t)||VBe(t,e)||$Be(t,e)||BBe()}function BBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Be(t,e){if(t){if(typeof t=="string")return QH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QH(t,e)}}function QH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function UBe(t){if(Array.isArray(t))return t}function HBe(t,e){if(t==null)return{};var n=zBe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hre(r.key),r)}}function GBe(t,e,n){return e&&WBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KBe(t,e,n){return e=Ww(e),YBe(t,Vre()?Reflect.construct(e,n||[],Ww(t).constructor):e.apply(t,n))}function YBe(t,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XBe(t)}function XBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vre=function(){return!!t})()}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ww(t)}function QBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bD(t,e)}function bD(t,e){return bD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bD(t,e)}function Ure(t,e,n){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=ZBe(t,"string");return Em(e)=="symbol"?e:e+""}function ZBe(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T0=function(t){function e(){return qBe(this,e),KBe(this,e,arguments)}return QBe(e,t),GBe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,g=HBe(r,LBe),y=ft(g,!1);this.props.direction==="x"&&d.type!=="number"&&Ld();var _=l.map(function(v){var b=u(v,o),E=b.x,N=b.y,C=b.value,k=b.errorVal;if(!k)return null;var O=[],I,A;if(Array.isArray(k)){var R=FBe(k,2);I=R[0],A=R[1]}else I=A=k;if(a==="vertical"){var D=d.scale,L=N+i,j=L+s,B=L-s,F=D(C-I),re=D(C+A);O.push({x1:re,y1:j,x2:re,y2:B}),O.push({x1:F,y1:L,x2:re,y2:L}),O.push({x1:F,y1:j,x2:F,y2:B})}else if(a==="horizontal"){var q=h.scale,V=E+i,X=V-s,Q=V+s,ie=q(C-I),W=q(C+A);O.push({x1:X,y1:W,x2:Q,y2:W}),O.push({x1:V,y1:ie,x2:V,y2:W}),O.push({x1:X,y1:ie,x2:Q,y2:ie})}return ae.createElement(jt,qw({className:"recharts-errorBar",key:"bar-".concat(O.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},y),O.map(function(ce){return ae.createElement("line",qw({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return ae.createElement(jt,{className:"recharts-errorBars"},_)}}])}(ae.Component);Ure(T0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Ure(T0,"displayName","ErrorBar");function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function ZH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZH(Object(n),!0).forEach(function(r){JBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JBe(t,e,n){return e=e$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$e(t){var e=t$e(t,"string");return Ey(e)=="symbol"?e:e+""}function t$e(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zre=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ha(n,Hp);if(!s)return null;var o=Hp.defaultProps,l=o!==void 0?Yf(Yf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(d,h){var g=h.item,y=h.props,_=y.sectors||y.data||[];return d.concat(_.map(function(v){return{type:s.props.iconType||g.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var h=d.item,g=h.type.defaultProps,y=g!==void 0?Yf(Yf({},g),h.props):{},_=y.dataKey,v=y.name,b=y.legendType,E=y.hide;return{inactive:E,dataKey:_,type:l.iconType||b||"square",color:lL(h),value:v||_,payload:y}}),Yf(Yf(Yf({},l),Hp.getWithHeight(s,i)),{},{payload:u,item:s})};function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function JH(t){return a$e(t)||i$e(t)||r$e(t)||n$e()}function n$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$e(t,e){if(t){if(typeof t=="string")return _D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _D(t,e)}}function i$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a$e(t){if(Array.isArray(t))return _D(t)}function _D(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(r){qp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qp(t,e,n){return e=s$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$e(t){var e=o$e(t,"string");return Sy(e)=="symbol"?e:e+""}function o$e(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e,n){return bt(t)||bt(e)?n:ii(e)?ns(t,e,n):xt(e)?e(t):n}function bv(t,e,n,r){var i=aBe(t,function(o){return sr(o,e)});if(n==="number"){var a=i.filter(function(o){return We(o)||parseFloat(o)});return a.length?[nT(a),yu(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!bt(o)}):i;return s.map(function(o){return ii(o)||o instanceof Date?o:""})}var l$e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,h=i[u].coordinate,g=u>=o-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(da(h-d)!==da(g-h)){var _=[];if(da(g-h)===da(l[1]-l[0])){y=g;var v=h+l[1]-l[0];_[0]=Math.min(v,(v+d)/2),_[1]=Math.max(v,(v+d)/2)}else{y=d;var b=g+l[1]-l[0];_[0]=Math.min(h,(b+h)/2),_[1]=Math.max(h,(b+h)/2)}var E=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>E[0]&&e<=E[1]||e>=_[0]&&e<=_[1]){s=i[u].index;break}}else{var N=Math.min(d,g),C=Math.max(d,g);if(e>(N+h)/2&&e<=(C+h)/2){s=i[u].index;break}}}else for(var k=0;k<o;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){s=r[k].index;break}return s},lL=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Sr(Sr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},c$e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,h=Object.keys(d),g=0,y=h.length;g<y;g++){var _=d[h[g]],v=_.items,b=_.cateAxisId,E=v.filter(function(A){return Yl(A.type).indexOf("Bar")>=0});if(E&&E.length){var N=E[0].type.defaultProps,C=N!==void 0?Sr(Sr({},N),E[0].props):E[0].props,k=C.barSize,O=C[b];s[O]||(s[O]=[]);var I=bt(k)?n:k;s[O].push({item:E[0],stackList:E.slice(1),barSize:bt(I)?void 0:ha(I,r,0)})}}return s},u$e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=ha(n,i,0,!0),d,h=[];if(s[0].barSize===+s[0].barSize){var g=!1,y=i/l,_=s.reduce(function(k,O){return k+O.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&y>0&&(g=!0,y*=.9,_=l*y);var v=(i-_)/2>>0,b={offset:v-u,size:0};d=s.reduce(function(k,O){var I={item:O.item,position:{offset:b.offset+b.size+u,size:g?y:O.barSize}},A=[].concat(JH(k),[I]);return b=A[A.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){A.push({item:R,position:b})}),A},h)}else{var E=ha(r,i,0,!0);i-2*E-(l-1)*u<=0&&(u=0);var N=(i-2*E-(l-1)*u)/l;N>1&&(N>>=0);var C=o===+o?Math.min(N,o):N;d=s.reduce(function(k,O,I){var A=[].concat(JH(k),[{item:O.item,position:{offset:E+(N+u)*I+(N-C)/2,size:C}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){A.push({item:R,position:A[A.length-1].position})}),A},h)}return d},f$e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=zre({children:a,legendWidth:l});if(u){var d=i||{},h=d.width,g=d.height,y=u.align,_=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&_==="middle")&&y!=="center"&&We(e[y]))return Sr(Sr({},e),{},qp({},y,e[y]+(h||0)));if((v==="horizontal"||v==="vertical"&&y==="center")&&_!=="middle"&&We(e[_]))return Sr(Sr({},e),{},qp({},_,e[_]+(g||0)))}return e},d$e=function(e,n,r){return bt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},qre=function(e,n,r,i,a){var s=n.props.children,o=va(s,T0).filter(function(u){return d$e(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=sr(d,r);if(bt(h))return u;var g=Array.isArray(h)?[nT(h),yu(h)]:[h,h],y=l.reduce(function(_,v){var b=sr(d,v,0),E=g[0]-Math.abs(Array.isArray(b)?b[0]:b),N=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,_[0]),Math.max(N,_[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},h$e=function(e,n,r,i,a){var s=n.map(function(o){return qre(e,o,r,a,i)}).filter(function(o){return!bt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Wre=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&qre(e,l,u,i)||bv(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,h=u.length;d<h;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},Gre=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Kre=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Vl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?da(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var g=a?a.indexOf(h):h;return{coordinate:i(g)+u,value:h,offset:u}});return d.filter(function(h){return!b0(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,g){return{coordinate:i(h)+u,value:h,index:g,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,g){return{coordinate:i(h)+u,value:a?a[h]:h,index:g,offset:u}})},zP=new WeakMap,B_=function(e,n){if(typeof n!="function")return e;zP.has(e)||zP.set(e,new WeakMap);var r=zP.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Yre=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:gy(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:$w(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xv(),realScaleType:"point"}:a==="category"?{scale:gy(),realScaleType:"band"}:{scale:$w(),realScaleType:"linear"};if(Ax(i)){var l="scale".concat(VS(i));return{scale:(BH[l]||xv)(),realScaleType:BH[l]?l:"point"}}return xt(i)?{scale:i}:{scale:xv(),realScaleType:"point"}},tz=1e-4,Xre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-tz,s=Math.max(i[0],i[1])+tz,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},p$e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},m$e=function(e,n){if(!n||n.length!==2||!We(n[0])||!We(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!We(e[0])||e[0]<r)&&(a[0]=r),(!We(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},g$e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=b0(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},v$e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=b0(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},y$e={sign:g$e,expand:aLe,none:mm,silhouette:sLe,wiggle:oLe,positive:v$e},x$e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=y$e[r],s=iLe().keys(i).value(function(o,l){return+sr(o,l,0)}).order(QI).offset(a);return s(e)},b$e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(h,g){var y,_=(y=g.type)!==null&&y!==void 0&&y.defaultProps?Sr(Sr({},g.type.defaultProps),g.props):g.props,v=_.stackId,b=_.hide;if(b)return h;var E=_[r],N=h[E]||{hasStack:!1,stackGroups:{}};if(ii(v)){var C=N.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(g),N.hasStack=!0,N.stackGroups[v]=C}else N.stackGroups[mf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Sr(Sr({},h),{},qp({},E,N))},l),d={};return Object.keys(u).reduce(function(h,g){var y=u[g];if(y.hasStack){var _={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(v,b){var E=y.stackGroups[b];return Sr(Sr({},v),{},qp({},b,{numericAxisId:r,cateAxisId:i,items:E.items,stackedData:x$e(e,E.items,a)}))},_)}return Sr(Sr({},h),{},qp({},g,y))},d)},Qre=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=kBe(u,a,o);return e.domain([nT(d),yu(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),g=jBe(h,a,o);return{niceTicks:g}}return null};function Sm(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!bt(i[e.dataKey])){var o=ww(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=sr(i,bt(s)?e.dataKey:s);return bt(l)?null:e.scale(l)}var nz=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=sr(s,n.dataKey,n.domain[o]);return bt(l)?null:n.scale(l)-a/2+i},_$e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},w$e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Sr(Sr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ii(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},E$e=function(e){return e.reduce(function(n,r){return[nT(r.concat([n[0]]).filter(We)),yu(r.concat([n[1]]).filter(We))]},[1/0,-1/0])},Zre=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var h=E$e(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},rz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wD=function(e,n,r){if(xt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(We(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(rz.test(e[0])){var a=+rz.exec(e[0])[1];i[0]=n[0]-a}else xt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(We(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(iz.test(e[1])){var s=+iz.exec(e[1])[1];i[1]=n[1]+s}else xt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Gw=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=j4(n,function(h){return h.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},az=function(e,n,r){return!e||!e.length||rf(e,ns(r,"type.defaultProps.domain"))?n:e},Jre=function(e,n){var r=e.type.defaultProps?Sr(Sr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return Sr(Sr({},ft(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:lL(e),value:sr(n,i),type:l,payload:n,chartType:u,hide:d})};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eie(t,e,n){return e=S$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S$e(t){var e=T$e(t,"string");return Ty(e)=="symbol"?e:e+""}function T$e(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A$e(t,e){return P$e(t)||O$e(t,e)||N$e(t,e)||C$e()}function C$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$e(t,e){if(t){if(typeof t=="string")return oz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oz(t,e)}}function oz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function P$e(t){if(Array.isArray(t))return t}var Kw=Math.PI/180,R$e=function(e){return e*180/Math.PI},tr=function(e,n,r,i){return{x:e+Math.cos(-Kw*i)*r,y:n+Math.sin(-Kw*i)*r}},tie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},I$e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,u=e.endAngle,d=ha(e.cx,s,s/2),h=ha(e.cy,o,o/2),g=tie(s,o,r),y=ha(e.innerRadius,g,0),_=ha(e.outerRadius,g,g*.8),v=Object.keys(n);return v.reduce(function(b,E){var N=n[E],C=N.domain,k=N.reversed,O;if(bt(N.range))i==="angleAxis"?O=[l,u]:i==="radiusAxis"&&(O=[y,_]),k&&(O=[O[1],O[0]]);else{O=N.range;var I=O,A=A$e(I,2);l=A[0],u=A[1]}var R=Yre(N,a),D=R.realScaleType,L=R.scale;L.domain(C).range(O),Xre(L);var j=Qre(L,kl(kl({},N),{},{realScaleType:D})),B=kl(kl(kl({},N),j),{},{range:O,radius:_,realScaleType:D,scale:L,cx:d,cy:h,innerRadius:y,outerRadius:_,startAngle:l,endAngle:u});return kl(kl({},b),{},eie({},E,B))},{})},D$e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},k$e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=D$e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:R$e(u),angleInRadian:u}},j$e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},M$e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},lz=function(e,n){var r=e.x,i=e.y,a=k$e({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=j$e(n),h=d.startAngle,g=d.endAngle,y=o,_;if(h<=g){for(;y>g;)y-=360;for(;y<h;)y+=360;_=y>=h&&y<=g}else{for(;y>h;)y-=360;for(;y<g;)y+=360;_=y>=g&&y<=h}return _?kl(kl({},n),{},{radius:s,angle:M$e(y,n)}):null},nie=function(e){return!T.isValidElement(e)&&!xt(e)&&typeof e!="boolean"?e.className:""};function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}var L$e=["offset"];function F$e(t){return U$e(t)||V$e(t)||$$e(t)||B$e()}function B$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $$e(t,e){if(t){if(typeof t=="string")return ED(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ED(t,e)}}function V$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U$e(t){if(Array.isArray(t))return ED(t)}function ED(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H$e(t,e){if(t==null)return{};var n=z$e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(n),!0).forEach(function(r){q$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q$e(t,e,n){return e=W$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$e(t){var e=G$e(t,"string");return Ay(e)=="symbol"?e:e+""}function G$e(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}var K$e=function(e){var n=e.value,r=e.formatter,i=bt(e.children)?n:e.children;return xt(r)?r(i):i},Y$e=function(e,n){var r=da(n-e),i=Math.min(Math.abs(n-e),360);return r*i},X$e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,h=l.innerRadius,g=l.outerRadius,y=l.startAngle,_=l.endAngle,v=l.clockWise,b=(h+g)/2,E=Y$e(y,_),N=E>=0?1:-1,C,k;i==="insideStart"?(C=y+N*s,k=v):i==="insideEnd"?(C=_-N*s,k=!v):i==="end"&&(C=_+N*s,k=v),k=E<=0?k:!k;var O=tr(u,d,b,C),I=tr(u,d,b,C+(k?1:-1)*359),A="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(I.x,",").concat(I.y),R=bt(e.id)?mf("recharts-radial-line-"):e.id;return ae.createElement("text",Cy({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",o)}),ae.createElement("defs",null,ae.createElement("path",{id:R,d:A})),ae.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Q$e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,g=(d+h)/2;if(i==="outside"){var y=tr(s,o,u+r,g),_=y.x,v=y.y;return{x:_,y:v,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,E=tr(s,o,b,g),N=E.x,C=E.y;return{x:N,y:C,textAnchor:"middle",verticalAnchor:"middle"}},Z$e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,d=s.height,h=d>=0?1:-1,g=h*i,y=h>0?"end":"start",_=h>0?"start":"end",v=u>=0?1:-1,b=v*i,E=v>0?"end":"start",N=v>0?"start":"end";if(a==="top"){var C={x:o+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:y};return Qr(Qr({},C),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var k={x:o+u/2,y:l+d+g,textAnchor:"middle",verticalAnchor:_};return Qr(Qr({},k),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(a==="left"){var O={x:o-b,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return Qr(Qr({},O),r?{width:Math.max(O.x-r.x,0),height:d}:{})}if(a==="right"){var I={x:o+u+b,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return Qr(Qr({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:d}:{})}var A=r?{width:u,height:d}:{};return a==="insideLeft"?Qr({x:o+b,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},A):a==="insideRight"?Qr({x:o+u-b,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},A):a==="insideTop"?Qr({x:o+u/2,y:l+g,textAnchor:"middle",verticalAnchor:_},A):a==="insideBottom"?Qr({x:o+u/2,y:l+d-g,textAnchor:"middle",verticalAnchor:y},A):a==="insideTopLeft"?Qr({x:o+b,y:l+g,textAnchor:N,verticalAnchor:_},A):a==="insideTopRight"?Qr({x:o+u-b,y:l+g,textAnchor:E,verticalAnchor:_},A):a==="insideBottomLeft"?Qr({x:o+b,y:l+d-g,textAnchor:N,verticalAnchor:y},A):a==="insideBottomRight"?Qr({x:o+u-b,y:l+d-g,textAnchor:E,verticalAnchor:y},A):x0(a)&&(We(a.x)||cd(a.x))&&(We(a.y)||cd(a.y))?Qr({x:o+ha(a.x,u),y:l+ha(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):Qr({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},J$e=function(e){return"cx"in e&&We(e.cx)};function _i(t){var e=t.offset,n=e===void 0?5:e,r=H$e(t,L$e),i=Qr({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,h=d===void 0?"":d,g=i.textBreakAll;if(!a||bt(o)&&bt(l)&&!T.isValidElement(u)&&!xt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var y;if(xt(u)){if(y=T.createElement(u,i),T.isValidElement(y))return y}else y=K$e(i);var _=J$e(a),v=ft(i,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return X$e(i,y,v);var b=_?Q$e(i):Z$e(i);return ae.createElement(jd,Cy({className:Pt("recharts-label",h)},v,b,{breakAll:g}),y)}_i.displayName="Label";var rie=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,g=e.y,y=e.top,_=e.left,v=e.width,b=e.height,E=e.clockWise,N=e.labelViewBox;if(N)return N;if(We(v)&&We(b)){if(We(h)&&We(g))return{x:h,y:g,width:v,height:b};if(We(y)&&We(_))return{x:y,y:_,width:v,height:b}}return We(h)&&We(g)?{x:h,y:g,width:0,height:0}:We(n)&&We(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:E}:e.viewBox?e.viewBox:{}},eVe=function(e,n){return e?e===!0?ae.createElement(_i,{key:"label-implicit",viewBox:n}):ii(e)?ae.createElement(_i,{key:"label-implicit",viewBox:n,value:e}):T.isValidElement(e)?e.type===_i?T.cloneElement(e,{key:"label-implicit",viewBox:n}):ae.createElement(_i,{key:"label-implicit",content:e,viewBox:n}):xt(e)?ae.createElement(_i,{key:"label-implicit",content:e,viewBox:n}):x0(e)?ae.createElement(_i,Cy({viewBox:n},e,{key:"label-implicit"})):null:null},tVe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=rie(e),s=va(i,_i).map(function(l,u){return T.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=eVe(e.label,n||a);return[o].concat(F$e(s))};_i.parseViewBox=rie;_i.renderCallByParent=tVe;var qP,uz;function nVe(){if(uz)return qP;uz=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return qP=t,qP}var rVe=nVe();const iVe=Rn(rVe);function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}var aVe=["valueAccessor"],sVe=["data","dataKey","clockWise","id","textBreakAll"];function oVe(t){return fVe(t)||uVe(t)||cVe(t)||lVe()}function lVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cVe(t,e){if(t){if(typeof t=="string")return SD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(t,e)}}function uVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fVe(t){if(Array.isArray(t))return SD(t)}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){dVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dVe(t,e,n){return e=hVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hVe(t){var e=pVe(t,"string");return Ny(e)=="symbol"?e:e+""}function pVe(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hz(t,e){if(t==null)return{};var n=mVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gVe=function(e){return Array.isArray(e.value)?iVe(e.value):e.value};function oo(t){var e=t.valueAccessor,n=e===void 0?gVe:e,r=hz(t,aVe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=hz(r,sVe);return!i||!i.length?null:ae.createElement(jt,{className:"recharts-label-list"},i.map(function(d,h){var g=bt(a)?n(d,h):sr(d&&d.payload,a),y=bt(o)?{}:{id:"".concat(o,"-").concat(h)};return ae.createElement(_i,Yw({},ft(d,!0),u,y,{parentViewBox:d.parentViewBox,value:g,textBreakAll:l,viewBox:_i.parseViewBox(bt(s)?d:dz(dz({},d),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}oo.displayName="LabelList";function vVe(t,e){return t?t===!0?ae.createElement(oo,{key:"labelList-implicit",data:e}):ae.isValidElement(t)||xt(t)?ae.createElement(oo,{key:"labelList-implicit",data:e,content:t}):x0(t)?ae.createElement(oo,Yw({data:e},t,{key:"labelList-implicit"})):null:null}function yVe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=va(r,oo).map(function(s,o){return T.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=vVe(t.label,e);return[a].concat(oVe(i))}oo.renderCallByParent=yVe;function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function TD(){return TD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TD.apply(this,arguments)}function pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(n),!0).forEach(function(r){xVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xVe(t,e,n){return e=bVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bVe(t){var e=_Ve(t,"string");return Oy(e)=="symbol"?e:e+""}function _Ve(t,e){if(Oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wVe=function(e,n){var r=da(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},$_=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,h=Math.asin(l/d)/Kw,g=u?a:a+s*h,y=tr(n,r,d,g),_=tr(n,r,i,g),v=u?a-s*h:a,b=tr(n,r,d*Math.cos(h*Kw),v);return{center:y,circleTangency:_,lineTangency:b,theta:h}},iie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=wVe(s,o),u=s+l,d=tr(n,r,a,s),h=tr(n,r,a,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var y=tr(n,r,i,s),_=tr(n,r,i,u);g+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},EVe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=da(d-u),g=$_({cx:n,cy:r,radius:a,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),y=g.circleTangency,_=g.lineTangency,v=g.theta,b=$_({cx:n,cy:r,radius:a,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:l}),E=b.circleTangency,N=b.lineTangency,C=b.theta,k=l?Math.abs(u-d):Math.abs(u-d)-v-C;if(k<0)return o?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):iie({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var O="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var I=$_({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=I.circleTangency,R=I.lineTangency,D=I.theta,L=$_({cx:n,cy:r,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=L.circleTangency,B=L.lineTangency,F=L.theta,re=l?Math.abs(u-d):Math.abs(u-d)-D-F;if(re<0&&s===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(re>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},SVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aie=function(e){var n=mz(mz({},SVe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,g=n.className;if(s<a||d===h)return null;var y=Pt("recharts-sector",g),_=s-a,v=ha(o,_,0,!0),b;return v>0&&Math.abs(d-h)<360?b=EVe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):b=iie({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:h}),ae.createElement("path",TD({},ft(n,!0),{className:y,d:b,role:"img"}))};function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function AD(){return AD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AD.apply(this,arguments)}function gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(n),!0).forEach(function(r){TVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TVe(t,e,n){return e=AVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AVe(t){var e=CVe(t,"string");return Py(e)=="symbol"?e:e+""}function CVe(t,e){if(Py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yz={curveBasisClosed:G4e,curveBasisOpen:K4e,curveBasis:W4e,curveBumpX:I4e,curveBumpY:D4e,curveLinearClosed:Y4e,curveLinear:HS,curveMonotoneX:X4e,curveMonotoneY:Q4e,curveNatural:Z4e,curveStep:J4e,curveStepAfter:tLe,curveStepBefore:eLe},V_=function(e){return e.x===+e.x&&e.y===+e.y},Vg=function(e){return e.x},Ug=function(e){return e.y},NVe=function(e,n){if(xt(e))return e;var r="curve".concat(VS(e));return(r==="curveMonotone"||r==="curveBump")&&n?yz["".concat(r).concat(n==="vertical"?"Y":"X")]:yz[r]||HS},OVe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=NVe(r,o),h=u?a.filter(function(v){return V_(v)}):a,g;if(Array.isArray(s)){var y=u?s.filter(function(v){return V_(v)}):s,_=h.map(function(v,b){return vz(vz({},v),{},{base:y[b]})});return o==="vertical"?g=I_().y(Ug).x1(Vg).x0(function(v){return v.base.x}):g=I_().x(Vg).y1(Ug).y0(function(v){return v.base.y}),g.defined(V_).curve(d),g(_)}return o==="vertical"&&We(s)?g=I_().y(Ug).x1(Vg).x0(s):We(s)?g=I_().x(Vg).y1(Ug).y0(s):g=rne().x(Vg).y(Ug),g.defined(V_).curve(d),g(h)},Du=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?OVe(e):i;return ae.createElement("path",AD({},ft(e,!1),Ew(e),{className:Pt("recharts-curve",n),d:s,ref:a}))},WP={exports:{}},GP,xz;function PVe(){if(xz)return GP;xz=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return GP=t,GP}var KP,bz;function RVe(){if(bz)return KP;bz=1;var t=PVe();function e(){}function n(){}return n.resetWarningCache=e,KP=function(){function r(s,o,l,u,d,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},KP}var _z;function IVe(){return _z||(_z=1,WP.exports=RVe()()),WP.exports}var DVe=IVe();const Pn=Rn(DVe);var kVe=Object.getOwnPropertyNames,jVe=Object.getOwnPropertySymbols,MVe=Object.prototype.hasOwnProperty;function wz(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function U_(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Ez(t){return kVe(t).concat(jVe(t))}var LVe=Object.hasOwn||function(t,e){return MVe.call(t,e)};function fh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var FVe="__v",BVe="__o",$Ve="_owner",Sz=Object.getOwnPropertyDescriptor,Tz=Object.keys;function VVe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function UVe(t,e){return fh(t.getTime(),e.getTime())}function HVe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zVe(t,e){return t===e}function Az(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,h=0;(o=u.next())&&!o.done;){if(i[h]){h++;continue}var g=s.value,y=o.value;if(n.equals(g[0],y[0],l,h,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}var qVe=fh;function WVe(t,e,n){var r=Tz(t),i=r.length;if(Tz(e).length!==i)return!1;for(;i-- >0;)if(!sie(t,e,n,r[i]))return!1;return!0}function Hg(t,e,n){var r=Ez(t),i=r.length;if(Ez(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],!sie(t,e,n,a)||(s=Sz(t,a),o=Sz(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function GVe(t,e){return fh(t.valueOf(),e.valueOf())}function KVe(t,e){return t.source===e.source&&t.flags===e.flags}function Cz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function YVe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function XVe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function sie(t,e,n,r){return(r===$Ve||r===BVe||r===FVe)&&(t.$$typeof||e.$$typeof)?!0:LVe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var QVe="[object Arguments]",ZVe="[object Boolean]",JVe="[object Date]",e9e="[object Error]",t9e="[object Map]",n9e="[object Number]",r9e="[object Object]",i9e="[object RegExp]",a9e="[object Set]",s9e="[object String]",o9e="[object URL]",l9e=Array.isArray,Nz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Oz=Object.assign,c9e=Object.prototype.toString.call.bind(Object.prototype.toString);function u9e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(_,v,b){if(_===v)return!0;if(_==null||v==null)return!1;var E=typeof _;if(E!==typeof v)return!1;if(E!=="object")return E==="number"?s(_,v,b):E==="function"?i(_,v,b):!1;var N=_.constructor;if(N!==v.constructor)return!1;if(N===Object)return o(_,v,b);if(l9e(_))return e(_,v,b);if(Nz!=null&&Nz(_))return h(_,v,b);if(N===Date)return n(_,v,b);if(N===RegExp)return u(_,v,b);if(N===Map)return a(_,v,b);if(N===Set)return d(_,v,b);var C=c9e(_);return C===JVe?n(_,v,b):C===i9e?u(_,v,b):C===t9e?a(_,v,b):C===a9e?d(_,v,b):C===r9e?typeof _.then!="function"&&typeof v.then!="function"&&o(_,v,b):C===o9e?g(_,v,b):C===e9e?r(_,v,b):C===QVe?o(_,v,b):C===ZVe||C===n9e||C===s9e?l(_,v,b):!1}}function f9e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Hg:VVe,areDatesEqual:UVe,areErrorsEqual:HVe,areFunctionsEqual:zVe,areMapsEqual:r?wz(Az,Hg):Az,areNumbersEqual:qVe,areObjectsEqual:r?Hg:WVe,arePrimitiveWrappersEqual:GVe,areRegExpsEqual:KVe,areSetsEqual:r?wz(Cz,Hg):Cz,areTypedArraysEqual:r?Hg:YVe,areUrlsEqual:XVe};if(n&&(i=Oz({},i,n(i))),e){var a=U_(i.areArraysEqual),s=U_(i.areMapsEqual),o=U_(i.areObjectsEqual),l=U_(i.areSetsEqual);i=Oz({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function d9e(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function h9e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var d=r(),h=d.cache,g=h===void 0?e?new WeakMap:void 0:h,y=d.meta;return n(l,u,{cache:g,equals:i,meta:y,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,s)}}var p9e=yf();yf({strict:!0});yf({circular:!0});yf({circular:!0,strict:!0});yf({createInternalComparator:function(){return fh}});yf({strict:!0,createInternalComparator:function(){return fh}});yf({circular:!0,createInternalComparator:function(){return fh}});yf({circular:!0,createInternalComparator:function(){return fh},strict:!0});function yf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=f9e(t),l=u9e(o),u=r?r(l):d9e(l);return h9e({circular:n,comparator:l,createState:i,equals:u,strict:s})}function m9e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Pz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):m9e(i)};requestAnimationFrame(r)}function CD(t){"@babel/helpers - typeof";return CD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CD(t)}function g9e(t){return b9e(t)||x9e(t)||y9e(t)||v9e()}function v9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y9e(t,e){if(t){if(typeof t=="string")return Rz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rz(t,e)}}function Rz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b9e(t){if(Array.isArray(t))return t}function _9e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=g9e(s),l=o[0],u=o.slice(1);if(typeof l=="number"){Pz(i.bind(null,u),l);return}i(l),Pz(i.bind(null,u));return}CD(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function Iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(n),!0).forEach(function(r){oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oie(t,e,n){return e=w9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w9e(t){var e=E9e(t,"string");return Ry(e)==="symbol"?e:String(e)}function E9e(t,e){if(Ry(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ry(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S9e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},T9e=function(e){return e},A9e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},_v=function(e,n){return Object.keys(n).reduce(function(r,i){return Dz(Dz({},r),{},oie({},i,e(i,n[i])))},{})},kz=function(e,n,r){return e.map(function(i){return"".concat(A9e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function C9e(t,e){return P9e(t)||O9e(t,e)||lie(t,e)||N9e()}function N9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function P9e(t){if(Array.isArray(t))return t}function R9e(t){return k9e(t)||D9e(t)||lie(t)||I9e()}function I9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(t,e){if(t){if(typeof t=="string")return ND(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ND(t,e)}}function D9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k9e(t){if(Array.isArray(t))return ND(t)}function ND(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xw=1e-4,cie=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},uie=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},jz=function(e,n){return function(r){var i=cie(e,n);return uie(i,r)}},j9e=function(e,n){return function(r){var i=cie(e,n),a=[].concat(R9e(i.map(function(s,o){return s*o}).slice(1)),[0]);return uie(a,r)}},Mz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=C9e(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var h=jz(i,s),g=jz(a,o),y=j9e(i,s),_=function(E){return E>1?1:E<0?0:E},v=function(E){for(var N=E>1?1:E,C=N,k=0;k<8;++k){var O=h(C)-N,I=y(C);if(Math.abs(O-N)<Xw||I<Xw)return g(C);C=_(C-O/I)}return g(C)};return v.isStepper=!1,v},M9e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,h,g){var y=-(d-h)*r,_=g*a,v=g+(y-_)*o/1e3,b=g*o/1e3+d;return Math.abs(b-h)<Xw&&Math.abs(v)<Xw?[h,0]:[b,v]};return l.isStepper=!0,l.dt=o,l},L9e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mz(i);case"spring":return M9e();default:if(i.split("(")[0]==="cubic-bezier")return Mz(i)}return typeof i=="function"?i:null};function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function Lz(t){return $9e(t)||B9e(t)||fie(t)||F9e()}function F9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $9e(t){if(Array.isArray(t))return PD(t)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){OD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OD(t,e,n){return e=V9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V9e(t){var e=U9e(t,"string");return Iy(e)==="symbol"?e:String(e)}function U9e(t,e){if(Iy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H9e(t,e){return W9e(t)||q9e(t,e)||fie(t,e)||z9e()}function z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(t,e){if(t){if(typeof t=="string")return PD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PD(t,e)}}function PD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function W9e(t){if(Array.isArray(t))return t}var Qw=function(e,n,r){return e+(n-e)*r},RD=function(e){var n=e.from,r=e.to;return n!==r},G9e=function t(e,n,r){var i=_v(function(a,s){if(RD(s)){var o=e(s.from,s.to,s.velocity),l=H9e(o,2),u=l[0],d=l[1];return Di(Di({},s),{},{from:u,velocity:d})}return s},n);return r<1?_v(function(a,s){return RD(s)?Di(Di({},s),{},{velocity:Qw(s.velocity,i[a].velocity,r),from:Qw(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const K9e=function(t,e,n,r,i){var a=S9e(t,e),s=a.reduce(function(b,E){return Di(Di({},b),{},OD({},E,[t[E],e[E]]))},{}),o=a.reduce(function(b,E){return Di(Di({},b),{},OD({},E,{from:t[E],velocity:0,to:e[E]}))},{}),l=-1,u,d,h=function(){return null},g=function(){return _v(function(E,N){return N.from},o)},y=function(){return!Object.values(o).filter(RD).length},_=function(E){u||(u=E);var N=E-u,C=N/n.dt;o=G9e(n,o,C),i(Di(Di(Di({},t),e),g())),u=E,y()||(l=requestAnimationFrame(h))},v=function(E){d||(d=E);var N=(E-d)/r,C=_v(function(O,I){return Qw.apply(void 0,Lz(I).concat([n(N)]))},s);if(i(Di(Di(Di({},t),e),C)),N<1)l=requestAnimationFrame(h);else{var k=_v(function(O,I){return Qw.apply(void 0,Lz(I).concat([n(1)]))},s);i(Di(Di(Di({},t),e),k))}};return h=n.isStepper?_:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}var Y9e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function X9e(t,e){if(t==null)return{};var n=Q9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YP(t){return tUe(t)||eUe(t)||J9e(t)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9e(t,e){if(t){if(typeof t=="string")return ID(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ID(t,e)}}function eUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tUe(t){if(Array.isArray(t))return ID(t)}function ID(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bz(Object(n),!0).forEach(function(r){tv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tv(t,e,n){return e=die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,die(r.key),r)}}function iUe(t,e,n){return e&&rUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function die(t){var e=aUe(t,"string");return Tm(e)==="symbol"?e:String(e)}function aUe(t,e){if(Tm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DD(t,e)}function DD(t,e){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DD(t,e)}function oUe(t){var e=lUe();return function(){var r=Zw(t),i;if(e){var a=Zw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return kD(this,i)}}function kD(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jD(t)}function jD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zw(t){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zw(t)}var ks=function(t){sUe(n,t);var e=oUe(n);function n(r,i){var a;nUe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,h=s.steps,g=s.children,y=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(jD(a)),a.changeStyle=a.changeStyle.bind(jD(a)),!o||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:d}),kD(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof g=="function")return a.state={style:u},kD(a);a.state={style:l?tv({},l,u):u}}else a.state={style:{}};return a}return iUe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,g=this.state.style;if(o){if(!s){var y={style:l?tv({},l,d):d};this.state&&g&&(l&&g[l]!==d||!l&&g!==d)&&this.setState(y);return}if(!(p9e(i.to,d)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=_||u?h:i.to;if(this.state&&g){var b={style:l?tv({},l,v):v};(l&&g[l]!==v||!l&&g!==v)&&this.setState(b)}this.runAnimation(qs(qs({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,y=K9e(s,o,L9e(u),l,this.changeStyle),_=function(){a.stopJSAnimation=y()};this.manager.start([g,d,_,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,h=u.duration,g=h===void 0?0:h,y=function(v,b,E){if(E===0)return v;var N=b.duration,C=b.easing,k=C===void 0?"ease":C,O=b.style,I=b.properties,A=b.onAnimationEnd,R=E>0?s[E-1]:b,D=I||Object.keys(O);if(typeof k=="function"||k==="spring")return[].concat(YP(v),[a.runJSAnimation.bind(a,{from:R.style,to:O,duration:N,easing:k}),N]);var L=kz(D,N,k),j=qs(qs(qs({},R.style),O),{},{transition:L});return[].concat(YP(v),[j,N,A]).filter(T9e)};return this.manager.start([l].concat(YP(s.reduce(y,[d,Math.max(g,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_9e());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,y=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var v=o?tv({},o,l):l,b=kz(Object.keys(v),s,u);_.start([d,a,qs(qs({},v),{},{transition:b}),s,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=X9e(i,Y9e),u=T.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var h=function(y){var _=y.props,v=_.style,b=v===void 0?{}:v,E=_.className,N=T.cloneElement(y,qs(qs({},l),{},{style:qs(qs({},b),d),className:E}));return N};return u===1?h(T.Children.only(a)):ae.createElement("div",null,T.Children.map(a,function(g){return h(g)}))}}]),n}(T.PureComponent);ks.displayName="Animate";ks.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ks.propTypes={from:Pn.oneOfType([Pn.object,Pn.string]),to:Pn.oneOfType([Pn.object,Pn.string]),attributeName:Pn.string,duration:Pn.number,begin:Pn.number,easing:Pn.oneOfType([Pn.string,Pn.func]),steps:Pn.arrayOf(Pn.shape({duration:Pn.number.isRequired,style:Pn.object.isRequired,easing:Pn.oneOfType([Pn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pn.func]),properties:Pn.arrayOf("string"),onAnimationEnd:Pn.func})),children:Pn.oneOfType([Pn.node,Pn.func]),isActive:Pn.bool,canBegin:Pn.bool,onAnimationEnd:Pn.func,shouldReAnimate:Pn.bool,onAnimationStart:Pn.func,onAnimationReStart:Pn.func};function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function cUe(t,e){return hUe(t)||dUe(t,e)||fUe(t,e)||uUe()}function uUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fUe(t,e){if(t){if(typeof t=="string")return $z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $z(t,e)}}function $z(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hUe(t){if(Array.isArray(t))return t}function Vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vz(Object(n),!0).forEach(function(r){pUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pUe(t,e,n){return e=mUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mUe(t){var e=gUe(t,"string");return Dy(e)=="symbol"?e:e+""}function gUe(t,e){if(Dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hz=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=a[g]>s?s:a[g];d="M".concat(e,",").concat(n+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),d+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*h[1])),d+="L ".concat(e+r,",").concat(n+i-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),d+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*h[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var _=Math.min(s,a);d="M ".concat(e,",").concat(n+o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(n,`
            L `).concat(e+r-l*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*_,`
            L `).concat(e+r,",").concat(n+i-o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r-l*_,",").concat(n+i,`
            L `).concat(e+l*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*_," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},vUe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),h=Math.min(s,s+l),g=Math.max(s,s+l);return r>=u&&r<=d&&i>=h&&i<=g}return!1},yUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cL=function(e){var n=Uz(Uz({},yUe),e),r=T.useRef(),i=T.useState(-1),a=cUe(i,2),s=a[0],o=a[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&o(k)}catch{}},[]);var l=n.x,u=n.y,d=n.width,h=n.height,g=n.radius,y=n.className,_=n.animationEasing,v=n.animationDuration,b=n.animationBegin,E=n.isAnimationActive,N=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var C=Pt("recharts-rectangle",y);return N?ae.createElement(ks,{canBegin:s>0,from:{width:d,height:h,x:l,y:u},to:{width:d,height:h,x:l,y:u},duration:v,animationEasing:_,isActive:N},function(k){var O=k.width,I=k.height,A=k.x,R=k.y;return ae.createElement(ks,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:E,easing:_},ae.createElement("path",Jw({},ft(n,!0),{className:C,d:Hz(A,R,O,I,g),ref:r})))}):ae.createElement("path",Jw({},ft(n,!0),{className:C,d:Hz(l,u,d,h,g)}))},xUe=["points","className","baseLinePoints","connectNulls"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function bUe(t,e){if(t==null)return{};var n=_Ue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zz(t){return TUe(t)||SUe(t)||EUe(t)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EUe(t,e){if(t){if(typeof t=="string")return MD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MD(t,e)}}function SUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TUe(t){if(Array.isArray(t))return MD(t)}function MD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qz=function(e){return e&&e.x===+e.x&&e.y===+e.y},AUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){qz(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),qz(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wv=function(e,n){var r=AUe(e);n&&(r=[r.reduce(function(a,s){return[].concat(zz(a),zz(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},CUe=function(e,n,r){var i=wv(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(wv(n.reverse(),r).slice(1))},NUe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=bUe(e,xUe);if(!n||!n.length)return null;var o=Pt("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=CUe(n,i,a);return ae.createElement("g",{className:o},ae.createElement("path",Ep({},ft(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?ae.createElement("path",Ep({},ft(s,!0),{fill:"none",d:wv(n,a)})):null,l?ae.createElement("path",Ep({},ft(s,!0),{fill:"none",d:wv(i,a)})):null)}var d=wv(n,a);return ae.createElement("path",Ep({},ft(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function LD(){return LD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LD.apply(this,arguments)}var Dx=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Pt("recharts-dot",a);return n===+n&&r===+r&&i===+i?ae.createElement("circle",LD({},ft(e,!1),Ew(e),{className:s,cx:n,cy:r,r:i})):null};function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}var OUe=["x","y","top","left","width","height","className"];function FD(){return FD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FD.apply(this,arguments)}function Wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(n),!0).forEach(function(r){RUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RUe(t,e,n){return e=IUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IUe(t){var e=DUe(t,"string");return ky(e)=="symbol"?e:e+""}function DUe(t,e){if(ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kUe(t,e){if(t==null)return{};var n=jUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MUe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},LUe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,h=d===void 0?0:d,g=e.height,y=g===void 0?0:g,_=e.className,v=kUe(e,OUe),b=PUe({x:r,y:a,top:o,left:u,width:h,height:y},v);return!We(r)||!We(a)||!We(h)||!We(y)||!We(o)||!We(u)?null:ae.createElement("path",FD({},ft(b,!0),{className:Pt("recharts-cross",_),d:MUe(r,a,h,y,o,u)}))},XP,Gz;function FUe(){if(Gz)return XP;Gz=1;var t=tT(),e=Cre(),n=sl();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return XP=r,XP}var BUe=FUe();const $Ue=Rn(BUe);var QP,Kz;function VUe(){if(Kz)return QP;Kz=1;var t=tT(),e=sl(),n=Nre();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return QP=r,QP}var UUe=VUe();const HUe=Rn(UUe);var zUe=["cx","cy","angle","ticks","axisLine"],qUe=["ticks","tick","angle","tickFormatter","stroke"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function Yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(n),!0).forEach(function(r){aT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xz(t,e){if(t==null)return{};var n=WUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pie(r.key),r)}}function KUe(t,e,n){return e&&Qz(t.prototype,e),n&&Qz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YUe(t,e,n){return e=eE(e),XUe(t,hie()?Reflect.construct(e,n||[],eE(t).constructor):e.apply(t,n))}function XUe(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QUe(t)}function QUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hie=function(){return!!t})()}function eE(t){return eE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eE(t)}function ZUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BD(t,e)}function BD(t,e){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BD(t,e)}function aT(t,e,n){return e=pie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=JUe(t,"string");return Am(e)=="symbol"?e:e+""}function JUe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sT=function(t){function e(){return GUe(this,e),YUe(this,e,arguments)}return ZUe(e,t),KUe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return tr(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=$Ue(o,function(d){return d.coordinate||0}),u=HUe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,u=Xz(r,zUe),d=o.reduce(function(_,v){return[Math.min(_[0],v.coordinate),Math.max(_[1],v.coordinate)]},[1/0,-1/0]),h=tr(i,a,d[0],s),g=tr(i,a,d[1],s),y=Xf(Xf(Xf({},ft(u,!1)),{},{fill:"none"},ft(l,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return ae.createElement("line",Ev({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,d=Xz(i,qUe),h=this.getTickTextAnchor(),g=ft(d,!1),y=ft(s,!1),_=a.map(function(v,b){var E=r.getTickValueCoord(v),N=Xf(Xf(Xf(Xf({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(E.x,", ").concat(E.y,")")},g),{},{stroke:"none",fill:u},y),{},{index:b},E),{},{payload:v});return ae.createElement(jt,Ev({className:Pt("recharts-polar-radius-axis-tick",nie(s)),key:"tick-".concat(v.coordinate)},nf(r.props,v,b)),e.renderTickItem(s,N,l?l(v.value,b):v.value))});return ae.createElement(jt,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:ae.createElement(jt,{className:Pt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),_i.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return ae.isValidElement(r)?s=ae.cloneElement(r,i):xt(r)?s=r(i):s=ae.createElement(jd,Ev({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(T.PureComponent);aT(sT,"displayName","PolarRadiusAxis");aT(sT,"axisType","radiusAxis");aT(sT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}function Zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(n),!0).forEach(function(r){oT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gie(r.key),r)}}function t7e(t,e,n){return e&&Jz(t.prototype,e),n&&Jz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n7e(t,e,n){return e=tE(e),r7e(t,mie()?Reflect.construct(e,n||[],tE(t).constructor):e.apply(t,n))}function r7e(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i7e(t)}function i7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mie=function(){return!!t})()}function tE(t){return tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tE(t)}function a7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$D(t,e)}function $D(t,e){return $D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$D(t,e)}function oT(t,e,n){return e=gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=s7e(t,"string");return Cm(e)=="symbol"?e:e+""}function s7e(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o7e=Math.PI/180,l7e=1e-5,lT=function(t){function e(){return e7e(this,e),n7e(this,e,arguments)}return a7e(e,t),t7e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,d=u||8,h=tr(a,s,o,r.coordinate),g=tr(a,s,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*o7e),s;return a>l7e?s=i==="outer"?"start":"end":a<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,u=Qf(Qf({},ft(this.props,!1)),{},{fill:"none"},ft(o,!1));if(l==="circle")return ae.createElement(Dx,id({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,h=d.map(function(g){return tr(i,a,s,g.coordinate)});return ae.createElement(NUe,id({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,d=ft(this.props,!1),h=ft(s,!1),g=Qf(Qf({},d),{},{fill:"none"},ft(o,!1)),y=a.map(function(_,v){var b=r.getTickLineCoord(_),E=r.getTickTextAnchor(_),N=Qf(Qf(Qf({textAnchor:E},d),{},{stroke:"none",fill:u},h),{},{index:v,payload:_,x:b.x2,y:b.y2});return ae.createElement(jt,id({className:Pt("recharts-polar-angle-axis-tick",nie(s)),key:"tick-".concat(_.coordinate)},nf(r.props,_,v)),o&&ae.createElement("line",id({className:"recharts-polar-angle-axis-tick-line"},g,b)),s&&e.renderTickItem(s,N,l?l(_.value,v):_.value))});return ae.createElement(jt,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:ae.createElement(jt,{className:Pt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return ae.isValidElement(r)?s=ae.cloneElement(r,i):xt(r)?s=r(i):s=ae.createElement(jd,id({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(T.PureComponent);oT(lT,"displayName","PolarAngleAxis");oT(lT,"axisType","angleAxis");oT(lT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ZP,eq;function c7e(){if(eq)return ZP;eq=1;var t=Ane(),e=t(Object.getPrototypeOf,Object);return ZP=e,ZP}var JP,tq;function u7e(){if(tq)return JP;tq=1;var t=bc(),e=c7e(),n=_c(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var g=o.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==l}return JP=u,JP}var f7e=u7e();const d7e=Rn(f7e);var eR,nq;function h7e(){if(nq)return eR;nq=1;var t=bc(),e=_c(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return eR=r,eR}var p7e=h7e();const m7e=Rn(p7e);function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function g7e(t,e){return b7e(t)||x7e(t,e)||y7e(t,e)||v7e()}function v7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7e(t,e){if(t){if(typeof t=="string")return rq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rq(t,e)}}function rq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function b7e(t){if(Array.isArray(t))return t}function iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iq(Object(n),!0).forEach(function(r){_7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _7e(t,e,n){return e=w7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w7e(t){var e=E7e(t,"string");return jy(e)=="symbol"?e:e+""}function E7e(t,e){if(jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sq=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},S7e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T7e=function(e){var n=aq(aq({},S7e),e),r=T.useRef(),i=T.useState(-1),a=g7e(i,2),s=a[0],o=a[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&o(C)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,g=n.height,y=n.className,_=n.animationEasing,v=n.animationDuration,b=n.animationBegin,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||g!==+g||d===0&&h===0||g===0)return null;var N=Pt("recharts-trapezoid",y);return E?ae.createElement(ks,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:l,y:u},to:{upperWidth:d,lowerWidth:h,height:g,x:l,y:u},duration:v,animationEasing:_,isActive:E},function(C){var k=C.upperWidth,O=C.lowerWidth,I=C.height,A=C.x,R=C.y;return ae.createElement(ks,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:_},ae.createElement("path",nE({},ft(n,!0),{className:N,d:sq(A,R,k,O,I),ref:r})))}):ae.createElement("g",null,ae.createElement("path",nE({},ft(n,!0),{className:N,d:sq(l,u,d,h,g)})))},A7e=["option","shapeType","propTransformer","activeClassName","isActive"];function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function C7e(t,e){if(t==null)return{};var n=N7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oq(Object(n),!0).forEach(function(r){O7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O7e(t,e,n){return e=P7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P7e(t){var e=R7e(t,"string");return My(e)=="symbol"?e:e+""}function R7e(t,e){if(My(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(My(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I7e(t,e){return rE(rE({},e),t)}function D7e(t,e){return t==="symbols"}function lq(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ae.createElement(cL,n);case"trapezoid":return ae.createElement(T7e,n);case"sector":return ae.createElement(aie,n);case"symbols":if(D7e(e))return ae.createElement(qS,n);break;default:return null}}function k7e(t){return T.isValidElement(t)?t.props:t}function iE(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?I7e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=C7e(t,A7e),u;if(T.isValidElement(e))u=T.cloneElement(e,rE(rE({},l),k7e(e)));else if(xt(e))u=e(l);else if(d7e(e)&&!m7e(e)){var d=i(e,l);u=ae.createElement(lq,{shapeType:n,elementProps:d})}else{var h=l;u=ae.createElement(lq,{shapeType:n,elementProps:h})}return o?ae.createElement(jt,{className:s},u):u}function cT(t,e){return e!=null&&"trapezoids"in t.props}function uT(t,e){return e!=null&&"sectors"in t.props}function Ly(t,e){return e!=null&&"points"in t.props}function j7e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function M7e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function L7e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function F7e(t,e){var n;return cT(t,e)?n=j7e:uT(t,e)?n=M7e:Ly(t,e)&&(n=L7e),n}function B7e(t,e){var n;return cT(t,e)?n="trapezoids":uT(t,e)?n="sectors":Ly(t,e)&&(n="points"),n}function $7e(t,e){if(cT(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(uT(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ly(t,e)?e.payload:{}}function V7e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=B7e(n,e),a=$7e(n,e),s=r.filter(function(l,u){var d=rf(a,l),h=n.props[i].filter(function(_){var v=F7e(n,e);return v(_,e)}),g=n.props[i].indexOf(h[h.length-1]),y=u===g;return d&&y}),o=r.indexOf(s[s.length-1]);return o}var f1;function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(n),!0).forEach(function(r){Ns(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yie(r.key),r)}}function H7e(t,e,n){return e&&uq(t.prototype,e),n&&uq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z7e(t,e,n){return e=aE(e),q7e(t,vie()?Reflect.construct(e,n||[],aE(t).constructor):e.apply(t,n))}function q7e(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W7e(t)}function W7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vie=function(){return!!t})()}function aE(t){return aE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aE(t)}function G7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VD(t,e)}function VD(t,e){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VD(t,e)}function Ns(t,e,n){return e=yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=K7e(t,"string");return Nm(e)=="symbol"?e:e+""}function K7e(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sc=function(t){function e(n){var r;return U7e(this,e),r=z7e(this,e,[n]),Ns(r,"pieRef",null),Ns(r,"sectorRefs",[]),Ns(r,"id",mf("recharts-pie-")),Ns(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),xt(i)&&i()}),Ns(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),xt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return G7e(e,t),H7e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,d=ft(this.props,!1),h=ft(s,!1),g=ft(o,!1),y=s&&s.offsetRadius||20,_=r.map(function(v,b){var E=(v.startAngle+v.endAngle)/2,N=tr(v.cx,v.cy,v.outerRadius+y,E),C=Zn(Zn(Zn(Zn({},d),v),{},{stroke:"none"},h),{},{index:b,textAnchor:e.getTextAnchor(N.x,v.cx)},N),k=Zn(Zn(Zn(Zn({},d),v),{},{fill:"none",stroke:v.fill},g),{},{index:b,points:[tr(v.cx,v.cy,v.outerRadius,E),N]}),O=l;return bt(l)&&bt(u)?O="value":bt(l)&&(O=u),ae.createElement(jt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,k,"line"),e.renderLabelItem(s,C,sr(v,O)))});return ae.createElement(jt,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(d),g=l&&i.hasActiveIndex()?l:null,y=h?s:g,_=Zn(Zn({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return ae.createElement(jt,Sp({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},nf(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ae.createElement(iE,Sp({option:y,isActive:h,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,g=h.prevSectors,y=h.prevIsAnimationActive;return ae.createElement(ks,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var v=_.t,b=[],E=a&&a[0],N=E.startAngle;return a.forEach(function(C,k){var O=g&&g[k],I=k>0?ns(C,"paddingAngle",0):0;if(O){var A=gr(O.endAngle-O.startAngle,C.endAngle-C.startAngle),R=Zn(Zn({},C),{},{startAngle:N+I,endAngle:N+A(v)+I});b.push(R),N=R.endAngle}else{var D=C.endAngle,L=C.startAngle,j=gr(0,D-L),B=j(v),F=Zn(Zn({},C),{},{startAngle:N+I,endAngle:N+B+I});b.push(F),N=F.endAngle}}),ae.createElement(jt,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!rf(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,d=i.cy,h=i.innerRadius,g=i.outerRadius,y=i.isAnimationActive,_=this.state.isAnimationFinished;if(a||!s||!s.length||!We(u)||!We(d)||!We(h)||!We(g))return null;var v=Pt("recharts-pie",o);return ae.createElement(jt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(E){r.pieRef=E}},this.renderSectors(),l&&this.renderLabels(s),_i.renderCallByParent(this.props,null,!1),(!y||_)&&oo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(ae.isValidElement(r))return ae.cloneElement(r,i);if(xt(r))return r(i);var s=Pt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ae.createElement(Du,Sp({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(ae.isValidElement(r))return ae.cloneElement(r,i);var s=a;if(xt(r)&&(s=r(i),ae.isValidElement(s)))return s;var o=Pt("recharts-pie-label-text",typeof r!="boolean"&&!xt(r)?r.className:"");return ae.createElement(jd,Sp({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(T.PureComponent);f1=Sc;Ns(Sc,"displayName","Pie");Ns(Sc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ns(Sc,"parseDeltaAngle",function(t,e){var n=da(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ns(Sc,"getRealPieData",function(t){var e=t.data,n=t.children,r=ft(t,!1),i=va(n,Nx);return e&&e.length?e.map(function(a,s){return Zn(Zn(Zn({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Zn(Zn({},r),a.props)}):[]});Ns(Sc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=tie(i,a),o=r+ha(t.cx,i,i/2),l=n+ha(t.cy,a,a/2),u=ha(t.innerRadius,s,0),d=ha(t.outerRadius,s,s*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:d,maxRadius:h}});Ns(Sc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Zn(Zn({},e.type.defaultProps),e.props):e.props,i=f1.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,h=r.valueKey,g=r.tooltipType,y=Math.abs(r.minAngle),_=f1.parseCoordinateOfPie(r,n),v=f1.parseDeltaAngle(s,o),b=Math.abs(v),E=u;bt(u)&&bt(h)?(so(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):bt(u)&&(so(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=h);var N=i.filter(function(R){return sr(R,E,0)!==0}).length,C=(b>=360?N:N-1)*l,k=b-N*y-C,O=i.reduce(function(R,D){var L=sr(D,E,0);return R+(We(L)?L:0)},0),I;if(O>0){var A;I=i.map(function(R,D){var L=sr(R,E,0),j=sr(R,d,D),B=(We(L)?L:0)/O,F;D?F=A.endAngle+da(v)*l*(L!==0?1:0):F=s;var re=F+da(v)*((L!==0?y:0)+B*k),q=(F+re)/2,V=(_.innerRadius+_.outerRadius)/2,X=[{name:j,value:L,payload:R,dataKey:E,type:g}],Q=tr(_.cx,_.cy,V,q);return A=Zn(Zn(Zn({percent:B,cornerRadius:a,name:j,tooltipPayload:X,midAngle:q,middleRadius:V,tooltipPosition:Q},R),_),{},{value:sr(R,E),startAngle:F,endAngle:re,payload:R,paddingAngle:da(v)*l}),A})}return Zn(Zn({},_),{},{sectors:I,data:i})});var tR,fq;function Y7e(){if(fq)return tR;fq=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var o=-1,l=e(t((i-r)/(a||1)),0),u=Array(l);l--;)u[s?l:++o]=r,r+=a;return u}return tR=n,tR}var nR,dq;function xie(){if(dq)return nR;dq=1;var t=Une(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*n}return i===i?i:0}return nR=r,nR}var rR,hq;function X7e(){if(hq)return rR;hq=1;var t=Y7e(),e=KS(),n=xie();function r(i){return function(a,s,o){return o&&typeof o!="number"&&e(a,s,o)&&(s=o=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),o=o===void 0?a<s?1:-1:n(o),t(a,s,o,i)}}return rR=r,rR}var iR,pq;function Q7e(){if(pq)return iR;pq=1;var t=X7e(),e=t();return iR=e,iR}var Z7e=Q7e();const sE=Rn(Z7e);function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function mq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return e=J7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J7e(t){var e=eHe(t,"string");return Fy(e)=="symbol"?e:e+""}function eHe(t,e){if(Fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tHe=["Webkit","Moz","O","ms"],nHe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=tHe.reduce(function(a,s){return gq(gq({},a),{},bie({},s+r,n))},{});return i[e]=n,i};function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(n),!0).forEach(function(r){Va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wie(r.key),r)}}function iHe(t,e,n){return e&&yq(t.prototype,e),n&&yq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aHe(t,e,n){return e=lE(e),sHe(t,_ie()?Reflect.construct(e,n||[],lE(t).constructor):e.apply(t,n))}function sHe(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oHe(t)}function oHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ie=function(){return!!t})()}function lE(t){return lE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lE(t)}function lHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UD(t,e)}function UD(t,e){return UD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UD(t,e)}function Va(t,e,n){return e=wie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=cHe(t,"string");return Om(e)=="symbol"?e:e+""}function cHe(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uHe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xv().domain(sE(0,l)).range([a,a+s-o]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},xq=function(e){return e.changedTouches&&!!e.changedTouches.length},Pm=function(t){function e(n){var r;return rHe(this,e),r=aHe(this,e,[n]),Va(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Va(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Va(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Va(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Va(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Va(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Va(r,"handleSlideDragStart",function(i){var a=xq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lHe(e,t),iHe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,h=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(s,h),_=e.getIndexInRange(s,g);return{startIndex:y-y%l,endIndex:_===d?d:_-_%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=sr(a[r],o,r);return xt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,h=l.travellerWidth,g=l.startIndex,y=l.endIndex,_=l.onChange,v=r.pageX-a;v>0?v=Math.min(v,u+d-h-o,u+d-h-s):v<0&&(v=Math.max(v,u-s,u-o));var b=this.getIndex({startX:s+v,endX:o+v});(b.startIndex!==g||b.endIndex!==y)&&_&&_(b),this.setState({startX:s+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=xq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,h=d.x,g=d.width,y=d.travellerWidth,_=d.onChange,v=d.gap,b=d.data,E={startX:this.state.startX,endX:this.state.endX},N=r.pageX-a;N>0?N=Math.min(N,h+g-y-u):N<0&&(N=Math.max(N,h-u)),E[s]=u+N;var C=this.getIndex(E),k=C.startIndex,O=C.endIndex,I=function(){var R=b.length-1;return s==="startX"&&(o>l?k%v===0:O%v===0)||o<l&&O===R||s==="endX"&&(o>l?O%v===0:k%v===0)||o>l&&O===R};this.setState(Va(Va({},s,u+N),"brushMoveStartX",r.pageX),function(){_&&I()&&_(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],h=o.indexOf(d);if(h!==-1){var g=h+r;if(!(g===-1||g>=o.length)){var y=o[g];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Va({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return ae.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,d=r.padding,h=T.Children.only(u);return h?ae.cloneElement(h,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,h=l.height,g=l.traveller,y=l.ariaLabel,_=l.data,v=l.startIndex,b=l.endIndex,E=Math.max(r,this.props.x),N=aR(aR({},ft(this.props,!1)),{},{x:E,y:u,width:d,height:h}),C=y||"Min value: ".concat((a=_[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=_[b])===null||s===void 0?void 0:s.name);return ae.createElement(jt,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),o.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,N))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:h,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,g=d.endX,y=5,_={pointerEvents:"none",fill:u};return ae.createElement(jt,{className:"recharts-brush-texts"},ae.createElement(jd,oE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-y,y:s+o/2},_),this.getTextOfTick(i)),ae.createElement(jd,oE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+l+y,y:s+o/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,d=r.height,h=r.alwaysShowText,g=this.state,y=g.startX,_=g.endX,v=g.isTextActive,b=g.isSlideMoving,E=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!We(o)||!We(l)||!We(u)||!We(d)||u<=0||d<=0)return null;var C=Pt("recharts-brush",a),k=ae.Children.count(s)===1,O=nHe("userSelect","none");return ae.createElement(jt,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(y,_),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(_,"endX"),(v||b||E||N||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ae.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ae.isValidElement(r)?a=ae.cloneElement(r,i):xt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return aR({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?uHe({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(T.PureComponent);Va(Pm,"displayName","Brush");Va(Pm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sR,bq;function fHe(){if(bq)return sR;bq=1;var t=k4();function e(n,r){var i;return t(n,function(a,s,o){return i=r(a,s,o),!i}),!!i}return sR=e,sR}var oR,_q;function dHe(){if(_q)return oR;_q=1;var t=xne(),e=sl(),n=fHe(),r=Ra(),i=KS();function a(s,o,l){var u=r(s)?t:n;return l&&i(s,o,l)&&(o=void 0),u(s,e(o,3))}return oR=a,oR}var hHe=dHe();const pHe=Rn(hHe);var Xo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},lR,wq;function mHe(){if(wq)return lR;wq=1;var t=Lne();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return lR=e,lR}var cR,Eq;function gHe(){if(Eq)return cR;Eq=1;var t=mHe(),e=jne(),n=sl();function r(i,a){var s={};return a=n(a,3),e(i,function(o,l,u){t(s,l,a(o,l,u))}),s}return cR=r,cR}var vHe=gHe();const yHe=Rn(vHe);var uR,Sq;function xHe(){if(Sq)return uR;Sq=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return uR=t,uR}var fR,Tq;function bHe(){if(Tq)return fR;Tq=1;var t=k4();function e(n,r){var i=!0;return t(n,function(a,s,o){return i=!!r(a,s,o),i}),i}return fR=e,fR}var dR,Aq;function _He(){if(Aq)return dR;Aq=1;var t=xHe(),e=bHe(),n=sl(),r=Ra(),i=KS();function a(s,o,l){var u=r(s)?t:e;return l&&i(s,o,l)&&(o=void 0),u(s,n(o,3))}return dR=a,dR}var wHe=_He();const Eie=Rn(wHe);var EHe=["x","y"];function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function HD(){return HD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HD.apply(this,arguments)}function Cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(n),!0).forEach(function(r){SHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SHe(t,e,n){return e=THe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function THe(t){var e=AHe(t,"string");return By(e)=="symbol"?e:e+""}function AHe(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CHe(t,e){if(t==null)return{};var n=NHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OHe(t,e){var n=t.x,r=t.y,i=CHe(t,EHe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),g=parseInt(h,10);return zg(zg(zg(zg(zg({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function Nq(t){return ae.createElement(iE,HD({shapeType:"rectangle",propTransformer:OHe,activeClassName:"recharts-active-bar"},t))}var PHe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Ld(),n)}},RHe=["value","background"],Sie;function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function IHe(t,e){if(t==null)return{};var n=DHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(this,arguments)}function Oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(n),!0).forEach(function(r){xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aie(r.key),r)}}function jHe(t,e,n){return e&&Pq(t.prototype,e),n&&Pq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MHe(t,e,n){return e=uE(e),LHe(t,Tie()?Reflect.construct(e,n||[],uE(t).constructor):e.apply(t,n))}function LHe(t,e){if(e&&(Rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FHe(t)}function FHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tie=function(){return!!t})()}function uE(t){return uE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uE(t)}function BHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zD(t,e)}function zD(t,e){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zD(t,e)}function xu(t,e,n){return e=Aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t){var e=$He(t,"string");return Rm(e)=="symbol"?e:e+""}function $He(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ps=function(t){function e(){var n;kHe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=MHe(this,e,[].concat(i)),xu(n,"state",{isAnimationFinished:!1}),xu(n,"id",mf("recharts-bar-")),xu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),xu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return BHe(e,t),jHe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=ft(this.props,!1);return r&&r.map(function(h,g){var y=g===l,_=y?u:s,v=Fr(Fr(Fr({},d),h),{},{isActive:y,option:_,index:g,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ae.createElement(jt,cE({className:"recharts-bar-rectangle"},nf(i.props,h,g),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(g)}),ae.createElement(Nq,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,g=this.state.prevData;return ae.createElement(ks,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t,v=a.map(function(b,E){var N=g&&g[E];if(N){var C=gr(N.x,b.x),k=gr(N.y,b.y),O=gr(N.width,b.width),I=gr(N.height,b.height);return Fr(Fr({},b),{},{x:C(_),y:k(_),width:O(_),height:I(_)})}if(s==="horizontal"){var A=gr(0,b.height),R=A(_);return Fr(Fr({},b),{},{y:b.y+b.height-R,height:R})}var D=gr(0,b.width),L=D(_);return Fr(Fr({},b),{},{width:L})});return ae.createElement(jt,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!rf(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=ft(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,g=IHe(u,RHe);if(!h)return null;var y=Fr(Fr(Fr(Fr(Fr({},g),{},{fill:"#eee"},h),l),nf(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return ae.createElement(Nq,cE({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,h=va(d,T0);if(!h)return null;var g=u==="vertical"?s[0].height/2:s[0].width/2,y=function(b,E){var N=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:N,errorVal:sr(b,E)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ae.createElement(jt,_,h.map(function(v){return ae.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,d=r.top,h=r.width,g=r.height,y=r.isAnimationActive,_=r.background,v=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,E=Pt("recharts-bar",s),N=o&&o.allowDataOverflow,C=l&&l.allowDataOverflow,k=N||C,O=bt(v)?this.id:v;return ae.createElement(jt,{className:E},N||C?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(O)},ae.createElement("rect",{x:N?u:u-h/2,y:C?d:d-g/2,width:N?h:h*2,height:C?g:g*2}))):null,ae.createElement(jt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(O,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,O),(!y||b)&&oo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(T.PureComponent);Sie=Ps;xu(Ps,"displayName","Bar");xu(Ps,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xu(Ps,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,g=t.offset,y=p$e(r,n);if(!y)return null;var _=e.layout,v=n.type.defaultProps,b=v!==void 0?Fr(Fr({},v),n.props):n.props,E=b.dataKey,N=b.children,C=b.minPointSize,k=_==="horizontal"?s:a,O=u?k.scale.domain():null,I=_$e({numericAxis:k}),A=va(N,Nx),R=h.map(function(D,L){var j,B,F,re,q,V;u?j=m$e(u[d+L],O):(j=sr(D,E),Array.isArray(j)||(j=[I,j]));var X=PHe(C,Sie.defaultProps.minPointSize)(j[1],L);if(_==="horizontal"){var Q,ie=[s.scale(j[0]),s.scale(j[1])],W=ie[0],ce=ie[1];B=nz({axis:a,ticks:o,bandSize:i,offset:y.offset,entry:D,index:L}),F=(Q=ce??W)!==null&&Q!==void 0?Q:void 0,re=y.size;var z=W-ce;if(q=Number.isNaN(z)?0:z,V={x:B,y:s.y,width:re,height:s.height},Math.abs(X)>0&&Math.abs(q)<Math.abs(X)){var Y=da(q||X)*(Math.abs(X)-Math.abs(q));F-=Y,q+=Y}}else{var K=[a.scale(j[0]),a.scale(j[1])],J=K[0],fe=K[1];if(B=J,F=nz({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:D,index:L}),re=fe-J,q=y.size,V={x:a.x,y:F,width:a.width,height:q},Math.abs(X)>0&&Math.abs(re)<Math.abs(X)){var pe=da(re||X)*(Math.abs(X)-Math.abs(re));re+=pe}}return Fr(Fr(Fr({},D),{},{x:B,y:F,width:re,height:q,value:u?j:j[1],payload:D,background:V},A&&A[L]&&A[L].props),{},{tooltipPayload:[Jre(n,D)],tooltipPosition:{x:B+re/2,y:F+q/2}})});return Fr({data:R,layout:_},g)});function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function VHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cie(r.key),r)}}function UHe(t,e,n){return e&&Rq(t.prototype,e),n&&Rq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(n),!0).forEach(function(r){fT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fT(t,e,n){return e=Cie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=HHe(t,"string");return $y(e)=="symbol"?e:e+""}function HHe(t,e){if($y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nie=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},g=!!Ha(u,Ps);return d.reduce(function(y,_){var v=n[_],b=v.orientation,E=v.domain,N=v.padding,C=N===void 0?{}:N,k=v.mirror,O=v.reversed,I="".concat(b).concat(k?"Mirror":""),A,R,D,L,j;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var B=E[1]-E[0],F=1/0,re=v.categoricalDomain.sort();if(re.forEach(function(K,J){J>0&&(F=Math.min((K||0)-(re[J-1]||0),F))}),Number.isFinite(F)){var q=F/B,V=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(A=q*V/2),v.padding==="no-gap"){var X=ha(e.barCategoryGap,q*V),Q=q*V/2;A=Q-X-(Q-X)/V*X}}}i==="xAxis"?R=[r.left+(C.left||0)+(A||0),r.left+r.width-(C.right||0)-(A||0)]:i==="yAxis"?R=l==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(A||0),r.top+r.height-(C.bottom||0)-(A||0)]:R=v.range,O&&(R=[R[1],R[0]]);var ie=Yre(v,a,g),W=ie.scale,ce=ie.realScaleType;W.domain(E).range(R),Xre(W);var z=Qre(W,Ks(Ks({},v),{},{realScaleType:ce}));i==="xAxis"?(j=b==="top"&&!k||b==="bottom"&&k,D=r.left,L=h[I]-j*v.height):i==="yAxis"&&(j=b==="left"&&!k||b==="right"&&k,D=h[I]-j*v.width,L=r.top);var Y=Ks(Ks(Ks({},v),z),{},{realScaleType:ce,x:D,y:L,scale:W,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Y.bandSize=Gw(Y,z),!v.hide&&i==="xAxis"?h[I]+=(j?-1:1)*Y.height:v.hide||(h[I]+=(j?-1:1)*Y.width),Ks(Ks({},y),{},fT({},_,Y))},{})},Oie=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},zHe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Oie({x:n,y:r},{x:i,y:a})},Pie=function(){function t(e){VHe(this,t),this.scale=e}return UHe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();fT(Pie,"EPS",1e-4);var uL=function(e){var n=Object.keys(e).reduce(function(r,i){return Ks(Ks({},r),{},fT({},i,Pie.create(e[i])))},{});return Ks(Ks({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return yHe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return Eie(i,function(a,s){return n[s].isInRange(a)})}})};function qHe(t){return(t%180+180)%180}var WHe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=qHe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},hR,Dq;function GHe(){if(Dq)return hR;Dq=1;var t=sl(),e=Cx(),n=WS();function r(i){return function(a,s,o){var l=Object(a);if(!e(a)){var u=t(s,3);a=n(a),s=function(h){return u(l[h],h,l)}}var d=i(a,s,o);return d>-1?l[u?a[d]:d]:void 0}}return hR=r,hR}var pR,kq;function KHe(){if(kq)return pR;kq=1;var t=xie();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return pR=e,pR}var mR,jq;function YHe(){if(jq)return mR;jq=1;var t=Pne(),e=sl(),n=KHe(),r=Math.max;function i(a,s,o){var l=a==null?0:a.length;if(!l)return-1;var u=o==null?0:n(o);return u<0&&(u=r(l+u,0)),t(a,e(s,3),u)}return mR=i,mR}var gR,Mq;function XHe(){if(Mq)return gR;Mq=1;var t=GHe(),e=YHe(),n=t(e);return gR=n,gR}var QHe=XHe();const ZHe=Rn(QHe);var JHe=qte();const eze=Rn(JHe);var tze=eze(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),fL=T.createContext(void 0),dL=T.createContext(void 0),Rie=T.createContext(void 0),Iie=T.createContext({}),Die=T.createContext(void 0),kie=T.createContext(0),jie=T.createContext(0),Lq=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=tze(a);return ae.createElement(fL.Provider,{value:r},ae.createElement(dL.Provider,{value:i},ae.createElement(Iie.Provider,{value:a},ae.createElement(Rie.Provider,{value:d},ae.createElement(Die.Provider,{value:s},ae.createElement(kie.Provider,{value:u},ae.createElement(jie.Provider,{value:l},o)))))))},nze=function(){return T.useContext(Die)},Mie=function(e){var n=T.useContext(fL);n==null&&Ld();var r=n[e];return r==null&&Ld(),r},rze=function(){var e=T.useContext(fL);return hu(e)},ize=function(){var e=T.useContext(dL),n=ZHe(e,function(r){return Eie(r.domain,Number.isFinite)});return n||hu(e)},Lie=function(e){var n=T.useContext(dL);n==null&&Ld();var r=n[e];return r==null&&Ld(),r},aze=function(){var e=T.useContext(Rie);return e},sze=function(){return T.useContext(Iie)},hL=function(){return T.useContext(jie)},pL=function(){return T.useContext(kie)};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function oze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bie(r.key),r)}}function cze(t,e,n){return e&&lze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uze(t,e,n){return e=fE(e),fze(t,Fie()?Reflect.construct(e,n||[],fE(t).constructor):e.apply(t,n))}function fze(t,e){if(e&&(Im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dze(t)}function dze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fie=function(){return!!t})()}function fE(t){return fE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fE(t)}function hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qD(t,e)}function qD(t,e){return qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qD(t,e)}function Fq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fq(Object(n),!0).forEach(function(r){mL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mL(t,e,n){return e=Bie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bie(t){var e=pze(t,"string");return Im(e)=="symbol"?e:e+""}function pze(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mze(t,e){return xze(t)||yze(t,e)||vze(t,e)||gze()}function gze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vze(t,e){if(t){if(typeof t=="string")return $q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $q(t,e)}}function $q(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function xze(t){if(Array.isArray(t))return t}function WD(){return WD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WD.apply(this,arguments)}var bze=function(e,n){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,n):xt(e)?r=e(n):r=ae.createElement("line",WD({},n,{className:"recharts-reference-line-line"})),r},_ze=function(e,n,r,i,a,s,o,l,u){var d=a.x,h=a.y,g=a.width,y=a.height;if(r){var _=u.y,v=e.y.apply(_,{position:s});if(Xo(u,"discard")&&!e.y.isInRange(v))return null;var b=[{x:d+g,y:v},{x:d,y:v}];return l==="left"?b.reverse():b}if(n){var E=u.x,N=e.x.apply(E,{position:s});if(Xo(u,"discard")&&!e.x.isInRange(N))return null;var C=[{x:N,y:h+y},{x:N,y:h}];return o==="top"?C.reverse():C}if(i){var k=u.segment,O=k.map(function(I){return e.apply(I,{position:s})});return Xo(u,"discard")&&pHe(O,function(I){return!e.isInRange(I)})?null:O}return null};function wze(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=nze(),d=Mie(i),h=Lie(a),g=aze();if(!u||!g)return null;so(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=uL({x:d.scale,y:h.scale}),_=ii(e),v=ii(n),b=r&&r.length===2,E=_ze(y,_,v,b,g,t.position,d.orientation,h.orientation,t);if(!E)return null;var N=mze(E,2),C=N[0],k=C.x,O=C.y,I=N[1],A=I.x,R=I.y,D=Xo(t,"hidden")?"url(#".concat(u,")"):void 0,L=Bq(Bq({clipPath:D},ft(t,!0)),{},{x1:k,y1:O,x2:A,y2:R});return ae.createElement(jt,{className:Pt("recharts-reference-line",o)},bze(s,L),_i.renderCallByParent(t,zHe({x1:k,y1:O,x2:A,y2:R})))}var gL=function(t){function e(){return oze(this,e),uze(this,e,arguments)}return hze(e,t),cze(e,[{key:"render",value:function(){return ae.createElement(wze,this.props)}}])}(ae.Component);mL(gL,"displayName","ReferenceLine");mL(gL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GD(){return GD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GD.apply(this,arguments)}function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function Vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(n),!0).forEach(function(r){dT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vie(r.key),r)}}function Tze(t,e,n){return e&&Sze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aze(t,e,n){return e=dE(e),Cze(t,$ie()?Reflect.construct(e,n||[],dE(t).constructor):e.apply(t,n))}function Cze(t,e){if(e&&(Dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nze(t)}function Nze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ie=function(){return!!t})()}function dE(t){return dE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dE(t)}function Oze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KD(t,e)}function KD(t,e){return KD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KD(t,e)}function dT(t,e,n){return e=Vie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vie(t){var e=Pze(t,"string");return Dm(e)=="symbol"?e:e+""}function Pze(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rze=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=uL({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Xo(e,"discard")&&!s.isInRange(o)?null:o},hT=function(t){function e(){return Eze(this,e),Aze(this,e,arguments)}return Oze(e,t),Tze(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=ii(i),d=ii(a);if(so(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=Rze(this.props);if(!h)return null;var g=h.x,y=h.y,_=this.props,v=_.shape,b=_.className,E=Xo(this.props,"hidden")?"url(#".concat(l,")"):void 0,N=Uq(Uq({clipPath:E},ft(this.props,!0)),{},{cx:g,cy:y});return ae.createElement(jt,{className:Pt("recharts-reference-dot",b)},e.renderDot(v,N),_i.renderCallByParent(this.props,{x:g-s,y:y-s,width:2*s,height:2*s}))}}])}(ae.Component);dT(hT,"displayName","ReferenceDot");dT(hT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dT(hT,"renderDot",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):xt(t)?n=t(e):n=ae.createElement(Dx,GD({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function YD(){return YD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YD.apply(this,arguments)}function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function Hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(n),!0).forEach(function(r){pT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hie(r.key),r)}}function kze(t,e,n){return e&&Dze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jze(t,e,n){return e=hE(e),Mze(t,Uie()?Reflect.construct(e,n||[],hE(t).constructor):e.apply(t,n))}function Mze(t,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lze(t)}function Lze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uie=function(){return!!t})()}function hE(t){return hE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hE(t)}function Fze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XD(t,e)}function XD(t,e){return XD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XD(t,e)}function pT(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Bze(t,"string");return km(e)=="symbol"?e:e+""}function Bze(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ze=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var g=uL({x:d.scale,y:h.scale}),y={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(l,{position:"start"}):g.y.rangeMin},_={x:n?g.x.apply(o,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return Xo(a,"discard")&&(!g.isInRange(y)||!g.isInRange(_))?null:Oie(y,_)},mT=function(t){function e(){return Ize(this,e),jze(this,e,arguments)}return Fze(e,t),kze(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;so(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ii(i),g=ii(a),y=ii(s),_=ii(o),v=this.props.shape;if(!h&&!g&&!y&&!_&&!v)return null;var b=$ze(h,g,y,_,this.props);if(!b&&!v)return null;var E=Xo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ae.createElement(jt,{className:Pt("recharts-reference-area",l)},e.renderRect(v,zq(zq({clipPath:E},ft(this.props,!0)),b)),_i.renderCallByParent(this.props,b))}}])}(ae.Component);pT(mT,"displayName","ReferenceArea");pT(mT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pT(mT,"renderRect",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):xt(t)?n=t(e):n=ae.createElement(cL,YD({},e,{className:"recharts-reference-area-rect"})),n});function zie(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Vze(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return WHe(r,n)}function Uze(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function pE(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Hze(t,e){return zie(t,e+1)}function zze(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,h=function(){var _=r==null?void 0:r[l];if(_===void 0)return{v:zie(r,u)};var v=l,b,E=function(){return b===void 0&&(b=n(_,v)),b},N=_.coordinate,C=l===0||pE(t,N,E,d,o);C||(l=0,d=s,u+=1),C&&(d=N+t*(E()/2+i),l+=u)},g;u<=a.length;)if(g=h(),g)return g.v;return[]}function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(n),!0).forEach(function(r){qze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qze(t,e,n){return e=Wze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wze(t){var e=Gze(t,"string");return Vy(e)=="symbol"?e:e+""}function Gze(t,e){if(Vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kze(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(g){var y=a[g],_,v=function(){return _===void 0&&(_=n(y,g)),_};if(g===s-1){var b=t*(y.coordinate+t*v()/2-l);a[g]=y=Yi(Yi({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else a[g]=y=Yi(Yi({},y),{},{tickCoord:y.coordinate});var E=pE(t,y.tickCoord,v,o,l);E&&(l=y.tickCoord-t*(v()/2+i),a[g]=Yi(Yi({},y),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function Yze(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=r[o-1],h=n(d,o-1),g=t*(d.coordinate+t*h/2-u);s[o-1]=d=Yi(Yi({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var y=pE(t,d.tickCoord,function(){return h},l,u);y&&(u=d.tickCoord-t*(h/2+i),s[o-1]=Yi(Yi({},d),{},{isShow:!0}))}for(var _=a?o-1:o,v=function(N){var C=s[N],k,O=function(){return k===void 0&&(k=n(C,N)),k};if(N===0){var I=t*(C.coordinate-t*O()/2-l);s[N]=C=Yi(Yi({},C),{},{tickCoord:I<0?C.coordinate-I*t:C.coordinate})}else s[N]=C=Yi(Yi({},C),{},{tickCoord:C.coordinate});var A=pE(t,C.tickCoord,O,l,u);A&&(l=C.tickCoord+t*(O()/2+i),s[N]=Yi(Yi({},C),{},{isShow:!0}))},b=0;b<_;b++)v(b);return s}function vL(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(We(l)||wc.isSsr)return Hze(i,typeof l=="number"&&We(l)?l:0);var g=[],y=o==="top"||o==="bottom"?"width":"height",_=d&&y==="width"?yv(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(C,k){var O=xt(u)?u(C.value,k):C.value;return y==="width"?Vze(yv(O,{fontSize:e,letterSpacing:n}),_,h):yv(O,{fontSize:e,letterSpacing:n})[y]},b=i.length>=2?da(i[1].coordinate-i[0].coordinate):1,E=Uze(a,b,y);return l==="equidistantPreserveStart"?zze(b,E,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?g=Yze(b,E,v,i,s,l==="preserveStartEnd"):g=Kze(b,E,v,i,s),g.filter(function(N){return N.isShow}))}var Xze=["viewBox"],Qze=["viewBox"],Zze=["ticks"];function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function Wq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wq(Object(n),!0).forEach(function(r){yL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vR(t,e){if(t==null)return{};var n=Jze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wie(r.key),r)}}function tqe(t,e,n){return e&&Gq(t.prototype,e),n&&Gq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nqe(t,e,n){return e=mE(e),rqe(t,qie()?Reflect.construct(e,n||[],mE(t).constructor):e.apply(t,n))}function rqe(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iqe(t)}function iqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qie=function(){return!!t})()}function mE(t){return mE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mE(t)}function aqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QD(t,e)}function QD(t,e){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QD(t,e)}function yL(t,e,n){return e=Wie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wie(t){var e=sqe(t,"string");return jm(e)=="symbol"?e:e+""}function sqe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A0=function(t){function e(n){var r;return eqe(this,e),r=nqe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return aqe(e,t),tqe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=vR(r,Xze),o=this.props,l=o.viewBox,u=vR(o,Qze);return!Up(a,l)||!Up(s,u)||!Up(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,g=i.tickMargin,y,_,v,b,E,N,C=h?-1:1,k=r.tickSize||d,O=We(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=_=r.coordinate,b=s+ +!h*l,v=b-C*k,N=v-C*g,E=O;break;case"left":v=b=r.coordinate,_=a+ +!h*o,y=_-C*k,E=y-C*g,N=O;break;case"right":v=b=r.coordinate,_=a+ +h*o,y=_+C*k,E=y+C*g,N=O;break;default:y=_=r.coordinate,b=s+ +h*l,v=b+C*k,N=v+C*g,E=O;break}return{line:{x1:y,y1:v,x2:_,y2:b},tick:{x:E,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,h=oa(oa(oa({},ft(this.props,!1)),ft(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var g=+(l==="top"&&!u||l==="bottom"&&u);h=oa(oa({},h),{},{x1:i,y1:a+g*o,x2:i+s,y2:a+g*o})}else{var y=+(l==="left"&&!u||l==="right"&&u);h=oa(oa({},h),{},{x1:i+y*s,y1:a,x2:i+y*s,y2:a+o})}return ae.createElement("line",Tp({},h,{className:Pt("recharts-cartesian-axis-line",ns(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,h=o.tickFormatter,g=o.unit,y=vL(oa(oa({},this.props),{},{ticks:r}),i,a),_=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=ft(this.props,!1),E=ft(d,!1),N=oa(oa({},b),{},{fill:"none"},ft(l,!1)),C=y.map(function(k,O){var I=s.getTickLineCoord(k),A=I.line,R=I.tick,D=oa(oa(oa(oa({textAnchor:_,verticalAnchor:v},b),{},{stroke:"none",fill:u},E),R),{},{index:O,payload:k,visibleTicksCount:y.length,tickFormatter:h});return ae.createElement(jt,Tp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},nf(s.props,k,O)),l&&ae.createElement("line",Tp({},N,A,{className:Pt("recharts-cartesian-axis-tick-line",ns(l,"className"))})),d&&e.renderTickItem(d,D,"".concat(xt(h)?h(k.value,O):k.value).concat(g||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,g=h.ticks,y=vR(h,Zze),_=g;return xt(l)&&(_=g&&g.length>0?l(this.props):l(y)),s<=0||o<=0||!_||!_.length?null:ae.createElement(jt,{className:Pt("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),_i.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return ae.isValidElement(r)?s=ae.cloneElement(r,i):xt(r)?s=r(i):s=ae.createElement(jd,Tp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(T.Component);yL(A0,"displayName","CartesianAxis");yL(A0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oqe=["x1","y1","x2","y2","key"],lqe=["offset"];function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Kq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kq(Object(n),!0).forEach(function(r){cqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cqe(t,e,n){return e=uqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uqe(t){var e=fqe(t,"string");return Fd(e)=="symbol"?e:e+""}function fqe(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}function Yq(t,e){if(t==null)return{};var n=dqe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hqe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ae.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Gie(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(xt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=Yq(e,oqe),u=ft(l,!1);u.offset;var d=Yq(u,lqe);n=ae.createElement("line",dd({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function pqe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Zi(Zi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Gie(i,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function mqe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Zi(Zi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Gie(i,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function gqe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==d[0]&&d.unshift(0);var h=d.map(function(g,y){var _=!d[y+1],v=_?i+s-g:d[y+1]-g;if(v<=0)return null;var b=y%e.length;return ae.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:v,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function vqe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==d[0]&&d.unshift(0);var h=d.map(function(g,y){var _=!d[y+1],v=_?a+o-g:d[y+1]-g;if(v<=0)return null;var b=y%r.length;return ae.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:v,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var yqe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return Kre(vL(Zi(Zi(Zi({},A0.defaultProps),r),{},{ticks:Vl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},xqe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return Kre(vL(Zi(Zi(Zi({},A0.defaultProps),r),{},{ticks:Vl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},up={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xL(t){var e,n,r,i,a,s,o=hL(),l=pL(),u=sze(),d=Zi(Zi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:up.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:up.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:up.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:up.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:up.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:up.verticalFill,x:We(t.x)?t.x:u.left,y:We(t.y)?t.y:u.top,width:We(t.width)?t.width:u.width,height:We(t.height)?t.height:u.height}),h=d.x,g=d.y,y=d.width,_=d.height,v=d.syncWithTicks,b=d.horizontalValues,E=d.verticalValues,N=rze(),C=ize();if(!We(y)||y<=0||!We(_)||_<=0||!We(h)||h!==+h||!We(g)||g!==+g)return null;var k=d.verticalCoordinatesGenerator||yqe,O=d.horizontalCoordinatesGenerator||xqe,I=d.horizontalPoints,A=d.verticalPoints;if((!I||!I.length)&&xt(O)){var R=b&&b.length,D=O({yAxis:C?Zi(Zi({},C),{},{ticks:R?b:C.ticks}):void 0,width:o,height:l,offset:u},R?!0:v);so(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fd(D),"]")),Array.isArray(D)&&(I=D)}if((!A||!A.length)&&xt(k)){var L=E&&E.length,j=k({xAxis:N?Zi(Zi({},N),{},{ticks:L?E:N.ticks}):void 0,width:o,height:l,offset:u},L?!0:v);so(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fd(j),"]")),Array.isArray(j)&&(A=j)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(hqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ae.createElement(pqe,dd({},d,{offset:u,horizontalPoints:I,xAxis:N,yAxis:C})),ae.createElement(mqe,dd({},d,{offset:u,verticalPoints:A,xAxis:N,yAxis:C})),ae.createElement(gqe,dd({},d,{horizontalPoints:I})),ae.createElement(vqe,dd({},d,{verticalPoints:A})))}xL.displayName="CartesianGrid";var bqe=["type","layout","connectNulls","ref"],_qe=["key"];function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function Xq(t,e){if(t==null)return{};var n=wqe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function Qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(n),!0).forEach(function(r){Ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fp(t){return Aqe(t)||Tqe(t)||Sqe(t)||Eqe()}function Eqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sqe(t,e){if(t){if(typeof t=="string")return ZD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZD(t,e)}}function Tqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aqe(t){if(Array.isArray(t))return ZD(t)}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yie(r.key),r)}}function Nqe(t,e,n){return e&&Zq(t.prototype,e),n&&Zq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oqe(t,e,n){return e=gE(e),Pqe(t,Kie()?Reflect.construct(e,n||[],gE(t).constructor):e.apply(t,n))}function Pqe(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rqe(t)}function Rqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kie=function(){return!!t})()}function gE(t){return gE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gE(t)}function Iqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JD(t,e)}function JD(t,e){return JD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JD(t,e)}function Ys(t,e,n){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Dqe(t,"string");return Mm(e)=="symbol"?e:e+""}function Dqe(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lm=function(t){function e(){var n;Cqe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oqe(this,e,[].concat(i)),Ys(n,"state",{isAnimationFinished:!0,totalLength:0}),Ys(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ys(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(E,N){return E+N});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),h=s%u,g=o-s,y=[],_=0,v=0;_<l.length;v+=l[_],++_)if(v+l[_]>h){y=[].concat(fp(l.slice(0,_)),[h-v]);break}var b=y.length%2===0?[0,g]:[g];return[].concat(fp(e.repeat(l,d)),fp(y),b).map(function(E){return"".concat(E,"px")}).join(", ")}),Ys(n,"id",mf("recharts-line-")),Ys(n,"pathRef",function(s){n.mainCurve=s}),Ys(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ys(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Iqe(e,t),Nqe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,h=va(d,T0);if(!h)return null;var g=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:sr(v.payload,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ae.createElement(jt,y,h.map(function(_){return ae.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,h=ft(this.props,!1),g=ft(l,!0),y=u.map(function(v,b){var E=$a($a($a({key:"dot-".concat(b),r:3},h),g),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(l,E)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ae.createElement(jt,Sv({className:"recharts-line-dots",key:"dots"},_),y)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var h=Xq(o,bqe),g=$a($a($a({},ft(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:d});return ae.createElement(Du,Sv({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,g=s.animationEasing,y=s.animationId,_=s.animateNewValues,v=s.width,b=s.height,E=this.state,N=E.prevPoints,C=E.totalLength;return ae.createElement(ks,{begin:d,duration:h,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var O=k.t;if(N){var I=N.length/o.length,A=o.map(function(B,F){var re=Math.floor(F*I);if(N[re]){var q=N[re],V=gr(q.x,B.x),X=gr(q.y,B.y);return $a($a({},B),{},{x:V(O),y:X(O)})}if(_){var Q=gr(v*2,B.x),ie=gr(b/2,B.y);return $a($a({},B),{},{x:Q(O),y:ie(O)})}return $a($a({},B),{},{x:B.x,y:B.y})});return a.renderCurveStatically(A,r,i)}var R=gr(0,C),D=R(O),L;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});L=a.getStrokeDasharray(D,C,j)}else L=a.generateSimpleStrokeDasharray(C,D);return a.renderCurveStatically(o,r,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!rf(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,h=i.top,g=i.left,y=i.width,_=i.height,v=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var E=this.state.isAnimationFinished,N=o.length===1,C=Pt("recharts-line",l),k=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,I=k||O,A=bt(b)?this.id:b,R=(r=ft(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=R.r,L=D===void 0?3:D,j=R.strokeWidth,B=j===void 0?2:j,F=Xte(s)?s:{},re=F.clipDot,q=re===void 0?!0:re,V=L*2+B;return ae.createElement(jt,{className:C},k||O?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(A)},ae.createElement("rect",{x:k?g:g-y/2,y:O?h:h-_/2,width:k?y:y*2,height:O?_:_*2})),!q&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ae.createElement("rect",{x:g-V/2,y:h-V/2,width:y+V,height:_+V}))):null,!N&&this.renderCurve(I,A),this.renderErrorBar(I,A),(N||s)&&this.renderDots(I,q,A),(!v||E)&&oo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(fp(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(fp(s),fp(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(ae.isValidElement(r))a=ae.cloneElement(r,i);else if(xt(r))a=r(i);else{var s=i.key,o=Xq(i,_qe),l=Pt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ae.createElement(Dx,Sv({key:s},o,{className:l}))}return a}}])}(T.PureComponent);Ys(Lm,"displayName","Line");Ys(Lm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ys(Lm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,h=l.map(function(g,y){var _=sr(g,s);return d==="horizontal"?{x:Sm({axis:n,ticks:i,bandSize:o,entry:g,index:y}),y:bt(_)?null:r.scale(_),value:_,payload:g}:{x:bt(_)?null:n.scale(_),y:Sm({axis:r,ticks:a,bandSize:o,entry:g,index:y}),value:_,payload:g}});return $a({points:h,layout:d},u)});var kqe=["layout","type","stroke","connectNulls","isRange","ref"],jqe=["key"],Xie;function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function Qie(t,e){if(t==null)return{};var n=Mqe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}function Jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(n),!0).forEach(function(r){Uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jie(r.key),r)}}function Fqe(t,e,n){return e&&eW(t.prototype,e),n&&eW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bqe(t,e,n){return e=vE(e),$qe(t,Zie()?Reflect.construct(e,n||[],vE(t).constructor):e.apply(t,n))}function $qe(t,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vqe(t)}function Vqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zie=function(){return!!t})()}function vE(t){return vE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vE(t)}function Uqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ek(t,e)}function ek(t,e){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ek(t,e)}function Uo(t,e,n){return e=Jie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jie(t){var e=Hqe(t,"string");return Fm(e)=="symbol"?e:e+""}function Hqe(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dh=function(t){function e(){var n;Lqe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Bqe(this,e,[].concat(i)),Uo(n,"state",{isAnimationFinished:!0}),Uo(n,"id",mf("recharts-area-")),Uo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xt(s)&&s()}),Uo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xt(s)&&s()}),n}return Uqe(e,t),Fqe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,d=l.points,h=l.dataKey,g=ft(this.props,!1),y=ft(u,!0),_=d.map(function(b,E){var N=su(su(su({key:"dot-".concat(E),r:3},g),y),{},{index:E,cx:b.x,cy:b.y,dataKey:h,value:b.value,payload:b.payload,points:d});return e.renderDotItem(u,N)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ae.createElement(jt,hd({className:"recharts-area-dots"},v),_)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,d=r*Math.abs(l-u),h=yu(s.map(function(g){return g.y||0}));return We(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(yu(a.map(function(g){return g.y||0})),h)),We(h)?ae.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(h+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,d=r*Math.abs(l-u),h=yu(s.map(function(g){return g.x||0}));return We(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(yu(a.map(function(g){return g.x||0})),h)),We(h)?ae.createElement("rect",{x:0,y:l<u?l:l-d,width:h+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,u=o.type,d=o.stroke,h=o.connectNulls,g=o.isRange;o.ref;var y=Qie(o,kqe);return ae.createElement(jt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},ae.createElement(Du,hd({},ft(y,!0),{points:r,connectNulls:h,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ae.createElement(Du,hd({},ft(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:r})),d!=="none"&&g&&ae.createElement(Du,hd({},ft(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,g=s.animationEasing,y=s.animationId,_=this.state,v=_.prevPoints,b=_.prevBaseLine;return ae.createElement(ks,{begin:d,duration:h,isActive:u,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var N=E.t;if(v){var C=v.length/o.length,k=o.map(function(R,D){var L=Math.floor(D*C);if(v[L]){var j=v[L],B=gr(j.x,R.x),F=gr(j.y,R.y);return su(su({},R),{},{x:B(N),y:F(N)})}return R}),O;if(We(l)&&typeof l=="number"){var I=gr(b,l);O=I(N)}else if(bt(l)||b0(l)){var A=gr(b,0);O=A(N)}else O=l.map(function(R,D){var L=Math.floor(D*C);if(b[L]){var j=b[L],B=gr(j.x,R.x),F=gr(j.y,R.y);return su(su({},R),{},{x:B(N),y:F(N)})}return R});return a.renderAreaStatically(k,O,r,i)}return ae.createElement(jt,null,ae.createElement("defs",null,ae.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(N))),ae.createElement(jt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,g=u.totalLength;return l&&s&&s.length&&(!d&&g>0||!rf(d,s)||!rf(h,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,d=i.left,h=i.xAxis,g=i.yAxis,y=i.width,_=i.height,v=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var E=this.state.isAnimationFinished,N=o.length===1,C=Pt("recharts-area",l),k=h&&h.allowDataOverflow,O=g&&g.allowDataOverflow,I=k||O,A=bt(b)?this.id:b,R=(r=ft(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=R.r,L=D===void 0?3:D,j=R.strokeWidth,B=j===void 0?2:j,F=Xte(s)?s:{},re=F.clipDot,q=re===void 0?!0:re,V=L*2+B;return ae.createElement(jt,{className:C},k||O?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(A)},ae.createElement("rect",{x:k?d:d-y/2,y:O?u:u-_/2,width:k?y:y*2,height:O?_:_*2})),!q&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ae.createElement("rect",{x:d-V/2,y:u-V/2,width:y+V,height:_+V}))):null,N?null:this.renderArea(I,A),(s||N)&&this.renderDots(I,q,A),(!v||E)&&oo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(T.PureComponent);Xie=dh;Uo(dh,"displayName","Area");Uo(dh,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Uo(dh,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(We(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return o==="dataMin"?h:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Uo(dh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,g=t.offset,y=e.layout,_=u&&u.length,v=Xie.getBaseValue(e,n,r,i),b=y==="horizontal",E=!1,N=h.map(function(k,O){var I;_?I=u[d+O]:(I=sr(k,l),Array.isArray(I)?E=!0:I=[v,I]);var A=I[1]==null||_&&sr(k,l)==null;return b?{x:Sm({axis:r,ticks:a,bandSize:o,entry:k,index:O}),y:A?null:i.scale(I[1]),value:I,payload:k}:{x:A?null:r.scale(I[1]),y:Sm({axis:i,ticks:s,bandSize:o,entry:k,index:O}),value:I,payload:k}}),C;return _||E?C=N.map(function(k){var O=Array.isArray(k.value)?k.value[0]:null;return b?{x:k.x,y:O!=null&&k.y!=null?i.scale(O):null}:{x:O!=null?r.scale(O):null,y:k.y}}):C=b?i.scale(v):r.scale(v),su({points:N,baseLine:C,layout:y,isRange:E},g)});Uo(dh,"renderDotItem",function(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(xt(t))n=t(e);else{var r=Pt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Qie(e,jqe);n=ae.createElement(Dx,hd({},a,{key:i,className:r}))}return n});function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function zqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nae(r.key),r)}}function Wqe(t,e,n){return e&&qqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gqe(t,e,n){return e=yE(e),Kqe(t,eae()?Reflect.construct(e,n||[],yE(t).constructor):e.apply(t,n))}function Kqe(t,e){if(e&&(Bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yqe(t)}function Yqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eae=function(){return!!t})()}function yE(t){return yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yE(t)}function Xqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tk(t,e)}function tae(t,e,n){return e=nae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nae(t){var e=Qqe(t,"string");return Bm(e)=="symbol"?e:e+""}function Qqe(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gT=function(t){function e(){return zqe(this,e),Gqe(this,e,arguments)}return Xqe(e,t),Wqe(e,[{key:"render",value:function(){return null}}])}(ae.Component);tae(gT,"displayName","ZAxis");tae(gT,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Zqe=["option","isActive"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}function Jqe(t,e){if(t==null)return{};var n=eWe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tWe(t){var e=t.option,n=t.isActive,r=Jqe(t,Zqe);return typeof e=="string"?ae.createElement(iE,Tv({option:ae.createElement(qS,Tv({type:e},r)),isActive:n,shapeType:"symbols"},r)):ae.createElement(iE,Tv({option:e,isActive:n,shapeType:"symbols"},r))}function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function tW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(n),!0).forEach(function(r){bu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iae(r.key),r)}}function rWe(t,e,n){return e&&nW(t.prototype,e),n&&nW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iWe(t,e,n){return e=xE(e),aWe(t,rae()?Reflect.construct(e,n||[],xE(t).constructor):e.apply(t,n))}function aWe(t,e){if(e&&($m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sWe(t)}function sWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rae=function(){return!!t})()}function xE(t){return xE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xE(t)}function oWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nk(t,e)}function nk(t,e){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nk(t,e)}function bu(t,e,n){return e=iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=lWe(t,"string");return $m(e)=="symbol"?e:e+""}function lWe(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vT=function(t){function e(){var n;nWe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=iWe(this,e,[].concat(i)),bu(n,"state",{isAnimationFinished:!1}),bu(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),bu(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),bu(n,"id",mf("recharts-scatter-")),n}return oWe(e,t),rWe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.activeShape,l=a.activeIndex,u=ft(this.props,!1);return r.map(function(d,h){var g=l===h,y=g?o:s,_=Ss(Ss({},u),d);return ae.createElement(jt,Av({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(h)},nf(i.props,d,h),{role:"img"}),ae.createElement(tWe,Av({option:y,isActive:g,key:"symbol-".concat(h)},_)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevPoints;return ae.createElement(ks,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,_=a.map(function(v,b){var E=h&&h[b];if(E){var N=gr(E.cx,v.cx),C=gr(E.cy,v.cy),k=gr(E.size,v.size);return Ss(Ss({},v),{},{cx:N(y),cy:C(y),size:k(y)})}var O=gr(0,v.size);return Ss(Ss({},v),{},{size:O(y)})});return ae.createElement(jt,null,r.renderSymbolsStatically(_))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!rf(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,o=i.yAxis,l=i.children,u=va(l,T0);return u?u.map(function(d,h){var g=d.props,y=g.direction,_=g.dataKey;return ae.cloneElement(d,{key:"".concat(y,"-").concat(_,"-").concat(a[h]),data:a,xAxis:s,yAxis:o,layout:y==="x"?"vertical":"horizontal",dataPointFormatter:function(b,E){return{x:b.cx,y:b.cy,value:y==="x"?+b.node.x:+b.node.y,errorVal:sr(b,E)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,s=r.lineType,o=r.lineJointType,l=ft(this.props,!1),u=ft(a,!1),d,h;if(s==="joint")d=i.map(function(C){return{x:C.cx,y:C.cy}});else if(s==="fitting"){var g=r4e(i),y=g.xmin,_=g.xmax,v=g.a,b=g.b,E=function(k){return v*k+b};d=[{x:y,y:E(y)},{x:_,y:E(_)}]}var N=Ss(Ss(Ss({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:d});return ae.isValidElement(a)?h=ae.cloneElement(a,N):xt(a)?h=a(N):h=ae.createElement(Du,Av({},N,{type:o})),ae.createElement(jt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,s=r.line,o=r.className,l=r.xAxis,u=r.yAxis,d=r.left,h=r.top,g=r.width,y=r.height,_=r.id,v=r.isAnimationActive;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,E=Pt("recharts-scatter",o),N=l&&l.allowDataOverflow,C=u&&u.allowDataOverflow,k=N||C,O=bt(_)?this.id:_;return ae.createElement(jt,{className:E,clipPath:k?"url(#clipPath-".concat(O,")"):null},N||C?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(O)},ae.createElement("rect",{x:N?d:d-g/2,y:C?h:h-y/2,width:N?g:g*2,height:C?y:y*2}))):null,s&&this.renderLine(),this.renderErrorBar(),ae.createElement(jt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||b)&&oo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(T.PureComponent);bu(vT,"displayName","Scatter");bu(vT,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});bu(vT,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,s=t.xAxisTicks,o=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,d=va(i.props.children,Nx),h=bt(e.dataKey)?i.props.dataKey:e.dataKey,g=bt(n.dataKey)?i.props.dataKey:n.dataKey,y=r&&r.dataKey,_=r?r.range:gT.defaultProps.range,v=_&&_[0],b=e.scale.bandwidth?e.scale.bandwidth():0,E=n.scale.bandwidth?n.scale.bandwidth():0,N=a.map(function(C,k){var O=sr(C,h),I=sr(C,g),A=!bt(y)&&sr(C,y)||"-",R=[{name:bt(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:O,payload:C,dataKey:h,type:u},{name:bt(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:I,payload:C,dataKey:g,type:u}];A!=="-"&&R.push({name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:C,dataKey:y,type:u});var D=Sm({axis:e,ticks:s,bandSize:b,entry:C,index:k,dataKey:h}),L=Sm({axis:n,ticks:o,bandSize:E,entry:C,index:k,dataKey:g}),j=A!=="-"?r.scale(A):v,B=Math.sqrt(Math.max(j,0)/Math.PI);return Ss(Ss({},C),{},{cx:D,cy:L,x:D-B,y:L-B,xAxis:e,yAxis:n,zAxis:r,width:2*B,height:2*B,size:j,node:{x:O,y:I,z:A},tooltipPayload:R,tooltipPosition:{x:D,y:L},payload:C},d&&d[k]&&d[k].props)});return Ss({points:N},l)});function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function cWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oae(r.key),r)}}function fWe(t,e,n){return e&&uWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dWe(t,e,n){return e=bE(e),hWe(t,aae()?Reflect.construct(e,n||[],bE(t).constructor):e.apply(t,n))}function hWe(t,e){if(e&&(Vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pWe(t)}function pWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aae=function(){return!!t})()}function bE(t){return bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bE(t)}function mWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rk(t,e)}function sae(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=gWe(t,"string");return Vm(e)=="symbol"?e:e+""}function gWe(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ik.apply(this,arguments)}function vWe(t){var e=t.xAxisId,n=hL(),r=pL(),i=Mie(e);return i==null?null:ae.createElement(A0,ik({},i,{className:Pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Vl(s,!0)}}))}var C0=function(t){function e(){return cWe(this,e),dWe(this,e,arguments)}return mWe(e,t),fWe(e,[{key:"render",value:function(){return ae.createElement(vWe,this.props)}}])}(ae.Component);sae(C0,"displayName","XAxis");sae(C0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function yWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uae(r.key),r)}}function bWe(t,e,n){return e&&xWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _We(t,e,n){return e=_E(e),wWe(t,lae()?Reflect.construct(e,n||[],_E(t).constructor):e.apply(t,n))}function wWe(t,e){if(e&&(Um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EWe(t)}function EWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lae=function(){return!!t})()}function _E(t){return _E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_E(t)}function SWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ak(t,e)}function cae(t,e,n){return e=uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=TWe(t,"string");return Um(e)=="symbol"?e:e+""}function TWe(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sk.apply(this,arguments)}var AWe=function(e){var n=e.yAxisId,r=hL(),i=pL(),a=Lie(n);return a==null?null:ae.createElement(A0,sk({},a,{className:Pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Vl(o,!0)}}))},Bd=function(t){function e(){return yWe(this,e),_We(this,e,arguments)}return SWe(e,t),bWe(e,[{key:"render",value:function(){return ae.createElement(AWe,this.props)}}])}(ae.Component);cae(Bd,"displayName","YAxis");cae(Bd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rW(t){return PWe(t)||OWe(t)||NWe(t)||CWe()}function CWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NWe(t,e){if(t){if(typeof t=="string")return ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ok(t,e)}}function OWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PWe(t){if(Array.isArray(t))return ok(t)}function ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lk=function(e,n,r,i,a){var s=va(e,gL),o=va(e,hT),l=[].concat(rW(s),rW(o)),u=va(e,mT),d="".concat(i,"Id"),h=i[0],g=n;if(l.length&&(g=l.reduce(function(v,b){if(b.props[d]===r&&Xo(b.props,"extendDomain")&&We(b.props[h])){var E=b.props[h];return[Math.min(v[0],E),Math.max(v[1],E)]}return v},g)),u.length){var y="".concat(h,"1"),_="".concat(h,"2");g=u.reduce(function(v,b){if(b.props[d]===r&&Xo(b.props,"extendDomain")&&We(b.props[y])&&We(b.props[_])){var E=b.props[y],N=b.props[_];return[Math.min(v[0],E,N),Math.max(v[1],E,N)]}return v},g)}return a&&a.length&&(g=a.reduce(function(v,b){return We(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},g)),g},yR={exports:{}},iW;function RWe(){return iW||(iW=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,h||l,g),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],y]:l._events[_].push(y):(l._events[_]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,y=h.length,_=new Array(y);g<y;g++)_[g]=h[g].fn;return _},o.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,y,_){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],E=arguments.length,N,C;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,g),!0;case 5:return b.fn.call(b.context,d,h,g,y),!0;case 6:return b.fn.call(b.context,d,h,g,y,_),!0}for(C=1,N=new Array(E-1);C<E;C++)N[C-1]=arguments[C];b.fn.apply(b.context,N)}else{var k=b.length,O;for(C=0;C<k;C++)switch(b[C].once&&this.removeListener(u,b[C].fn,void 0,!0),E){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,d);break;case 3:b[C].fn.call(b[C].context,d,h);break;case 4:b[C].fn.call(b[C].context,d,h,g);break;default:if(!N)for(O=1,N=new Array(E-1);O<E;O++)N[O-1]=arguments[O];b[C].fn.apply(b[C].context,N)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var y=n?n+u:u;if(!this._events[y])return this;if(!d)return s(this,y),this;var _=this._events[y];if(_.fn)_.fn===d&&(!g||_.once)&&(!h||_.context===h)&&s(this,y);else{for(var v=0,b=[],E=_.length;v<E;v++)(_[v].fn!==d||g&&!_[v].once||h&&_[v].context!==h)&&b.push(_[v]);b.length?this._events[y]=b.length===1?b[0]:b:s(this,y)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(yR)),yR.exports}var IWe=RWe();const DWe=Rn(IWe);var xR=new DWe,bR="recharts.syncMouseEvents";function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function kWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fae(r.key),r)}}function MWe(t,e,n){return e&&jWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _R(t,e,n){return e=fae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=LWe(t,"string");return Uy(e)=="symbol"?e:e+""}function LWe(t,e){if(Uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FWe=function(){function t(){kWe(this,t),_R(this,"activeIndex",0),_R(this,"coordinateList",[]),_R(this,"layout","horizontal")}return MWe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,d=n.offset,h=d===void 0?null:d,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+l+u,g=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])}();function BWe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&We(r)&&We(i))return!0}return!1}function $We(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dae(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=tr(e,n,r,i),o=tr(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function VWe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,g=tr(o,l,u,h),y=tr(o,l,d,h);r=g.x,i=g.y,a=y.x,s=y.y}else return dae(e);return[{x:r,y:i},{x:a,y:s}]}function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function aW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(n),!0).forEach(function(r){UWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UWe(t,e,n){return e=HWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HWe(t){var e=zWe(t,"string");return Hy(e)=="symbol"?e:e+""}function zWe(t,e){if(Hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qWe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var _,v=Du;if(g==="ScatterChart")_=s,v=LUe;else if(g==="BarChart")_=$We(h,s,l,d),v=cL;else if(h==="radial"){var b=dae(s),E=b.cx,N=b.cy,C=b.radius,k=b.startAngle,O=b.endAngle;_={cx:E,cy:N,startAngle:k,endAngle:O,innerRadius:C,outerRadius:C},v=aie}else _={points:VWe(h,s,l)},v=Du;var I=H_(H_(H_(H_({stroke:"#ccc",pointerEvents:"none"},l),_),ft(y,!1)),{},{payload:o,payloadIndex:u,className:Pt("recharts-tooltip-cursor",y.className)});return T.isValidElement(y)?T.cloneElement(y,I):T.createElement(v,I)}var WWe=["item"],GWe=["children","className","width","height","style","compact","title","desc"];function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function sW(t,e){return XWe(t)||YWe(t,e)||pae(t,e)||KWe()}function KWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function XWe(t){if(Array.isArray(t))return t}function oW(t,e){if(t==null)return{};var n=QWe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mae(r.key),r)}}function eGe(t,e,n){return e&&JWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tGe(t,e,n){return e=wE(e),nGe(t,hae()?Reflect.construct(e,n||[],wE(t).constructor):e.apply(t,n))}function nGe(t,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rGe(t)}function rGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hae=function(){return!!t})()}function wE(t){return wE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wE(t)}function iGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ck(t,e)}function zm(t){return oGe(t)||sGe(t)||pae(t)||aGe()}function aGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function sGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oGe(t){if(Array.isArray(t))return uk(t)}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(n),!0).forEach(function(r){Et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Et(t,e,n){return e=mae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=lGe(t,"string");return Hm(e)=="symbol"?e:e+""}function lGe(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cGe={xAxis:["bottom","top"],yAxis:["left","right"]},uGe={width:"100%",height:"100%"},gae={x:0,y:0};function z_(t){return t}var fGe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},dGe=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return De(De(De({},i),tr(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return De(De(De({},i),tr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return gae},yT=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(zm(o),zm(u)):o},[]);return s.length>0?s:e&&e.length&&We(i)&&We(a)?e.slice(i,a+1):[]};function vae(t){return t==="number"?[0,"auto"]:void 0}var fk=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=yT(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var y=h===void 0?o:h;g=ww(y,s.dataKey,i)}else g=h&&h[r]||o[r];return g?[].concat(zm(l),[Jre(u,g)]):l},[])},cW=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=fGe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=l$e(s,o,u,l);if(d>=0&&u){var h=u[d]&&u[d].value,g=fk(e,n,d,h),y=dGe(r,o,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:g,activeCoordinate:y}}return null},hGe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,g=e.stackOffset,y=Gre(d,a);return r.reduce(function(_,v){var b,E=v.type.defaultProps!==void 0?De(De({},v.type.defaultProps),v.props):v.props,N=E.type,C=E.dataKey,k=E.allowDataOverflow,O=E.allowDuplicatedCategory,I=E.scale,A=E.ticks,R=E.includeHidden,D=E[s];if(_[D])return _;var L=yT(e.data,{graphicalItems:i.filter(function(z){var Y,K=s in z.props?z.props[s]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[s];return K===D}),dataStartIndex:l,dataEndIndex:u}),j=L.length,B,F,re;BWe(E.domain,k,N)&&(B=wD(E.domain,null,k),y&&(N==="number"||I!=="auto")&&(re=bv(L,C,"category")));var q=vae(N);if(!B||B.length===0){var V,X=(V=E.domain)!==null&&V!==void 0?V:q;if(C){if(B=bv(L,C,N),N==="category"&&y){var Q=n4e(B);O&&Q?(F=B,B=sE(0,j)):O||(B=az(X,B,v).reduce(function(z,Y){return z.indexOf(Y)>=0?z:[].concat(zm(z),[Y])},[]))}else if(N==="category")O?B=B.filter(function(z){return z!==""&&!bt(z)}):B=az(X,B,v).reduce(function(z,Y){return z.indexOf(Y)>=0||Y===""||bt(Y)?z:[].concat(zm(z),[Y])},[]);else if(N==="number"){var ie=h$e(L,i.filter(function(z){var Y,K,J=s in z.props?z.props[s]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[s],fe="hide"in z.props?z.props.hide:(K=z.type.defaultProps)===null||K===void 0?void 0:K.hide;return J===D&&(R||!fe)}),C,a,d);ie&&(B=ie)}y&&(N==="number"||I!=="auto")&&(re=bv(L,C,"category"))}else y?B=sE(0,j):o&&o[D]&&o[D].hasStack&&N==="number"?B=g==="expand"?[0,1]:Zre(o[D].stackGroups,l,u):B=Wre(L,i.filter(function(z){var Y=s in z.props?z.props[s]:z.type.defaultProps[s],K="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Y===D&&(R||!K)}),N,d,!0);if(N==="number")B=lk(h,B,D,a,A),X&&(B=wD(X,B,k));else if(N==="category"&&X){var W=X,ce=B.every(function(z){return W.indexOf(z)>=0});ce&&(B=W)}}return De(De({},_),{},Et({},D,De(De({},E),{},{axisType:a,domain:B,categoricalDomain:re,duplicateDomain:F,originalDomain:(b=E.domain)!==null&&b!==void 0?b:q,isCategorical:y,layout:d})))},{})},pGe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,g=yT(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=g.length,_=Gre(d,a),v=-1;return r.reduce(function(b,E){var N=E.type.defaultProps!==void 0?De(De({},E.type.defaultProps),E.props):E.props,C=N[s],k=vae("number");if(!b[C]){v++;var O;return _?O=sE(0,y):o&&o[C]&&o[C].hasStack?(O=Zre(o[C].stackGroups,l,u),O=lk(h,O,C,a)):(O=wD(k,Wre(g,r.filter(function(I){var A,R,D=s in I.props?I.props[s]:(A=I.type.defaultProps)===null||A===void 0?void 0:A[s],L="hide"in I.props?I.props.hide:(R=I.type.defaultProps)===null||R===void 0?void 0:R.hide;return D===C&&!L}),"number",d),i.defaultProps.allowDataOverflow),O=lk(h,O,C,a)),De(De({},b),{},Et({},C,De(De({axisType:a},i.defaultProps),{},{hide:!0,orientation:ns(cGe,"".concat(a,".").concat(v%2),null),domain:O,originalDomain:k,isCategorical:_,layout:d})))}return b},{})},mGe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,h="".concat(i,"Id"),g=va(d,a),y={};return g&&g.length?y=hGe(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=pGe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),y},gGe=function(e){var n=hu(e),r=Vl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:j4(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Gw(n,r)}},uW=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ha(n,Pm),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},vGe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Yl(n&&n.type);return r&&r.indexOf("Bar")>=0})},fW=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yGe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,d=r.height,h=r.children,g=r.margin||{},y=Ha(h,Pm),_=Ha(h,Hp),v=Object.keys(l).reduce(function(O,I){var A=l[I],R=A.orientation;return!A.mirror&&!A.hide?De(De({},O),{},Et({},R,O[R]+A.width)):O},{left:g.left||0,right:g.right||0}),b=Object.keys(s).reduce(function(O,I){var A=s[I],R=A.orientation;return!A.mirror&&!A.hide?De(De({},O),{},Et({},R,ns(O,"".concat(R))+A.height)):O},{top:g.top||0,bottom:g.bottom||0}),E=De(De({},b),v),N=E.bottom;y&&(E.bottom+=y.props.height||Pm.defaultProps.height),_&&n&&(E=f$e(E,i,r,n));var C=u-E.left-E.right,k=d-E.top-E.bottom;return De(De({brushBottom:N},E),{},{width:Math.max(C,0),height:Math.max(k,0)})},xGe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},bL=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,g=function(E,N){var C=N.graphicalItems,k=N.stackGroups,O=N.offset,I=N.updateId,A=N.dataStartIndex,R=N.dataEndIndex,D=E.barSize,L=E.layout,j=E.barGap,B=E.barCategoryGap,F=E.maxBarSize,re=fW(L),q=re.numericAxisName,V=re.cateAxisName,X=vGe(C),Q=[];return C.forEach(function(ie,W){var ce=yT(E.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:R}),z=ie.type.defaultProps!==void 0?De(De({},ie.type.defaultProps),ie.props):ie.props,Y=z.dataKey,K=z.maxBarSize,J=z["".concat(q,"Id")],fe=z["".concat(V,"Id")],pe={},ye=l.reduce(function(cr,zi){var vr=N["".concat(zi.axisType,"Map")],Wt=z["".concat(zi.axisType,"Id")];vr&&vr[Wt]||zi.axisType==="zAxis"||Ld();var Ci=vr[Wt];return De(De({},cr),{},Et(Et({},zi.axisType,Ci),"".concat(zi.axisType,"Ticks"),Vl(Ci)))},pe),de=ye[V],he=ye["".concat(V,"Ticks")],Ce=k&&k[J]&&k[J].hasStack&&w$e(ie,k[J].stackGroups),me=Yl(ie.type).indexOf("Bar")>=0,Ue=Gw(de,he),$e=[],Je=X&&c$e({barSize:D,stackGroups:k,totalSize:xGe(ye,V)});if(me){var it,Fe,Rt=bt(K)?F:K,Ft=(it=(Fe=Gw(de,he,!0))!==null&&Fe!==void 0?Fe:Rt)!==null&&it!==void 0?it:0;$e=u$e({barGap:j,barCategoryGap:B,bandSize:Ft!==Ue?Ft:Ue,sizeList:Je[fe],maxBarSize:Rt}),Ft!==Ue&&($e=$e.map(function(cr){return De(De({},cr),{},{position:De(De({},cr.position),{},{offset:cr.position.offset-Ft/2})})}))}var nr=ie&&ie.type&&ie.type.getComposedData;nr&&Q.push({props:De(De({},nr(De(De({},ye),{},{displayedData:ce,props:E,dataKey:Y,item:ie,bandSize:Ue,barPosition:$e,offset:O,stackedData:Ce,layout:L,dataStartIndex:A,dataEndIndex:R}))),{},Et(Et(Et({key:ie.key||"item-".concat(W)},q,ye[q]),V,ye[V]),"animationId",I)),childIndex:p4e(ie,E.children),item:ie})}),Q},y=function(E,N){var C=E.props,k=E.dataStartIndex,O=E.dataEndIndex,I=E.updateId;if(!b9({props:C}))return null;var A=C.children,R=C.layout,D=C.stackOffset,L=C.data,j=C.reverseStackOrder,B=fW(R),F=B.numericAxisName,re=B.cateAxisName,q=va(A,r),V=b$e(L,q,"".concat(F,"Id"),"".concat(re,"Id"),D,j),X=l.reduce(function(z,Y){var K="".concat(Y.axisType,"Map");return De(De({},z),{},Et({},K,mGe(C,De(De({},Y),{},{graphicalItems:q,stackGroups:Y.axisType===F&&V,dataStartIndex:k,dataEndIndex:O}))))},{}),Q=yGe(De(De({},X),{},{props:C,graphicalItems:q}),N==null?void 0:N.legendBBox);Object.keys(X).forEach(function(z){X[z]=d(C,X[z],Q,z.replace("Map",""),n)});var ie=X["".concat(re,"Map")],W=gGe(ie),ce=g(C,De(De({},X),{},{dataStartIndex:k,dataEndIndex:O,updateId:I,graphicalItems:q,stackGroups:V,offset:Q}));return De(De({formattedGraphicalItems:ce,graphicalItems:q,offset:Q,stackGroups:V},W),X)},_=function(b){function E(N){var C,k,O;return ZWe(this,E),O=tGe(this,E,[N]),Et(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(O,"accessibilityManager",new FWe),Et(O,"handleLegendBBoxUpdate",function(I){if(I){var A=O.state,R=A.dataStartIndex,D=A.dataEndIndex,L=A.updateId;O.setState(De({legendBBox:I},y({props:O.props,dataStartIndex:R,dataEndIndex:D,updateId:L},De(De({},O.state),{},{legendBBox:I}))))}}),Et(O,"handleReceiveSyncEvent",function(I,A,R){if(O.props.syncId===I){if(R===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(A)}}),Et(O,"handleBrushChange",function(I){var A=I.startIndex,R=I.endIndex;if(A!==O.state.dataStartIndex||R!==O.state.dataEndIndex){var D=O.state.updateId;O.setState(function(){return De({dataStartIndex:A,dataEndIndex:R},y({props:O.props,dataStartIndex:A,dataEndIndex:R,updateId:D},O.state))}),O.triggerSyncEvent({dataStartIndex:A,dataEndIndex:R})}}),Et(O,"handleMouseEnter",function(I){var A=O.getMouseInfo(I);if(A){var R=De(De({},A),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var D=O.props.onMouseEnter;xt(D)&&D(R,I)}}),Et(O,"triggeredAfterMouseMove",function(I){var A=O.getMouseInfo(I),R=A?De(De({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(R),O.triggerSyncEvent(R);var D=O.props.onMouseMove;xt(D)&&D(R,I)}),Et(O,"handleItemMouseEnter",function(I){O.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),Et(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),Et(O,"handleMouseMove",function(I){I.persist(),O.throttleTriggeredAfterMouseMove(I)}),Et(O,"handleMouseLeave",function(I){O.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};O.setState(A),O.triggerSyncEvent(A);var R=O.props.onMouseLeave;xt(R)&&R(A,I)}),Et(O,"handleOuterEvent",function(I){var A=h4e(I),R=ns(O.props,"".concat(A));if(A&&xt(R)){var D,L;/.*touch.*/i.test(A)?L=O.getMouseInfo(I.changedTouches[0]):L=O.getMouseInfo(I),R((D=L)!==null&&D!==void 0?D:{},I)}}),Et(O,"handleClick",function(I){var A=O.getMouseInfo(I);if(A){var R=De(De({},A),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var D=O.props.onClick;xt(D)&&D(R,I)}}),Et(O,"handleMouseDown",function(I){var A=O.props.onMouseDown;if(xt(A)){var R=O.getMouseInfo(I);A(R,I)}}),Et(O,"handleMouseUp",function(I){var A=O.props.onMouseUp;if(xt(A)){var R=O.getMouseInfo(I);A(R,I)}}),Et(O,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),Et(O,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&O.handleMouseDown(I.changedTouches[0])}),Et(O,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&O.handleMouseUp(I.changedTouches[0])}),Et(O,"handleDoubleClick",function(I){var A=O.props.onDoubleClick;if(xt(A)){var R=O.getMouseInfo(I);A(R,I)}}),Et(O,"handleContextMenu",function(I){var A=O.props.onContextMenu;if(xt(A)){var R=O.getMouseInfo(I);A(R,I)}}),Et(O,"triggerSyncEvent",function(I){O.props.syncId!==void 0&&xR.emit(bR,O.props.syncId,I,O.eventEmitterSymbol)}),Et(O,"applySyncEvent",function(I){var A=O.props,R=A.layout,D=A.syncMethod,L=O.state.updateId,j=I.dataStartIndex,B=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)O.setState(De({dataStartIndex:j,dataEndIndex:B},y({props:O.props,dataStartIndex:j,dataEndIndex:B,updateId:L},O.state)));else if(I.activeTooltipIndex!==void 0){var F=I.chartX,re=I.chartY,q=I.activeTooltipIndex,V=O.state,X=V.offset,Q=V.tooltipTicks;if(!X)return;if(typeof D=="function")q=D(Q,I);else if(D==="value"){q=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===I.activeLabel){q=ie;break}}var W=De(De({},X),{},{x:X.left,y:X.top}),ce=Math.min(F,W.x+W.width),z=Math.min(re,W.y+W.height),Y=Q[q]&&Q[q].value,K=fk(O.state,O.props.data,q),J=Q[q]?{x:R==="horizontal"?Q[q].coordinate:ce,y:R==="horizontal"?z:Q[q].coordinate}:gae;O.setState(De(De({},I),{},{activeLabel:Y,activeCoordinate:J,activePayload:K,activeTooltipIndex:q}))}else O.setState(I)}),Et(O,"renderCursor",function(I){var A,R=O.state,D=R.isTooltipActive,L=R.activeCoordinate,j=R.activePayload,B=R.offset,F=R.activeTooltipIndex,re=R.tooltipAxisBandSize,q=O.getTooltipEventType(),V=(A=I.props.active)!==null&&A!==void 0?A:D,X=O.props.layout,Q=I.key||"_recharts-cursor";return ae.createElement(qWe,{key:Q,activeCoordinate:L,activePayload:j,activeTooltipIndex:F,chartName:n,element:I,isActive:V,layout:X,offset:B,tooltipAxisBandSize:re,tooltipEventType:q})}),Et(O,"renderPolarAxis",function(I,A,R){var D=ns(I,"type.axisType"),L=ns(O.state,"".concat(D,"Map")),j=I.type.defaultProps,B=j!==void 0?De(De({},j),I.props):I.props,F=L&&L[B["".concat(D,"Id")]];return T.cloneElement(I,De(De({},F),{},{className:Pt(D,F.className),key:I.key||"".concat(A,"-").concat(R),ticks:Vl(F,!0)}))}),Et(O,"renderPolarGrid",function(I){var A=I.props,R=A.radialLines,D=A.polarAngles,L=A.polarRadius,j=O.state,B=j.radiusAxisMap,F=j.angleAxisMap,re=hu(B),q=hu(F),V=q.cx,X=q.cy,Q=q.innerRadius,ie=q.outerRadius;return T.cloneElement(I,{polarAngles:Array.isArray(D)?D:Vl(q,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(L)?L:Vl(re,!0).map(function(W){return W.coordinate}),cx:V,cy:X,innerRadius:Q,outerRadius:ie,key:I.key||"polar-grid",radialLines:R})}),Et(O,"renderLegend",function(){var I=O.state.formattedGraphicalItems,A=O.props,R=A.children,D=A.width,L=A.height,j=O.props.margin||{},B=D-(j.left||0)-(j.right||0),F=zre({children:R,formattedGraphicalItems:I,legendWidth:B,legendContent:u});if(!F)return null;var re=F.item,q=oW(F,WWe);return T.cloneElement(re,De(De({},q),{},{chartWidth:D,chartHeight:L,margin:j,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),Et(O,"renderTooltip",function(){var I,A=O.props,R=A.children,D=A.accessibilityLayer,L=Ha(R,Cs);if(!L)return null;var j=O.state,B=j.isTooltipActive,F=j.activeCoordinate,re=j.activePayload,q=j.activeLabel,V=j.offset,X=(I=L.props.active)!==null&&I!==void 0?I:B;return T.cloneElement(L,{viewBox:De(De({},V),{},{x:V.left,y:V.top}),active:X,label:q,payload:X?re:[],coordinate:F,accessibilityLayer:D})}),Et(O,"renderBrush",function(I){var A=O.props,R=A.margin,D=A.data,L=O.state,j=L.offset,B=L.dataStartIndex,F=L.dataEndIndex,re=L.updateId;return T.cloneElement(I,{key:I.key||"_recharts-brush",onChange:B_(O.handleBrushChange,I.props.onChange),data:D,x:We(I.props.x)?I.props.x:j.left,y:We(I.props.y)?I.props.y:j.top+j.height+j.brushBottom-(R.bottom||0),width:We(I.props.width)?I.props.width:j.width,startIndex:B,endIndex:F,updateId:"brush-".concat(re)})}),Et(O,"renderReferenceElement",function(I,A,R){if(!I)return null;var D=O,L=D.clipPathId,j=O.state,B=j.xAxisMap,F=j.yAxisMap,re=j.offset,q=I.type.defaultProps||{},V=I.props,X=V.xAxisId,Q=X===void 0?q.xAxisId:X,ie=V.yAxisId,W=ie===void 0?q.yAxisId:ie;return T.cloneElement(I,{key:I.key||"".concat(A,"-").concat(R),xAxis:B[Q],yAxis:F[W],viewBox:{x:re.left,y:re.top,width:re.width,height:re.height},clipPathId:L})}),Et(O,"renderActivePoints",function(I){var A=I.item,R=I.activePoint,D=I.basePoint,L=I.childIndex,j=I.isRange,B=[],F=A.props.key,re=A.item.type.defaultProps!==void 0?De(De({},A.item.type.defaultProps),A.item.props):A.item.props,q=re.activeDot,V=re.dataKey,X=De(De({index:L,dataKey:V,cx:R.x,cy:R.y,r:4,fill:lL(A.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},ft(q,!1)),Ew(q));return B.push(E.renderActiveDot(q,X,"".concat(F,"-activePoint-").concat(L))),D?B.push(E.renderActiveDot(q,De(De({},X),{},{cx:D.x,cy:D.y}),"".concat(F,"-basePoint-").concat(L))):j&&B.push(null),B}),Et(O,"renderGraphicChild",function(I,A,R){var D=O.filterFormatItem(I,A,R);if(!D)return null;var L=O.getTooltipEventType(),j=O.state,B=j.isTooltipActive,F=j.tooltipAxis,re=j.activeTooltipIndex,q=j.activeLabel,V=O.props.children,X=Ha(V,Cs),Q=D.props,ie=Q.points,W=Q.isRange,ce=Q.baseLine,z=D.item.type.defaultProps!==void 0?De(De({},D.item.type.defaultProps),D.item.props):D.item.props,Y=z.activeDot,K=z.hide,J=z.activeBar,fe=z.activeShape,pe=!!(!K&&B&&X&&(Y||J||fe)),ye={};L!=="axis"&&X&&X.props.trigger==="click"?ye={onClick:B_(O.handleItemMouseEnter,I.props.onClick)}:L!=="axis"&&(ye={onMouseLeave:B_(O.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:B_(O.handleItemMouseEnter,I.props.onMouseEnter)});var de=T.cloneElement(I,De(De({},D.props),ye));function he(zi){return typeof F.dataKey=="function"?F.dataKey(zi.payload):null}if(pe)if(re>=0){var Ce,me;if(F.dataKey&&!F.allowDuplicatedCategory){var Ue=typeof F.dataKey=="function"?he:"payload.".concat(F.dataKey.toString());Ce=ww(ie,Ue,q),me=W&&ce&&ww(ce,Ue,q)}else Ce=ie==null?void 0:ie[re],me=W&&ce&&ce[re];if(fe||J){var $e=I.props.activeIndex!==void 0?I.props.activeIndex:re;return[T.cloneElement(I,De(De(De({},D.props),ye),{},{activeIndex:$e})),null,null]}if(!bt(Ce))return[de].concat(zm(O.renderActivePoints({item:D,activePoint:Ce,basePoint:me,childIndex:re,isRange:W})))}else{var Je,it=(Je=O.getItemByXY(O.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:de},Fe=it.graphicalItem,Rt=Fe.item,Ft=Rt===void 0?I:Rt,nr=Fe.childIndex,cr=De(De(De({},D.props),ye),{},{activeIndex:nr});return[T.cloneElement(Ft,cr),null,null]}return W?[de,null,null]:[de,null]}),Et(O,"renderCustomized",function(I,A,R){return T.cloneElement(I,De(De({key:"recharts-customized-".concat(R)},O.props),O.state))}),Et(O,"renderMap",{CartesianGrid:{handler:z_,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:z_},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:z_},YAxis:{handler:z_},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((C=N.id)!==null&&C!==void 0?C:mf("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=Hne(O.triggeredAfterMouseMove,(k=N.throttleDelay)!==null&&k!==void 0?k:1e3/60),O.state={},O}return iGe(E,b),eGe(E,[{key:"componentDidMount",value:function(){var C,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,k=C.children,O=C.data,I=C.height,A=C.layout,R=Ha(k,Cs);if(R){var D=R.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,j=fk(this.state,O,D,L),B=this.state.tooltipTicks[D].coordinate,F=(this.state.offset.top+I)/2,re=A==="horizontal",q=re?{x:B,y:F}:{y:B,x:F},V=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});V&&(q=De(De({},q),V.props.points[D].tooltipPosition),j=V.props.points[D].tooltipPayload);var X={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:L,activePayload:j,activeCoordinate:q};this.setState(X),this.renderCursor(R),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var O,I;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(C){zI([Ha(C.children,Cs)],[Ha(this.props.children,Cs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Ha(this.props.children,Cs);if(C&&typeof C.props.shared=="boolean"){var k=C.props.shared?"axis":"item";return o.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var k=this.container,O=k.getBoundingClientRect(),I=e5e(O),A={chartX:Math.round(C.pageX-I.left),chartY:Math.round(C.pageY-I.top)},R=O.width/k.offsetWidth||1,D=this.inRange(A.chartX,A.chartY,R);if(!D)return null;var L=this.state,j=L.xAxisMap,B=L.yAxisMap,F=this.getTooltipEventType(),re=cW(this.state,this.props.data,this.props.layout,D);if(F!=="axis"&&j&&B){var q=hu(j).scale,V=hu(B).scale,X=q&&q.invert?q.invert(A.chartX):null,Q=V&&V.invert?V.invert(A.chartY):null;return De(De({},A),{},{xValue:X,yValue:Q},re)}return re?De(De({},A),re):null}},{key:"inRange",value:function(C,k){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,A=C/O,R=k/O;if(I==="horizontal"||I==="vertical"){var D=this.state.offset,L=A>=D.left&&A<=D.left+D.width&&R>=D.top&&R<=D.top+D.height;return L?{x:A,y:R}:null}var j=this.state,B=j.angleAxisMap,F=j.radiusAxisMap;if(B&&F){var re=hu(B);return lz({x:A,y:R},re)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,k=this.getTooltipEventType(),O=Ha(C,Cs),I={};O&&k==="axis"&&(O.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Ew(this.props,this.handleOuterEvent);return De(De({},A),I)}},{key:"addListener",value:function(){xR.on(bR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xR.removeListener(bR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,k,O){for(var I=this.state.formattedGraphicalItems,A=0,R=I.length;A<R;A++){var D=I[A];if(D.item===C||D.props.key===C.key||k===Yl(D.item.type)&&O===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,k=this.state.offset,O=k.left,I=k.top,A=k.height,R=k.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:C},ae.createElement("rect",{x:O,y:I,height:A,width:R})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(k,O){var I=sW(O,2),A=I[0],R=I[1];return De(De({},k),{},Et({},A,R.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(k,O){var I=sW(O,2),A=I[0],R=I[1];return De(De({},k),{},Et({},A,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[C])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(C){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[C])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(C){var k=this.state,O=k.formattedGraphicalItems,I=k.activeItem;if(O&&O.length)for(var A=0,R=O.length;A<R;A++){var D=O[A],L=D.props,j=D.item,B=j.type.defaultProps!==void 0?De(De({},j.type.defaultProps),j.props):j.props,F=Yl(j.type);if(F==="Bar"){var re=(L.data||[]).find(function(Q){return vUe(C,Q)});if(re)return{graphicalItem:D,payload:re}}else if(F==="RadialBar"){var q=(L.data||[]).find(function(Q){return lz(C,Q)});if(q)return{graphicalItem:D,payload:q}}else if(cT(D,I)||uT(D,I)||Ly(D,I)){var V=V7e({graphicalItem:D,activeTooltipItem:I,itemData:B.data}),X=B.activeIndex===void 0?V:B.activeIndex;return{graphicalItem:De(De({},D),{},{childIndex:X}),payload:Ly(D,I)?B.data[V]:D.props.data[V]}}}return null}},{key:"render",value:function(){var C=this;if(!b9(this))return null;var k=this.props,O=k.children,I=k.className,A=k.width,R=k.height,D=k.style,L=k.compact,j=k.title,B=k.desc,F=oW(k,GWe),re=ft(F,!1);if(L)return ae.createElement(Lq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(WI,Ap({},re,{width:A,height:R,title:j,desc:B}),this.renderClipPath(),w9(O,this.renderMap)));if(this.props.accessibilityLayer){var q,V;re.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,re.role=(V=this.props.role)!==null&&V!==void 0?V:"application",re.onKeyDown=function(Q){C.accessibilityManager.keyboardEvent(Q)},re.onFocus=function(){C.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return ae.createElement(Lq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",Ap({className:Pt("recharts-wrapper",I),style:De({position:"relative",cursor:"default",width:A,height:R},D)},X,{ref:function(ie){C.container=ie}}),ae.createElement(WI,Ap({},re,{width:A,height:R,title:j,desc:B,style:uGe}),this.renderClipPath(),w9(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);Et(_,"displayName",n),Et(_,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Et(_,"getDerivedStateFromProps",function(b,E){var N=b.dataKey,C=b.data,k=b.children,O=b.width,I=b.height,A=b.layout,R=b.stackOffset,D=b.margin,L=E.dataStartIndex,j=E.dataEndIndex;if(E.updateId===void 0){var B=uW(b);return De(De(De({},B),{},{updateId:0},y(De(De({props:b},B),{},{updateId:0}),E)),{},{prevDataKey:N,prevData:C,prevWidth:O,prevHeight:I,prevLayout:A,prevStackOffset:R,prevMargin:D,prevChildren:k})}if(N!==E.prevDataKey||C!==E.prevData||O!==E.prevWidth||I!==E.prevHeight||A!==E.prevLayout||R!==E.prevStackOffset||!Up(D,E.prevMargin)){var F=uW(b),re={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},q=De(De({},cW(E,C,A)),{},{updateId:E.updateId+1}),V=De(De(De({},F),re),q);return De(De(De({},V),y(De({props:b},V),E)),{},{prevDataKey:N,prevData:C,prevWidth:O,prevHeight:I,prevLayout:A,prevStackOffset:R,prevMargin:D,prevChildren:k})}if(!zI(k,E.prevChildren)){var X,Q,ie,W,ce=Ha(k,Pm),z=ce&&(X=(Q=ce.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&X!==void 0?X:L,Y=ce&&(ie=(W=ce.props)===null||W===void 0?void 0:W.endIndex)!==null&&ie!==void 0?ie:j,K=z!==L||Y!==j,J=!bt(C),fe=J&&!K?E.updateId:E.updateId+1;return De(De({updateId:fe},y(De(De({props:b},E),{},{updateId:fe,dataStartIndex:z,dataEndIndex:Y}),E)),{},{prevChildren:k,dataStartIndex:z,dataEndIndex:Y})}return null}),Et(_,"renderActiveDot",function(b,E,N){var C;return T.isValidElement(b)?C=T.cloneElement(b,E):xt(b)?C=b(E):C=ae.createElement(Dx,E),ae.createElement(jt,{className:"recharts-active-dot",key:N},C)});var v=T.forwardRef(function(E,N){return ae.createElement(_,Ap({},E,{ref:N}))});return v.displayName=_.displayName,v},bGe=bL({chartName:"BarChart",GraphicalChild:Ps,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:C0},{axisType:"yAxis",AxisComp:Bd}],formatAxisMap:Nie}),_Ge=bL({chartName:"PieChart",GraphicalChild:Sc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lT},{axisType:"radiusAxis",AxisComp:sT}],formatAxisMap:I$e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),wGe=bL({chartName:"ComposedChart",GraphicalChild:[Lm,dh,Ps,vT],axisComponents:[{axisType:"xAxis",AxisComp:C0},{axisType:"yAxis",AxisComp:Bd},{axisType:"zAxis",AxisComp:gT}],formatAxisMap:Nie});const EGe=({data:t,selectedPartner:e,onlineDoctors:n,onlinePharmacists:r})=>{const i=T.useMemo(()=>{const s=e==="all"?t:t.filter(y=>y.partnerName===e),o=new Set,l=new Set,u=new Set,d=new Set,h=new Set;let g=0;return s.forEach(y=>{var E;const _=y.doctorCompleted===!1,v=y.doctorCompleted===!0&&y.pharmacistCompleted===!1&&y.isIncomplete===!1;(_||v)&&(g++,(E=y.assignedDoctors)!=null&&E.primary&&(y.consultationType=="audio"?u.add(y.assignedDoctors.primary):o.add(y.assignedDoctors.primary)),y.pharmacistId&&(y.consultationType=="audio"?d.add(y.pharmacistId):y.pharmacistJoined&&l.add(y.pharmacistId))),y.clinicCode&&h.add(y.clinicCode)}),{totalCases:s.length,activeCases:g,busyDoctors:o.size,busyPharmacists:l.size,audioDoctors:u.size,audioPharmacists:d.size,activeClinics:h.size}},[t,e]),a=[{title:"Total Cases",value:i.totalCases},{title:"Active Cases",value:i.activeCases}];return p.jsx("div",{className:"mb-6",children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.map((s,o)=>p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:s.title}),p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.value})]},o)),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Busy Doctors"}),p.jsx("table",{children:p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:i.busyDoctors})}),p.jsx("td",{children:p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:i.audioDoctors})}),p.jsx("td",{children:p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:n})})]}),p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Video|"})}),p.jsx("td",{children:p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Audio|"})}),p.jsx("td",{children:p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Online"})})]})]})})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Busy Pharmacists"}),p.jsx("table",{children:p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:i.busyPharmacists})}),p.jsx("td",{children:p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:i.audioPharmacists})}),p.jsx("td",{children:p.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:r})})]}),p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Video|"})}),p.jsx("td",{children:p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Audio|"})}),p.jsx("td",{children:p.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Online"})})]})]})})]})]})})},SGe=({data:t,selectedPartner:e,granularity:n,setGranularity:r,selectedDate:i})=>{const a=T.useMemo(()=>{const s=e==="all"?t:t.filter(y=>y.partnerName===e),o=[],l=8,u=22,d=n*60*1e3,h=new Date(i);h.setHours(l,0,0,0);const g=new Date(i);g.setHours(u,0,0,0),Math.min(g.getTime(),h.getTime()+(u-l)*60*60*1e3);for(let y=h.getTime();y<h.getTime()+(u-l)*60*60*1e3;y+=d){const _=new Date(y),v=`${_.getHours()}:${String(_.getMinutes()).padStart(2,"0")}`;let b=0,E=0;s.forEach(N=>{let C=null;(N.status==="completed"||N.isIncomplete===!0)&&(N.pharmacistCompletedAt?C=N.pharmacistCompletedAt.toDate():N.doctorCompletedAt&&(C=N.doctorCompletedAt.toDate()));const k=new Date(y+d),O=N.createdAt.toDate();if(O>_&&O<k&&(b++,C)){const I=C-O;I>0&&(E+=I)}}),b>0?E=E/b:E=0,o.push({time:v,completedCases:b,avgTAT:E,period:n===60?`${v} - ${new Date(y+d).getHours()}:00`:`${v} - ${new Date(y+d).getHours()}:${String(new Date(y+d).getMinutes()).padStart(2,"0")}`})}return o},[t,e,n,i]);return p.jsx("div",{className:"mb-6",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cases Completion Timeline"}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Cases created (including incomplete) from 8 AM - 10 PM on"," ",new Date(i).toLocaleDateString()]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>r(60),className:`px-3 py-1 rounded text-sm ${n===60?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Hourly"}),p.jsx("button",{onClick:()=>r(15),className:`px-3 py-1 rounded text-sm ${n===15?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"15 Min"})]})]}),p.jsx("div",{className:"h-80",children:p.jsx(L4,{width:"100%",height:"100%",children:p.jsxs(wGe,{data:a,margin:{top:5,right:30,left:20,bottom:5},barGap:n===60?-40:-10,children:[p.jsx(xL,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),p.jsx(C0,{dataKey:"time",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60,padding:{left:10,right:10}}),p.jsx(Bd,{tick:{fontSize:12}}),p.jsx(Bd,{yAxisId:"right",orientation:"right",tick:{fontSize:12},tickFormatter:s=>`${(s/6e4).toFixed(1)} min`}),p.jsx(Cs,{formatter:(s,o)=>o==="Average TAT"?[`${(s/6e4).toFixed(0)} min`,o]:o==="Completed Cases"?[s,"Cases Created"]:[],labelFormatter:(s,o)=>o&&o.length>0?`Period: ${o[0].payload.period}`:`Time: ${s}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),p.jsx(Ps,{barSize:n===60?40:10,radius:n===60?[20,20,0,0]:[0,0,0,0],dataKey:"completedCases",fill:"#7EBDC2",name:"Completed Cases",stackId:"stack",offset:17}),p.jsx(Ps,{barSize:n===60?40:10,radius:n===60?[20,20,0,0]:[0,0,0,0],dataKey:"avgTAT",fill:"#BB4430",name:"Average TAT",yAxisId:"right",stackId:"stack",offset:17}),p.jsx(Lm,{type:"monotone",dataKey:"completedCases",stroke:"#7EBDC2",strokeWidth:2,name:"Completed Cases (Line)",dot:{r:5}}),p.jsx(Lm,{type:"monotone",dataKey:"avgTAT",stroke:"#BB4430",strokeWidth:2,yAxisId:"right",name:"Average TAT (Line)",dot:{r:5}})]})})}),p.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[p.jsx("div",{className:"text-lg font-semibold text-gray-900",children:a.reduce((s,o)=>s+o.completedCases,0)}),p.jsx("div",{className:"text-sm text-gray-500",children:"Total Completed"})]}),p.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[p.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Math.max(...a.map(s=>s.completedCases))}),p.jsx("div",{className:"text-sm text-gray-500",children:"Peak Period"})]}),p.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[p.jsx("div",{className:"text-lg font-semibold text-gray-900",children:(a.reduce((s,o)=>s+o.completedCases,0)/a.length).toFixed(1)}),p.jsx("div",{className:"text-sm text-gray-500",children:"Average per Period"})]})]})]})})},TGe=({data:t,selectedPartner:e,granularity:n,setGranularity:r,totalDoctors:i,totalPharmacists:a})=>{const s=T.useMemo(()=>{const o=e==="all"?t:t.filter(v=>v.partnerName===e),l=[],u=8,d=22,h=n*60*1e3,g=new Date,y=new Date;y.setHours(u,0,0,0);const _=Math.min(g.getTime(),y.getTime()+(d-u)*60*60*1e3);for(let v=y.getTime();v<=_;v+=h){const b=new Date(v);if(b>g)break;const E=`${b.getHours()}:${String(b.getMinutes()).padStart(2,"0")}`;let N=0;const C=new Set,k=new Set;o.forEach(O=>{var D,L;const I=(D=O.createdAt)==null?void 0:D.toDate();let A=null;(O.doctorCompleted===!0&&O.pharmacistCompleted===!0||O.isIncomplete===!0)&&(O.pharmacistCompletedAt?A=O.pharmacistCompletedAt.toDate():O.doctorCompletedAt&&(A=O.doctorCompletedAt.toDate())),I&&I<=b&&(!A||A>b)&&(N++,(L=O.assignedDoctors)!=null&&L.primary&&C.add(O.assignedDoctors.primary),O.pharmacistId&&k.add(O.pharmacistId))}),l.push({time:E,activeCases:N,busyDoctors:C.size,busyPharmacists:k.size,totalDoctors:i,totalPharmacists:a})}return l},[t,e,n,i,a]);return p.jsx("div",{className:"mb-6",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Cases Timeline"}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Cases in progress and unique staff working on them "," ",i," total doctors, ",a," total pharmacists"]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>r(60),className:`px-3 py-1 rounded text-sm ${n===60?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Hourly"}),p.jsx("button",{onClick:()=>r(15),className:`px-3 py-1 rounded text-sm ${n===15?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"15 Min"})]})]}),p.jsx("div",{className:"h-80",children:p.jsx(L4,{width:"100%",height:"100%",children:p.jsxs(bGe,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[p.jsx(xL,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),p.jsx(C0,{dataKey:"time",tick:{fontSize:12}}),p.jsx(Bd,{tick:{fontSize:12}}),p.jsx(Cs,{formatter:(o,l,u)=>{const d=u.payload;return l==="Active Cases"?[o,l]:l==="Busy Doctors"?[`${o}/${d.totalDoctors}`,l]:l==="Busy Pharmacists"?[`${o}/${d.totalPharmacists}`,l]:[o,l]},contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),p.jsx(Ps,{dataKey:"activeCases",fill:"#3b82f6",name:"Active Cases"}),p.jsx(Ps,{dataKey:"busyDoctors",fill:"#10b981",name:"Busy Doctors"}),p.jsx(Ps,{dataKey:"busyPharmacists",fill:"#f59e0b",name:"Busy Pharmacists"})]})})})]})})},AGe=({data:t,selectedPartner:e,totalClinicsFromUsers:n})=>{const r=T.useMemo(()=>{const s=new Set;(e==="all"?t:t.filter(h=>h.partnerName===e)).forEach(h=>{h.clinicCode&&s.add(h.clinicCode)});const l=s.size,u=n,d=Math.max(0,u-l);return{totalClinics:u,activeClinics:l,inactiveClinics:d,utilizationRate:u>0?l/u*100:0}},[t,e,n]),i=[{name:"Active Clinics",value:r.activeClinics,color:"#10b981"},{name:"Inactive Clinics",value:r.inactiveClinics,color:"#e5e7eb"}],a=r.totalClinics===0?[{name:"No Data",value:1,color:"#f3f4f6"}]:i;return p.jsx("div",{className:"mb-6",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Clinic Distribution"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Active vs inactive clinics"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(L4,{width:300,height:300,children:p.jsxs(_Ge,{children:[p.jsx(Sc,{data:a,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",children:a.map((s,o)=>p.jsx(Nx,{fill:s.color},`cell-${o}`))}),p.jsx(Cs,{})]})})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[p.jsx("div",{className:"text-xl font-semibold text-gray-900",children:r.totalClinics}),p.jsx("div",{className:"text-sm text-gray-500",children:"Total Clinics"})]}),p.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[p.jsx("div",{className:"text-xl font-semibold text-green-600",children:r.activeClinics}),p.jsx("div",{className:"text-sm text-gray-500",children:"Active Today"})]})]}),p.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Utilization Rate"}),p.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[r.utilizationRate.toFixed(1),"%"]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(r.utilizationRate,100)}%`}})})]}),r.totalClinics>0&&p.jsxs("div",{className:"flex justify-center space-x-6 pt-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),p.jsxs("span",{className:"text-sm text-gray-700",children:["Active (",r.activeClinics,")"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full mr-2"}),p.jsxs("span",{className:"text-sm text-gray-700",children:["Inactive (",r.inactiveClinics,")"]})]})]})]})]})]})})},CGe=({currentUser:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState([]),[a,s]=T.useState(0),[o,l]=T.useState(0),[u,d]=T.useState(0),[h,g]=T.useState(0),[y,_]=T.useState(0),[v,b]=T.useState(!0),[E,N]=T.useState(null),[C,k]=T.useState("all"),[O,I]=T.useState(15),[A,R]=T.useState(""),[D,L]=T.useState(!1),[j,B]=T.useState(new Date),[F,re]=T.useState("today"),[q,V]=T.useState(new Date);T.useEffect(()=>{const z=setInterval(()=>{V(new Date)},6e4);return()=>clearInterval(z)},[]),T.useEffect(()=>{let z=[];C!=="all"?z=[tt("partnerName","==",C),tt("availabilityStatus","!=","on_break")]:z=[tt("availabilityStatus","!=","on_break")];const Y=kt(dn(st,"users"),tt("role","==","doctor"),...z),K=kt(dn(st,"users"),tt("role","==","pharmacist"),...z),J=Au(Y,pe=>{let ye=0;pe.forEach(de=>{switch(de.data().availabilityStatus){case"unavailable":e.some(he=>{var Ce;return((Ce=he.assignedDoctors)==null?void 0:Ce.primary)===de.id&&he.doctorCompleted===!1})&&ye++;break;case"available":case"busy":default:ye++;break}}),g(ye)}),fe=Au(K,pe=>{let ye=0;pe.forEach(de=>{switch(de.data().availabilityStatus){case"unavailable":e.some(he=>he.pharmacistId===de.id&&he.status==="doctor_completed")&&ye++;break;case"available":case"busy":default:ye++;break}}),_(ye)});return()=>{J(),fe()}},[C,e]),T.useEffect(()=>{(async()=>{try{const Y=kt(dn(st,"users"),tt("role","==","nurse")),K=await ur(Y),J=new Set;K.docs.forEach(fe=>{const pe=fe.data();pe.clinicCode&&J.add(pe.clinicCode)}),s(J.size)}catch(Y){console.error("Error fetching total clinics:",Y)}})()},[]),T.useEffect(()=>{(async()=>{try{const Y=kt(dn(st,"users"),tt("role","==","doctor")),K=await ur(Y);l(K.size);const J=kt(dn(st,"users"),tt("role","==","pharmacist")),fe=await ur(J);d(fe.size)}catch(Y){console.error("Error fetching total staff:",Y)}})()},[]),T.useEffect(()=>{(async()=>{if(F!=="today")try{const Y=new Date(j);Y.setHours(0,0,0,0);const K=new Date(Y);K.setDate(K.getDate()+1);const J=kt(dn(st,"cases"),tt("createdAt",">=",fn.fromDate(Y)),tt("createdAt","<",fn.fromDate(K)),Jr("createdAt","desc")),pe=(await ur(J)).docs.map(ye=>{var he,Ce,me;const de=ye.data();return{id:ye.id,...de,createdAtProcessed:(he=de.createdAt)==null?void 0:he.toDate(),doctorCompletedAtProcessed:(Ce=de.doctorCompletedAt)==null?void 0:Ce.toDate(),pharmacistCompletedAtProcessed:(me=de.pharmacistCompletedAt)==null?void 0:me.toDate()}});i(pe)}catch(Y){console.error("Error fetching selected date data:",Y)}})()},[j,F]),T.useEffect(()=>{const z=performance.now(),Y=new Date;Y.setHours(0,0,0,0);const K=new Date(Y);K.setDate(K.getDate()+1);const J=kt(dn(st,"cases"),tt("createdAt",">=",fn.fromDate(Y)),tt("createdAt","<",fn.fromDate(K)),Jr("createdAt","desc"));(async()=>{try{const ye=(await ur(J)).docs.map(me=>{var $e,Je,it;const Ue=me.data();return{id:me.id,...Ue,createdAtProcessed:($e=Ue.createdAt)==null?void 0:$e.toDate(),doctorCompletedAtProcessed:(Je=Ue.doctorCompletedAt)==null?void 0:Je.toDate(),pharmacistCompletedAtProcessed:(it=Ue.pharmacistCompletedAt)==null?void 0:it.toDate()}});n(ye),b(!1);const de=performance.now();console.log(`Data fetch completed in ${(de-z).toFixed(2)} milliseconds`);const he=kt(dn(st,"cases"),tt("createdAt",">=",fn.fromDate(new Date)),Jr("createdAt","desc")),Ce=Au(he,me=>{const Ue=[];me.docChanges().forEach($e=>{var Je,it,Fe;if($e.type==="added"){const Rt=$e.doc.data(),Ft={id:$e.doc.id,...Rt,createdAtProcessed:(Je=Rt.createdAt)==null?void 0:Je.toDate(),doctorCompletedAtProcessed:(it=Rt.doctorCompletedAt)==null?void 0:it.toDate(),pharmacistCompletedAtProcessed:(Fe=Rt.pharmacistCompletedAt)==null?void 0:Fe.toDate()};ye.some(nr=>nr.id===Ft.id)||Ue.push(Ft)}}),Ue.length>0&&n($e=>[...Ue,...$e])},me=>{N(me.message)});return()=>Ce()}catch(pe){N(pe.message),b(!1)}})()},[t.uid]);const X=T.useMemo(()=>{const z=[...new Set(e.map(K=>K.partnerName))].filter(Boolean),Y=[...new Set(r.map(K=>K.partnerName))].filter(Boolean);return[...new Set([...z,...Y])]},[e,r]),Q=T.useMemo(()=>A?X.filter(z=>z.toLowerCase().includes(A.toLowerCase())):X,[X,A]),ie=z=>{k(z),R(z==="all"?"":z),L(!1)},W=z=>{B(new Date(z))},ce=F==="today"?e:r;return v?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-transparent",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),p.jsx("div",{className:"text-lg font-medium text-gray-600",children:"Loading analytics..."})]})}):E?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-transparent",children:p.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow",children:[p.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:"Error loading data"}),p.jsx("div",{className:"text-gray-600",children:E})]})}):p.jsx("div",{className:"min-h-screen bg-transparent",children:p.jsxs("div",{className:"max-w-9xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Analytics Dashboard"}),p.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]}),p.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>re("today"),className:`px-4 py-2 rounded-md text-sm font-medium ${F==="today"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Today's Activity"}),p.jsx("button",{onClick:()=>re("previous"),className:`px-4 py-2 rounded-md text-sm font-medium ${F==="previous"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Historical Data"})]}),F==="previous"&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Date:"}),p.jsx("input",{type:"date",value:j.toISOString().split("T")[0],onChange:z=>W(z.target.value),max:new Date().toISOString().split("T")[0],className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Partner"}),p.jsxs("div",{className:"relative max-w-xs",children:[p.jsx("input",{type:"text",value:A,onChange:z=>{R(z.target.value),L(!0)},onFocus:()=>L(!0),placeholder:"Search partners...",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:p.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),D&&p.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:[p.jsx("div",{onClick:()=>ie("all"),className:`px-4 py-2 cursor-pointer hover:bg-gray-50 ${C==="all"?"bg-blue-50 text-blue-600":"text-gray-900"}`,children:"All Partners"}),Q.map(z=>p.jsx("div",{onClick:()=>ie(z),className:`px-4 py-2 cursor-pointer hover:bg-gray-50 ${C===z?"bg-blue-50 text-blue-600":"text-gray-900"}`,children:z},z)),Q.length===0&&A&&p.jsx("div",{className:"px-4 py-2 text-gray-500 text-sm",children:"No partners found"})]})]}),D&&p.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>L(!1)})]}),F==="today"?p.jsxs(p.Fragment,{children:[p.jsx(EGe,{data:ce,selectedPartner:C,onlineDoctors:h,onlinePharmacists:y}),p.jsx(TGe,{data:ce,selectedPartner:C,granularity:O,setGranularity:I,totalDoctors:o,totalPharmacists:u}),p.jsx(AGe,{data:ce,selectedPartner:C,totalClinicsFromUsers:a})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"mb-6",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Cases Data for ",j.toLocaleDateString()]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["Total cases: ",ce.length]})]})}),p.jsx(SGe,{data:ce,selectedPartner:C,granularity:O,setGranularity:I,selectedDate:j})]})]})})};function NGe({className:t,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:Lt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}let yae,dk;yae={},dk={MSID:"MS000001",nameQA:"Test QA",emailQA:"testqa@gmail.com",isDefault:!0};const _L=[{value:"online-team",label:"Online Team (Agent/Pharmacist/TL) |   (//.)"},{value:"offline-team",label:"Offline Team (DC/Field ops manager) |   (/  )"},{value:"sales-diagnostic-team",label:"Sales & Diagnostic Team (Agent/TL) |     (/.)"},{value:"hr-team",label:" HR Team (Salary/Accounts/Zing) |   (//)"},{value:"branch-issues",label:"Branch Issues (BM/RM) |    (./.)"},{value:"doctor-issues",label:"Doctor | "},{value:"clinic-issues",label:"Clinic Issues (Instruments/Tab/Furniture) |    (///)"},{value:"medicine-issues",label:"Medicine Issues |    "},{value:"sim-card-issues",label:"Sim card Issues |     "}],wL={none:[],"online-team":[{value:"delay-joining",label:"Delay in Joining (Pharmacist or Agent) |    (  )"},{value:"behaviour-issues",label:"Behaviour Issue (Pharmacist or Agent) |    (  )"},{value:"data-not-available",label:"Data Not Available (Awareness Call/FDB Call) |    ( /.. )"},{value:"not-picking-calls",label:"Agent/Pharmacist Not Picking Calls | /     "}],"offline-team":[{value:"behaviour-issues",label:"DC/State Ops Behaviour Issue | /     "},{value:"not-picking-calls",label:"DC/State Ops Not Coordinating or Not Picking Calls | /            "}],"sales-diagnostic-team":[{value:"data-not-available",label:"Data Not Available for Calling |        "},{value:"diagnosis-issues",label:"Sample Collection for Diagnosis Issue |       "},{value:"incorrect-report",label:"Wrong or Incorrect Report |    "}],"hr-team":[{value:"salary-issues",label:"Salary or Incentives Related Issues |      "},{value:"zinghr-issues",label:"ZingHR Login Related Issues | ZingHR    "}],"branch-issues":[{value:"behaviour-issues",label:"BM/RM Behaviour Related Issues | /     "}],"doctor-issues":[{value:"joining-delay",label:"Delay in Doctor Joining |     "},{value:"behaviour-issues",label:"Doctor Behaviour Issue |      "}],"clinic-issues":[{value:"bp-machine-issues",label:"B.P. Machine Not Working or Not Available | ..          "},{value:"thermometer-issues",label:"Thermometer Not Working or Not Available |          "},{value:"pulse-oximeter-issues",label:"Pulse Oximeter Not Working or Not Available |           "},{value:"weighing-machine-issues",label:"Weighing Machine Not Working or Not Available |             "},{value:"tab-issues",label:"Tab Not Working |      "},{value:"furniture-issues",label:"Furniture Issue |   "},{value:"battery-issues",label:"Battery Related Issues |    "},{value:"hygiene-issues",label:"Hygiene Related Issues |    "},{value:"water-electricity-issues",label:"Water and Electricity Issue |      "},{value:"rent-issues",label:"Rent Related Issues |    "},{value:"location-issues",label:"Clinic Location Related Issues |      "},{value:"other-issues",label:"Clinic Board/Banner/Green Cloth/Medicine Rack Related Issues |  // /    "}],"medicine-issues":[{value:"medicine-delay",label:"Medicines Delay for Long Time |      "},{value:"medicine-not-available",label:"Regular Medicine Not Available |     "},{value:"medicine-no-update",label:"No Update for Medicines, Raised Issue Long Time Back |       ,      "},{value:"medicine-expiry-issues",label:"Medicine Expiry Related Issues |      "},{value:"medicine-inventory-issues",label:"Medicine Inventory Related Issue (MInsure App or Forms) |      (MInsure      )"}],"sim-card-issues":[{value:"network-issues",label:"Network Related Issues |    "},{value:"not-working",label:"SIM Not Working |      "},{value:"recharge-issues",label:"Recharge Related Issues |    "},{value:"not-available",label:"SIM Not Available |    "}]},OGe=({currentUser:t})=>{const[e,n]=T.useState({subject:"",description:""}),[r,i]=T.useState(""),[a,s]=T.useState(dk),[o,l]=T.useState("none"),[u,d]=T.useState(null);T.useEffect(()=>{const y=yae[t.state];s(y||dk)},[t]);const h=y=>{const{name:_,value:v}=y.target;n(b=>({...b,[_]:v}))},g=async y=>{if(y.preventDefault(),!e.description){i("Please fill out all fields.");return}try{await Nme(dn(st,"tickets"),{...e,userId:t.uid,createdAt:new Date,status:"open",issue:o,subIssue:u,qaName:a.nameQA,qaEmail:a.emailQA,state:t.state,name:t.name,clinicCode:t.clinicCode,comments:[{time:new Date,comment:e.description,side:"nurse"}]}),n({subject:"",description:""}),i(""),alert("Ticket submitted successfully!")}catch(_){console.error("Error submitting ticket:",_),i("Failed to submit ticket. Please try again.")}};return p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Submit a New Ticket"}),r&&p.jsx(nn,{variant:"destructive",className:"mb-4",children:p.jsx(rn,{children:r})}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"text-gray-700 text-sm",children:"Your query will be submitted to:"}),p.jsxs(Gn,{className:"bg-sky-100 text-sky-800 text-sm border-sky-200 px-2 py-1 rounded-md relative overflow-visible",children:[a.nameQA," (",a.emailQA,")"]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Issue Category"}),p.jsxs(im,{value:o,onValueChange:l,children:[p.jsx(sm,{className:"w-[600px]",children:p.jsx(am,{placeholder:"Select a category"})}),p.jsx(om,{children:_L.map(y=>p.jsx(Ya,{value:y.value,children:y.label}))})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Issue Sub-Category"}),p.jsxs(im,{value:u,onValueChange:d,children:[p.jsx(sm,{className:"w-[600px]",children:p.jsx(am,{placeholder:"Select a category"})}),p.jsx(om,{children:wL[o].map(y=>p.jsx(Ya,{value:y.value,children:y.label}))})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),p.jsx(NGe,{id:"description",name:"description",value:e.description,onChange:h,placeholder:"Describe your issue"})]}),p.jsx(nt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Submit Ticket"})]})]})},PGe=t=>t?t instanceof Date?t.toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):new Date(t.toDate()).toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",xae=({ticketItem:t,userType:e})=>{const[n,r]=T.useState(t.comments||[]),[i,a]=T.useState(""),[s,o]=T.useState(null),l=T.useRef(null),u=()=>{var g;(g=l.current)==null||g.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{const g=hn(st,"tickets",t.id);o(g)},[t]),T.useEffect(()=>{u()},[n]);const d=()=>{if(i.trim()==="")return;const g={comment:i,side:e,time:new Date},y=[...n,g];r(y),iY(s,{comments:y}),a("")},h=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),d())};return p.jsxs("div",{className:"flex flex-col h-full w-full mx-auto bg-white rounded-xl shadow-lg border border-gray-200",children:[p.jsxs("div",{className:"p-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t.subject}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Clinic: ",t.name]})]}),p.jsx("div",{className:"flex-1 max-h-96 p-4 overflow-y-auto bg-gray-50",children:p.jsxs("div",{className:"space-y-4",children:[n.map((g,y)=>{const _=g.side===e;return p.jsx("div",{className:`flex ${_?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:"flex items-end max-w-md",children:[!_&&p.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center mr-3 flex-shrink-0",children:p.jsx("span",{className:"text-sm font-bold text-gray-600",children:g.side.charAt(0).toUpperCase()})}),p.jsxs("div",{className:`rounded-lg px-4 py-2 shadow-sm ${_?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[p.jsx("p",{className:"text-sm",children:g.comment}),p.jsx("p",{className:`text-xs mt-1 ${_?"text-blue-100":"text-gray-500"} text-right`,children:PGe(g.time)})]}),_&&p.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center ml-3 flex-shrink-0",children:p.jsx("span",{className:"text-sm font-bold text-white",children:g.side.charAt(0).toUpperCase()})})]})},y)}),p.jsx("div",{ref:l})]})}),p.jsx("div",{className:"p-4 bg-white border-t border-gray-200 rounded-b-xl",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("textarea",{className:"flex-1 w-full p-2 text-sm text-gray-700 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"Type your message...",value:i,onChange:g=>a(g.target.value),onKeyPress:h}),p.jsx("button",{onClick:d,disabled:!i.trim(),className:"px-4 py-2 font-semibold text-white bg-blue-600 rounded-lg disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors","aria-label":"Send comment",children:p.jsx(zge,{className:"w-5 h-5"})})]})})]})},RGe={open:"Open","in-progress":"In Progress",resolved:"Resolved",closed:"Closed"},IGe=({currentUser:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState(null);return T.useEffect(()=>{if(t){const a=kt(dn(st,"tickets"),tt("userId","==",t.uid),Jr("createdAt","desc")),s=Au(a,o=>{const l=o.docs.map(u=>({id:u.id,...u.data()}));l.sort((u,d)=>u.status==="closed"&&d.status!=="closed"?1:u.status!=="closed"&&d.status==="closed"?-1:0),n(l)});return()=>s()}},[t]),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Your Tickets"}),e.length===0?p.jsx("p",{className:"text-gray-500",children:"No tickets found. Submit a new ticket to get started."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Jd,{children:[p.jsx(eh,{children:p.jsxs(ma,{children:[p.jsx(un,{children:"Subject"}),p.jsx(un,{children:"Status"}),p.jsx(un,{children:"Created At"}),p.jsx(un,{children:"Updated At"}),p.jsx(un,{children:"Last Comment"})]})}),p.jsx(th,{children:e.map(a=>{const s=a.comments[a.comments.length-1];let o=s.side==="nurse"?"Nurse: ":"QA: ";o+=s.comment,o=o.length>50?o.slice(0,50)+"...":o;const l=_L.find(d=>d.value===a.issue).label.split(" | ")[0],u=wL[a.issue].find(d=>d.value===a.subIssue).label.split(" | ")[0];return p.jsxs(ma,{children:[p.jsx(Xt,{children:l+" | "+u}),p.jsx(Xt,{children:RGe[a.status]||a.status}),p.jsx(Xt,{children:new Date(a.createdAt.toDate()).toLocaleString()}),p.jsx(Xt,{children:a.lastUpdatedAt?new Date(a.lastUpdatedAt.toDate()).toLocaleString():"N/A"}),p.jsx(Xt,{children:o}),p.jsx(Xt,{children:p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>i(a),children:p.jsx(a0,{className:"w-2 h-2"})})})]},a.id)})})]})}),r&&p.jsx(Rs,{className:"p-0 max-h-xl overflow-y-auto",open:!0,onOpenChange:a=>i(a?r:null),children:p.jsx(Is,{className:"p-0 max-h-xl overflow-y-auto",children:p.jsx(xae,{ticketItem:r,userType:"nurse"})})})]})},DGe=({currentUser:t})=>{const[e,n]=T.useState("newTicket");return T.useEffect(()=>{},[]),p.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[p.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Feedback Portal"}),p.jsxs(dM,{value:e,onValueChange:n,children:[p.jsxs(hM,{className:"mb-4",children:[p.jsx(Bo,{value:"newTicket",children:"New Ticket"}),p.jsx(Bo,{value:"yourTickets",children:"Your Tickets"})]}),p.jsx($o,{value:"newTicket",children:p.jsx(OGe,{currentUser:t})}),p.jsx($o,{value:"yourTickets",children:p.jsx(IGe,{currentUser:t})})]})]})},kGe=({currentUser:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState(null),a=async(s,o)=>{try{const l=hn(st,"tickets",s);await Ta(l,{status:o,lastUpdatedAt:new Date},{merge:!0}),n(d=>d.map(h=>h.id===s?{...h,status:o}:h))}catch(l){console.error("Error updating status:",l)}};return T.useEffect(()=>{if(console.log(t.email),t){const s=kt(dn(st,"tickets"),tt("qaEmail","==",t.email),Jr("createdAt","desc")),o=Au(s,l=>{const u=l.docs.map(d=>({id:d.id,...d.data()}));u.sort((d,h)=>d.status==="closed"&&h.status!=="closed"?1:d.status!=="closed"&&h.status==="closed"?-1:0),n(u)});return()=>o()}},[t]),p.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[p.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Feedback Portal"}),p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Tickets Assigned to You"}),e.length===0?p.jsx("p",{className:"text-gray-500",children:"No tickets found. Submit a new ticket to get started."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Jd,{children:[p.jsx(eh,{children:p.jsxs(ma,{children:[p.jsx(un,{children:"Clinic Name"}),p.jsx(un,{children:"Issue Category"}),p.jsx(un,{children:"Status"}),p.jsx(un,{children:"Created At"}),p.jsx(un,{children:"Last Updated At"}),p.jsx(un,{children:"Last Comment"})]})}),p.jsx(th,{children:e.map(s=>{const o=s.comments[s.comments.length-1];let l=o.side==="nurse"?"Nurse: ":"QA: ";l+=o.comment,l=l.length>50?l.slice(0,50)+"...":l;const u=_L.find(h=>h.value===s.issue).label.split(" | ")[0],d=wL[s.issue].find(h=>h.value===s.subIssue).label.split(" | ")[0];return p.jsxs(ma,{children:[p.jsxs(Xt,{children:[s.name," | ",s.clinicCode]}),p.jsx(Xt,{children:u+" | "+d}),p.jsx(Xt,{children:p.jsxs(im,{value:s.status,onValueChange:h=>a(s.id,h),children:[p.jsx(sm,{children:p.jsx(am,{placeholder:"Select status"})}),p.jsxs(om,{children:[p.jsx(Ya,{value:"open",children:"Open"}),p.jsx(Ya,{value:"in-progress",children:"In Progress"}),p.jsx(Ya,{value:"resolved",children:"Resolved"}),p.jsx(Ya,{value:"closed",children:"Closed"})]})]})}),p.jsx(Xt,{children:new Date(s.createdAt.toDate()).toLocaleString()}),p.jsx(Xt,{children:s.lastUpdatedAt?new Date(s.lastUpdatedAt.toDate()).toLocaleString():"N/A"}),p.jsx(Xt,{children:l}),p.jsx(Xt,{children:p.jsx(nt,{variant:"ghost",size:"icon",onClick:()=>i(s),children:p.jsx(a0,{className:"w-2 h-2"})})})]},s.id)})})]})}),r&&p.jsx(Rs,{className:"p-0",open:!0,onOpenChange:s=>i(s?r:null),children:p.jsx(Is,{className:"p-0",children:p.jsx(xae,{ticketItem:r,userType:"qa"})})})]})},Zf=({children:t,allowedRoles:e=[]})=>{const[n,r]=T.useState(null),[i,a]=T.useState(null),[s,o]=T.useState(!1),[l,u]=T.useState(!0);return T.useEffect(()=>{const d=Mu(),h=jk(d,async g=>{if(g){r(g);try{const y=hn(st,"users",g.uid),_=await ar(y);if(_.exists()){const v=_.data();a(v.role),v.isQA&&o(!0)}}catch(y){console.error("Error fetching user role:",y)}}else r(null),a(null);u(!1)});return()=>h()},[]),l?p.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-b from-blue-50 to-sky-50",children:p.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})}):n?e.length>0&&!e.includes(i)?p.jsxs("div",{className:"p-8 max-w-md mx-auto bg-red-50 border border-red-200 rounded-lg my-8 text-center shadow-md",children:[p.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Access Denied"}),p.jsx("p",{className:"text-red-700",children:"You don't have permission to access this page"})]}):t:p.jsx(bk,{to:"/login"})},jGe=()=>{const t=fc();return e=>!!(e===t.pathname||e!=="/"&&t.pathname.startsWith(e))},MGe=({items:t,userRole:e,userUid:n})=>{const r=jGe(),[i,a]=T.useState(0),[s,o]=T.useState(!1);T.useEffect(()=>{if(n&&e==="pharmacist"){const u=kt(dn(st,"cases"),tt("pharmacistId","==",n),tt("pharmacistCompleted","==",!1),tt("isIncomplete","!=",!0)),d=Au(u,h=>{const g=h.size;g!==i&&(o(!0),setTimeout(()=>o(!1),2500)),a(g)});return()=>d()}},[n,i]);const l=u=>u?"bg-blue-100 text-blue-800":"text-blue-800 hover:bg-blue-50 hover:text-blue-700";return p.jsx("div",{className:"bg-white shadow-sm",children:p.jsxs("div",{className:"flex max-w-7xl mx-auto px-4 items-center",children:[p.jsx("nav",{className:"flex items-center space-x-4 py-2 flex-grow",children:t.map(u=>p.jsxs(Ek,{to:u.href,className:`flex items-center px-4 py-2 rounded-lg ${l(r(u.href))}`,children:[u.icon,p.jsx("span",{className:"ml-2 font-medium",children:u.name})]},u.name))}),e==="pharmacist"&&p.jsx("div",{className:"flex items-center",children:p.jsxs(Gn,{className:"bg-amber-100 text-amber-800 border-amber-200 px-3 py-1 rounded-md relative overflow-visible",children:[i>0&&p.jsx("span",{className:`absolute -top-1 -right-1 inline-flex w-3 h-3 rounded-full bg-orange-400 opacity-75 ${s?"animate-ping":""}`}),"Reminder: Start recording for all cases assigned to you. Currently ",i," cases are active."]})})]})})};function LGe(){const[t,e]=T.useState(null),[n,r]=T.useState(null),[i,a]=T.useState(null),[s,o]=T.useState(!1),[l,u]=T.useState(!0);T.useEffect(()=>{const g=Mu(),y=jk(g,async _=>{if(e(_),_)try{const v=hn(st,"users",_.uid),b=await ar(v);if(b.exists()){const E=b.data();r(E.role),a(E),E.isQA&&o(!0)}}catch(v){console.error("Error fetching user data:",v)}else r(null),a(null);u(!1)});return()=>y()},[]);const d=()=>{const g=[{name:"Dashboard",href:"/",icon:p.jsx(Sge,{className:"h-5 w-5"})}];return["zonalHead","teamLeader","drManager","superAdmin"].includes(n)&&g.push({name:"Doctor/Pharmacist Status",href:"/medical-dashboard",icon:p.jsx(Rj,{className:"h-5 w-5"})}),["superAdmin","zonalHead","teamLeader","drManager","ro","pharmacist"].includes(n)&&g.push({name:"User Management",href:"/users",icon:p.jsx(nm,{className:"h-5 w-5"})}),["nurse","doctor","pharmacist"].includes(n)&&g.push({name:"Case Management",href:"/cases",icon:p.jsx(cge,{className:"h-5 w-5"})}),n==="nurse"&&g.push({name:"Feedback",href:"/feedback",icon:p.jsx(E8,{className:"h-5 w-5"})}),n==="superAdmin"&&g.push({name:"Analytics",href:"/analytics",icon:p.jsx(G0e,{className:"h-5 w-5"})}),s&&g.push({name:"Tickets Dashboard",href:"/tickets",icon:p.jsx(E8,{className:"h-5 w-5"})}),g},h=()=>"bg-gradient-to-r from-blue-700 to-sky-600";return l?p.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-b from-blue-50 to-sky-50",children:p.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})}):p.jsxs(p.Fragment,{children:[p.jsx("header",{className:`shadow-md ${h()} text-white`,children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Consultation Management System"}),p.jsxs("div",{className:"flex items-center space-x-4",children:[t&&n&&p.jsx("div",{className:"text-sm text-white opacity-90",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[p.jsx("div",{className:"mr-2",children:p.jsx("span",{className:"font-medium",children:t.email})}),p.jsxs("div",{children:["Role:"," ",p.jsx("span",{className:"font-medium",children:n.charAt(0).toUpperCase()+n.slice(1)})]})]})}),p.jsxs("button",{onClick:()=>Mu().signOut(),className:"flex items-center text-sm text-white hover:text-white/80 transition-colors",children:[p.jsx(Pge,{className:"h-4 w-4 mr-1"}),"Sign Out"]})]})]})}),p.jsx(MGe,{items:d(),userRole:n,userUid:t.uid}),p.jsx("div",{className:"h-[calc(120vh-112px)]",children:p.jsx("main",{className:"overflow-auto p-6",children:p.jsx("div",{className:"max-w-9xl mx-auto",children:p.jsxs(wW,{children:[p.jsx(Gs,{path:"/",element:p.jsx(Zf,{children:p.jsx(CIe,{currentUser:{...t,role:n,...i}})})}),p.jsx(Gs,{path:"/medical-dashboard",element:p.jsx(Zf,{allowedRoles:["teamLeader","drManager","zonalHead","superAdmin"],children:p.jsx(pMe,{currentUser:{...t,role:n,...i}})})}),p.jsx(Gs,{path:"/users",element:p.jsx(Zf,{allowedRoles:["superAdmin","zonalHead","teamLeader","drManager","ro","pharmacist"],children:p.jsx(WEe,{})})}),p.jsx(Gs,{path:"/cases",element:p.jsx(Zf,{allowedRoles:["nurse","doctor","pharmacist","drManager","ro","teamLeader","zonalHead","superAdmin"],children:p.jsx(ZEe,{currentUser:{...t,role:n,...i}})})}),p.jsx(Gs,{path:"/feedback",element:p.jsx(Zf,{allowedRoles:["nurse"],children:p.jsx(DGe,{currentUser:{...t,role:n,...i}})})}),p.jsx(Gs,{path:"/tickets",element:p.jsx(Zf,{allowedRoles:["teamLeader"],children:p.jsx(kGe,{currentUser:{...t,role:n,...i}})})}),p.jsx(Gs,{path:"/analytics",element:p.jsx(Zf,{allowedRoles:["superAdmin"],children:p.jsx(CGe,{currentUser:{...t,role:n,...i}})})}),p.jsx(Gs,{path:"*",element:p.jsx(bk,{to:"/"})})]})})})})]})}function FGe(){const[t,e]=T.useState(!1),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=Mu(),a=jk(i,s=>{e(!!s),r(!1)});return()=>a()},[]),n?p.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-b from-blue-50 to-sky-50",children:p.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})}):p.jsx(fle,{children:p.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-sky-50",children:t?p.jsx(LGe,{}):p.jsxs(wW,{children:[p.jsx(Gs,{path:"/login",element:p.jsx(ive,{})}),p.jsx(Gs,{path:"*",element:p.jsx(bk,{to:"/login"})})]})})})}Jse.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(FGe,{})}));export{Rs as $,nn as A,Gn as B,ei as C,Jr as D,sd as E,yY as F,Eme as G,iY as H,Js as I,L1 as J,F1 as K,Dl as L,eh as M,ma as N,un as O,Ed as P,th as Q,$ge as R,Zd as S,Jd as T,s0 as U,bY as V,Xt as W,M1 as X,Ip as Y,Ij as Z,od as _,Kd as a,Is as a0,Gu as a1,ic as a2,Ku as a3,Gv as a4,NGe as a5,dM as a6,hM as a7,Bo as a8,$o as a9,yp as aa,tI as ab,nI as ac,im as ad,sm as ae,am as af,om as ag,Ya as ah,Cj as ai,Lt as aj,ae as ak,wge as al,HGe as am,ru as an,Wu as ao,Yd as b,gt as c,cge as d,nt as e,xi as f,Ti as g,rn as h,eve as i,p as j,A$ as k,T_ as l,Dj as m,tm as n,kC as o,hn as p,st as q,T as r,ar as s,Au as t,kt as u,dn as v,tt as w,zGe as x,qGe as y,ur as z};
